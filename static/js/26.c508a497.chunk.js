"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[26],{12482:(e,t,n)=>{n.d(t,{$7:()=>_,B:()=>b,Fo:()=>w,M7:()=>M,Q5:()=>E,Tq:()=>k,Up:()=>R,XF:()=>I,Ze:()=>y,bK:()=>a,bh:()=>c,id:()=>x,ky:()=>v,qt:()=>Z,tW:()=>C,v9:()=>f,w7:()=>u,wF:()=>s,wS:()=>A,x:()=>h,xS:()=>S,ze:()=>d});var o=n(56002),i=n(31633),r=n(81478);function l(e){return e?Z:k}function s(e,t){return null!==t&&void 0!==t&&t.mode?t.mode:l(e).mode}function a(e,t){return null!=t?t:l(e)}function u(e,t){var n;return s(null==e||null!==(n=e.hasZ)&&void 0!==n&&n,t)}function d(e,t){var n;return a(null==e||null!==(n=e.hasZ)&&void 0!==n&&n,t)}function v(e){const t=g(e);return u(e.geometry,t)}function c(e){const t=g(e),n=u(e.geometry,t);return{mode:n,offset:null!=t&&"on-the-ground"!==n?M(t):0,featureExpressionInfo:null===t||void 0===t?void 0:t.featureExpressionInfo}}function f(e){return p(e)||h(e)}function h(e){var t;return"0"===(null===e||void 0===e||null===(t=e.featureExpressionInfo)||void 0===t?void 0:t.expression)}function p(e){if(!e)return!1;if("on-the-ground"===e.mode)return!1;const t=null!==e&&void 0!==e&&e.featureExpressionInfo?e.featureExpressionInfo.expression:null;return!(!t||"0"===t)}function g(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}const m=(0,o.B)((e,t,n)=>{if(!e)return 0;if("decimal-degrees"===t)return 0;const o="unknown"!==t&&t?t:"meters",r=(0,i.mq)(n);return r?(0,i.oU)(e,o,r):0});function y(e,t){return m(null===e||void 0===e?void 0:e.offset,null===e||void 0===e?void 0:e.unit,t)}function x(e,t,n){var o,i;if(null===n||void 0===n||!n.mode)return;const r=e.hasZ?e.z:0,l=y(n,e.spatialReference);switch(n.mode){case"absolute-height":return r-l;case"on-the-ground":return 0;case"relative-to-ground":return r-((null!==(o=t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"ground"))&&void 0!==o?o:0)+l);case"relative-to-scene":return r-((null!==(i=t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"scene"))&&void 0!==i?i:0)+l)}}function A(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,o)}function S(e,t,n,o){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return w(e,t[0],t[1],t.length>2?t[2]:0,n,o,i)}function w(e,t,n,o,i,r){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(null==r)return;const s=null!=l?l.mode:"absolute-height";if("on-the-ground"===s)return 0;const{absoluteZ:a}=E(t,n,o,i,e,r);return function(e,t,n,o,i,r,l,s){var a,u;const d=y(l,i);switch(s){case"absolute-height":return e-d;case"relative-to-ground":return e-((null!==(a=r.elevationProvider.getElevation(t,n,o,i,"ground"))&&void 0!==a?a:0)+d);case"relative-to-scene":return e-((null!==(u=r.elevationProvider.getElevation(t,n,o,i,"scene"))&&void 0!==u?u:0)+d)}}(a,t,n,o,i,e,l,s)}function E(e,t,n,o,i,r){const l=y(r,o);switch(r.mode){case"absolute-height":return{absoluteZ:n+l,elevation:0};case"on-the-ground":{var s;const n=null!==(s=i.elevationProvider.getElevation(e,t,0,o,"ground"))&&void 0!==s?s:0;return{absoluteZ:n,elevation:n}}case"relative-to-ground":{var a;const r=null!==(a=i.elevationProvider.getElevation(e,t,n,o,"ground"))&&void 0!==a?a:0;return{absoluteZ:n+r+l,elevation:r}}case"relative-to-scene":{var u;const r=null!==(u=i.elevationProvider.getElevation(e,t,n,o,"scene"))&&void 0!==u?u:0;return{absoluteZ:n+r+l,elevation:r}}}}function R(e,t){if(null==t)return!1;const{mode:n}=t;return null!=n&&("scene"===e&&"relative-to-scene"===n||"ground"===e&&"absolute-height"!==n)}function b(e,t,n){return n&&n.mode!==t?"".concat(e," only support ").concat(t," elevation mode"):null}function _(e,t,n){return(null===n||void 0===n?void 0:n.mode)===t?"".concat(e," do not support ").concat(t," elevation mode"):null}function C(e,t){return null!=(null===t||void 0===t?void 0:t.featureExpressionInfo)&&"0"!==t.featureExpressionInfo.expression?"".concat(e," do not support featureExpressionInfo"):null}function I(e,t){t&&e.warn(".elevationInfo=",t)}function M(e){var t;return(null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t?t:0)*(0,r.Ao)(null===e||void 0===e?void 0:e.unit)}const Z={mode:"absolute-height",offset:0},k={mode:"on-the-ground",offset:null}},23456:(e,t,n)=>{n.d(t,{_8:()=>p,uB:()=>g});var o=n(89379),i=n(15941),r=n(20664),l=n(9392),s=n(34111),a=n(76797),u=n(91605),d=n(13312),v=n(45308);function c(e,t){if(!Array.isArray(e)||e.length<t)return!1;for(const n of e)if("number"!=typeof n)return!1;return!0}const f=7645211,h={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new Map([[5773,new u.A({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"})],[3855,new u.A({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"})],[115700,new u.A({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"})],[115701,new u.A({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"})],[6360,new u.A({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"})],[7837,new u.A({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "})]]);function p(e){var t,n,o,i,r;return!(!(null!==(t=e.extensions)&&void 0!==t&&null!==(t=t.ESRI_crs)&&void 0!==t&&t.wkid||null!==(n=e.extensions)&&void 0!==n&&null!==(n=n.ESRI_crs)&&void 0!==n&&n.latestWkid||null!==(o=e.extensions)&&void 0!==o&&null!==(o=o.ESRI_crs)&&void 0!==o&&o.wkt)||(null===(i=e.root)||void 0===i||null===(i=i.extensions)||void 0===i||null===(i=i.ESRI_crs)||void 0===i||null===(i=i.boundingVolume)||void 0===i||!i.box)&&(null===(r=e.root)||void 0===r||null===(r=r.extensions)||void 0===r||null===(r=r.ESRI_crs)||void 0===r||null===(r=r.boundingVolume)||void 0===r||!r.sphere))}function g(e){var t,n,u,p,g,m,y,x,A,S;let w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=new d.A({wkid:4326,vcsWkid:115700}),R=null===(t=e.root)||void 0===t?void 0:t.boundingVolume,b=!1,_=null===e||void 0===e||null===(n=e.root)||void 0===n?void 0:n.transform;if(w&&(null!==(u=e.extensions)&&void 0!==u&&null!==(u=u.ESRI_crs)&&void 0!==u&&u.wkid||null!==(p=e.extensions)&&void 0!==p&&null!==(p=p.ESRI_crs)&&void 0!==p&&p.latestWkid||null!==(g=e.extensions)&&void 0!==g&&null!==(g=g.ESRI_crs)&&void 0!==g&&g.wkt)&&(null!==(m=e.root)&&void 0!==m&&null!==(m=m.extensions)&&void 0!==m&&null!==(m=m.ESRI_crs)&&void 0!==m&&null!==(m=m.boundingVolume)&&void 0!==m&&m.box||null!==(y=e.root)&&void 0!==y&&null!==(y=y.extensions)&&void 0!==y&&null!==(y=y.ESRI_crs)&&void 0!==y&&null!==(y=y.boundingVolume)&&void 0!==y&&y.sphere))E=new d.A(null===(x=e.extensions)||void 0===x?void 0:x.ESRI_crs),R=null===(A=e.root)||void 0===A||null===(A=A.extensions)||void 0===A||null===(A=A.ESRI_crs)||void 0===A?void 0:A.boundingVolume,_=null===(S=e.root)||void 0===S?void 0:S.transform,b=!0;else if(!R)return new a.A(-180,-90,180,90,E);if(R.box){var C;const e=null===(C=R)||void 0===C?void 0:C.box;if(e[3]>f&&e[7]>f&&e[11]>f)return new a.A((0,o.A)((0,o.A)({},h),{},{spatialReference:E}))}const I=(0,l.vt)();if(!b&&R.region&&c(R.region,6)){const e=R.region,t=(0,i.KJ)(e[0]),n=(0,i.KJ)(e[1]),o=e[4],r=(0,i.KJ)(e[2]),l=(0,i.KJ)(e[3]),s=e[5];return new a.A({xmin:t,ymin:n,zmin:o,xmax:r,ymax:l,zmax:s,spatialReference:E})}if(R.sphere&&c(R.sphere,4)){const e=R.sphere,t=(0,l.fA)(e[0],e[1],e[2]),n=e[3]/Math.sqrt(3),o=(0,l.vt)();(0,r.e)(o,t,(0,l.fA)(n,n,n));const i=(0,l.vt)();if((0,r.g)(i,t,(0,l.fA)(n,n,n)),_&&c(_,16)){const e=_;(0,r.t)(I,o,e),(0,r.d)(o,I),(0,r.t)(I,i,e),(0,r.d)(i,I)}b||((0,v.projectBuffer)(o,s.Ro,0,o,d.A.WGS84,0),(0,v.projectBuffer)(i,s.Ro,0,i,d.A.WGS84,0));const u=(0,l.vt)(),f=(0,l.vt)();return(0,r.A)(u,o,i),(0,r.z)(f,o,i),new a.A({xmin:u[0],ymin:u[1],zmin:u[2],xmax:f[0],ymax:f[1],zmax:f[2],spatialReference:E})}if(R.box&&c(R.box,12)){const e=R.box,t=(0,l.fA)(e[0],e[1],e[2]),n=(0,l.fA)(e[3],e[4],e[5]),o=(0,l.fA)(e[6],e[7],e[8]),i=(0,l.fA)(e[9],e[10],e[11]),u=[];for(let r=0;r<8;++r)u.push((0,l.vt)());if((0,r.g)(u[0],t,n),(0,r.g)(u[0],u[0],o),(0,r.g)(u[0],u[0],i),(0,r.a)(u[1],t,n),(0,r.g)(u[1],u[1],o),(0,r.g)(u[1],u[1],i),(0,r.g)(u[2],t,n),(0,r.a)(u[2],u[2],o),(0,r.g)(u[2],u[2],i),(0,r.a)(u[3],t,n),(0,r.a)(u[3],u[3],o),(0,r.g)(u[3],u[3],i),(0,r.g)(u[4],t,n),(0,r.g)(u[4],u[4],o),(0,r.a)(u[4],u[4],i),(0,r.a)(u[5],t,n),(0,r.g)(u[5],u[5],o),(0,r.a)(u[5],u[5],i),(0,r.g)(u[6],t,n),(0,r.a)(u[6],u[6],o),(0,r.a)(u[6],u[6],i),(0,r.a)(u[7],t,n),(0,r.a)(u[7],u[7],o),(0,r.a)(u[7],u[7],i),_&&c(_,16)){const e=_;for(let t=0;t<8;++t)(0,r.t)(u[t],u[t],e)}const f=(0,l.fA)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),h=(0,l.fA)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let l=0;l<8;++l)b||(0,v.projectBuffer)(u[l],s.Ro,0,u[l],d.A.WGS84,0),(0,r.A)(h,h,u[l]),(0,r.z)(f,f,u[l]);return new a.A({xmin:h[0],ymin:h[1],zmin:h[2],xmax:f[0],ymax:f[1],zmax:f[2],spatialReference:E})}return new a.A(-180,-90,180,90,E)}},27645:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var o=n(89379),i=n(6326),r=n(3825),l=n(50076),s=n(81806),a=n(76460),u=n(77717),d=n(50346),v=n(46053),c=(n(47249),n(87990)),f=n(76797),h=n(13312),p=n(25515),g=n(12406),m=n(19502),y=n(31362),x=n(11270),A=n(94729),S=n(5682),w=n(95363),E=n(23456),R=n(12482);let b=class extends((0,m.b)((0,x.q)((0,A.A)((0,S.j)((0,u.P)((0,y.d)((0,g.p)(p.A)))))))){constructor(e){super(e),this.operationalLayerType="GaussianSplatLayer",this.type="gaussian-splat",this.opacity=1,this.minScale=0,this.maxScale=0,this.url=null,this.rootTilesetJSON=null,this.fullExtent=new f.A(-180,-90,180,90,this.spatialReference),this.spatialReference=new h.A({wkid:4326,vcsWkid:115700}),this.esriCrsSpatialReference=null,this.esriCrsFullExtent=null}get supportedSpatialReferences(){return this.initialized&&this.esriCrsSpatialReference?[this.spatialReference,this.esriCrsSpatialReference]:[this.spatialReference]}get fullExtents(){return this.initialized&&this.esriCrsFullExtent?[this.fullExtent,this.esriCrsFullExtent]:[this.fullExtent]}set elevationInfo(e){null!=e&&"absolute-height"!==e.mode||this._set("elevationInfo",e),this._validateElevationInfo(e)}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const t=null!=e?e.signal:null;if(!(0,s.A)("enable-feature:gaussianSplatLayer"))throw new l.A("GaussianSplatLayer-init:not-supported","This layer is currently not supported.");try{await this.loadFromPortal({supportedTypes:["3DTiles Service"],validateItem:e=>{var t;if(null!==(t=e.typeKeywords)&&void 0!==t&&t.includes("GaussianSplat"))return!0;throw new l.A("portal:invalid-layer-item-type","Invalid layer item, expected '${expectedType}' ",{expectedType:"3DTiles Service"})}},e)}catch(n){(0,d.QP)(n)}if(this.url){const e=(0,r.A)(this.url,{query:(0,o.A)((0,o.A)({},this.customParameters),{},{token:this.apiKey}),responseType:"json",signal:t}).then(e=>{this.rootTilesetJSON=e.data;const t=(0,E._8)(this.rootTilesetJSON);this.fullExtent=(0,E.uB)(this.rootTilesetJSON,!1),this.spatialReference=this.fullExtent.spatialReference,t&&(this.esriCrsFullExtent=(0,E.uB)(this.rootTilesetJSON,!0),this.esriCrsSpatialReference=this.esriCrsFullExtent.spatialReference)},e=>{(0,d.QP)(e)});await e}}_validateElevationInfo(e){const t="Gaussian Splat layers";(0,R.XF)(a.A.getLogger(this),(0,R.B)(t,"absolute-height",e)),(0,R.XF)(a.A.getLogger(this),(0,R.tW)(t,e))}};(0,i.Cg)([(0,v.MZ)({type:["GaussianSplatLayer"]})],b.prototype,"operationalLayerType",void 0),(0,i.Cg)([(0,v.MZ)({readOnly:!0})],b.prototype,"type",void 0),(0,i.Cg)([(0,v.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],b.prototype,"opacity",void 0),(0,i.Cg)([(0,v.MZ)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:!1,write:!1}}}})],b.prototype,"minScale",void 0),(0,i.Cg)([(0,v.MZ)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:!1,write:!1}}}})],b.prototype,"maxScale",void 0),(0,i.Cg)([(0,v.MZ)(w.OZ)],b.prototype,"url",void 0),(0,i.Cg)([(0,v.MZ)({type:f.A})],b.prototype,"fullExtent",void 0),(0,i.Cg)([(0,v.MZ)({type:h.A})],b.prototype,"spatialReference",void 0),(0,i.Cg)([(0,v.MZ)({readOnly:!0})],b.prototype,"supportedSpatialReferences",null),(0,i.Cg)([(0,v.MZ)({type:[f.A]})],b.prototype,"fullExtents",null),(0,i.Cg)([(0,v.MZ)({type:["show","hide"]})],b.prototype,"listMode",void 0),(0,i.Cg)([(0,v.MZ)(w.Yj)],b.prototype,"elevationInfo",null),b=(0,i.Cg)([(0,c.$)("esri.layers.GaussianSplatLayer")],b);const _=b},56002:(e,t,n)=>{function o(e){let t,n,o=[],i=!1;return function(){for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return i&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(l,o)||(n=e.apply(this,l),t=this,o=l,i=!0),n}}n.d(t,{B:()=>o})}}]);
//# sourceMappingURL=26.c508a497.chunk.js.map