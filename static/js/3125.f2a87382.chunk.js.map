{"version":3,"file":"static/js/3125.f2a87382.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/MeshLocalVertexSpace.js","../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js","../node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js","../node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/chunks/vec3.js","../node_modules/@arcgis/core/geometry/projection/projectPointToVector.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";let i=class extends(r(e)){constructor(o){super(o),this.type=\"local\",this.origin=c()}};o([s({local:\"local\"},{readOnly:!0})],i.prototype,\"type\",void 0),o([t({type:[Number],nonNullable:!0,json:{write:!0}})],i.prototype,\"origin\",void 0),i=o([p(\"esri.geometry.support.MeshLocalVertexSpace\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class o{constructor(e,t,r,o,h={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...h,schedule:o}).then(e=>{if(void 0===this._thread){this._thread=e,this._promise=null,h.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()}),this._promise.catch(t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t(()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()})}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t,s){return this.invokeMethod(this._mainMethod,e,t,s)}invokeMethod(e,t,s,i){if(this._thread){const r=this._transferLists[e],o=r?r(t):[];return this._thread.invoke(e,t,{transferList:o,signal:s,priority:i})}return this._promise?this._promise.then(()=>(r(s),this.invokeMethod(e,t,s))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then(h):this._promise?this._promise.then(()=>this.broadcast(e,t)):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then(t=>{e.removed||(e.threadHandle=t)})}}function h(){}export{o as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{initializeProjection as r}from\"../projectionUtils.js\";import t from\"../SpatialReference.js\";import{projectPointToVector as o}from\"./projectPointToVector.js\";import{makeDehydratedPoint as e}from\"../../layers/graphics/dehydratedPoint.js\";function n(r,t,e,n,i){return!(null==t||null==n||r.length<2)&&(l.x=r[0],l.y=r[1],l.z=r[2],l.spatialReference=t,o(l,e,n,i))}async function i(t,o,e,i,l,a){return await r(o,i,null,a),n(t,o,e,i,l)}const l=e(0,0,0,t.WGS84);export{n as projectVectorToVector,i as projectVectorToVectorAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{ClonableMixin as e}from\"../../core/Clonable.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";var c;let i=class extends(e(o)){static{c=this}constructor(r){super(r),this.type=\"georeferenced\",this.origin=null}static{this.absolute=new c}};r([s({georeferenced:\"georeferenced\"},{readOnly:!0})],i.prototype,\"type\",void 0),r([t({type:[Number],nonNullable:!1,json:{write:!0}})],i.prototype,\"origin\",void 0),i=c=r([p(\"esri.geometry.support.MeshGeoreferencedVertexSpace\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction t(t,i,s,e){return{x:t,y:i,z:s,hasZ:null!=s,hasM:!1,spatialReference:e,type:\"point\"}}function i(t,i,s,e,n){t.x=i,t.y=s,t.z=e,t.hasZ=null!=e,t.spatialReference=n}class s{constructor(t,i,s,e,n){this.spatialReference=t,this._position=void 0!==n?[i,s,e??0,n??0]:void 0!==e?[i,s,e??0]:[i,s],this._flags=(void 0!==e?1:0)+(void 0!==n?2:0)}get hasZ(){return!(1&~this._flags)}get hasM(){return!(2&~this._flags)}get type(){return\"point\"}get x(){return this._position[0]}get y(){return this._position[1]}get z(){return this.hasZ?this._position[2]:void 0}get m(){return this.hasM?this._position[3]:void 0}}export{s as ImmutableDehydratedPoint,t as makeDehydratedPoint,i as setDehydratedPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";function s(){return n??=(async()=>{const s=await import(\"../../chunks/i3s.js\");return await s.default({locateFile:s=>t(`esri/libs/i3s/${s}`)})})(),n}function i(){n=null}let n;export{i as cleanup,s as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/Logger.js\";import o from\"../../../core/PooledArray.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r}from\"../../../geometry/projectionUtils.js\";import{projectVectorToVector as i}from\"../../../geometry/projection/projectVectorToVector.js\";class n{constructor(s,o,t,e,r,i){this.layout=s,this.interleavedVertexData=o,this.indices=t,this.hasColors=e,this.hasModifications=r,this.positionData=i}}class h{constructor(s,o,t,e,r,i,n){this.componentOffsets=s,this.featureIds=o,this.anchorIds=t,this.anchors=e,this.transformedGeometry=r,this.globalTrafo=i,this.obb=n}}class a extends e{constructor(s){super(\"SceneLayerWorker\",\"process\",{process:s=>[s.geometryBuffer],project:s=>[s.positions.buffer],transformNormals:s=>[s.normals.buffer]},s,{hasInitialize:!0})}setModifications(s,o,t){const e={context:s,modifications:o,isGeodetic:t};return this.broadcast(e,\"setModifications\")}setLegacySchema(s,o){const t=JSON.stringify(o);return this.broadcast({context:s,jsonSchema:t},\"setLegacySchema\")}destroyContext(s){return this.broadcast(s,\"destroyContext\")}async destroyContextAndSelf(s){await this.destroyContext(s),this.destroy()}project(s,o){return this.invokeMethod(\"project\",s,o)}transformNormals(s,o){return this.invokeMethod(\"transformNormals\",s,o)}}const p=new o({deallocator:null}),c=t();function u(o,t,e){p.clear();let n=1/0,h=1/0,a=-1/0,u=-1/0,l=!1;for(const m of t){const o=\"clip\"===m.type?2:\"mask\"===m.type?1:0,t=m.geometry;let f=s=>s;if(t.spatialReference){if(!r(t.spatialReference,e)){s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"im-modification-projection-failed\",\"Can't project modification polygon into layer spatial reference, ignoring modification\",{polygon:t});continue}f=s=>(i(s,t.spatialReference,c,e),c)}else t.hasZ||(c[2]=0,f=s=>(c[0]=s[0],c[1]=s[1],c));l=l||1===o;const d=t.rings.length,g=t.rings.some(s=>s.length<3);if(0===d||g)s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"im-modification-invalid-polygon\",\"Ignoring invalid modification polygon (no rings or rings with less than 3 vertices).\",{polygon:t});else{p.push(o),p.push(d);for(const s of t.rings){p.push(s.length);for(const o of s){const s=f(o);p.push(s[0]),p.push(s[1]),p.push(s[2]),n=Math.min(n,s[0]),h=Math.min(h,s[1]),a=Math.max(a,s[0]),u=Math.max(u,s[1])}}}}if(null!=o)if(l){const s=1e-4;p.push(2),p.push(2),p.push(4),p.push(n-s),p.push(h-s),p.push(0),p.push(a+s),p.push(h-s),p.push(0),p.push(a+s),p.push(u+s),p.push(0),p.push(n-s),p.push(u+s),p.push(0),p.push(4),p.push(o[0]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[3]),p.push(0),p.push(o[0]),p.push(o[3]),p.push(0)}else p.push(1),p.push(1),p.push(4),p.push(o[0]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[3]),p.push(0),p.push(o[0]),p.push(o[3]),p.push(0);p.push(3);const f=new Float64Array(p.length);for(let s=0;s<p.length;++s)f[s]=p.at(s);return f}export{a as I3SMeshWorkerHandle,h as TransformedData,n as TransformedGeometry,u as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{hasScaling as e}from\"../../../core/mathUtils.js\";import r from\"../../../geometry/SpatialReference.js\";import{ensurePackedMat4f64 as t,ensurePackedArray as o}from\"../../../geometry/support/DoubleArray.js\";import n from\"../../../geometry/support/MeshGeoreferencedVertexSpace.js\";import s from\"../../../geometry/support/MeshLocalVertexSpace.js\";import{b as i,n as a}from\"../../../chunks/vec3.js\";import{get as f,cleanup as c}from\"../../../libs/i3s/I3SModule.js\";import{TransformedGeometry as l,TransformedData as u}from\"./I3SMeshWorkerHandle.js\";async function m(e){A=await N();const r=[e.geometryBuffer];return{result:L(A,e,r),transferList:r}}async function y(e){A=await N();const r=[e.geometryBuffer],{geometryBuffer:t}=e,o=t.byteLength,n=A._malloc(o),s=new Uint8Array(A.HEAPU8.buffer,n,o);s.set(new Uint8Array(t));const i=A.dracoDecompressPointCloudData(n,s.byteLength);if(A._free(n),i.error.length>0)throw new Error(`i3s.wasm: ${i.error}`);const a=i.featureIds?.length>0?i.featureIds.slice():null,f=i.positions.slice();return a&&r.push(a.buffer),r.push(f.buffer),{result:{positions:f,featureIds:a},transferList:r}}async function p(e){await N(),S(e);const r={buffer:e.buffer};return{result:r,transferList:[r.buffer]}}async function h(e){await N(),j(e)}async function b(e){A=await N(),A.setLegacySchema(e.context,e.jsonSchema)}async function d(e){const{localMatrix:i,origin:a,positions:f,vertexSpace:c}=e,l=r.fromJSON(e.inSpatialReference),u=r.fromJSON(e.outSpatialReference),m=i?t(i):void 0,y=o(a);let p;const[{projectBuffer:h},{initializeProjection:b}]=await Promise.all([import(\"../../../geometry/projection/projectBuffer.js\"),import(\"../../../geometry/projectionUtils.js\")]);await b(l,u);const d=[0,0,0];if(!h(y,l,0,d,u,0))throw new Error(\"Failed to project\");if(\"georeferenced\"===c.type&&null==c.origin){if(p=new Float64Array(f.length),!h(f,l,0,p,u,0,p.length/3))throw new Error(\"Failed to project\")}else{const e=\"georeferenced\"===c.type?n.fromJSON(c):s.fromJSON(c),{projectMeshVertexPositions:r}=await import(\"../../../geometry/support/meshUtils/projectMeshVertexPositions.js\"),t=r({vertexAttributes:{position:f},transform:m?{localMatrix:m}:void 0,vertexSpace:e,spatialReference:l},u);if(!t)throw new Error(\"Failed to project\");p=t}const g=p.length,[w,E,A]=d;for(let r=0;r<g;r+=3)p[r]-=w,p[r+1]-=E,p[r+2]-=A;return{result:{projected:p,original:f,projectedOrigin:d},transferList:[p.buffer,f.buffer]}}async function g({normalMatrix:r,normals:t}){const o=new Float32Array(t.length);return i(o,t,r),e(r)&&a(o,o),{result:{transformed:o,original:t},transferList:[o.buffer,t.buffer]}}function w(e){_(e)}let E,A;function j(e){if(!A)return;const r=e.modifications,t=A._malloc(8*r.length),o=new Float64Array(A.HEAPU8.buffer,t,r.length);for(let n=0;n<r.length;++n)o[n]=r[n];A.setModifications(e.context,t,r.length,e.isGeodetic),A._free(t)}function L(e,r,t){const{context:o,globalTrafo:n,mbs:s,obbData:i,elevationOffset:a,geometryBuffer:f,geometryDescriptor:c,indexToVertexProjector:m,vertexToRenderProjector:y}=r,p=e._malloc(f.byteLength),h=33,b=e._malloc(h*Float64Array.BYTES_PER_ELEMENT),d=new Uint8Array(e.HEAPU8.buffer,p,f.byteLength);d.set(new Uint8Array(f));const g=new Float64Array(e.HEAPU8.buffer,b,h);P(g,[NaN,NaN,NaN]);let w=g.byteOffset+3*g.BYTES_PER_ELEMENT,E=new Float64Array(g.buffer,w);P(E,n),w+=16*g.BYTES_PER_ELEMENT,E=new Float64Array(g.buffer,w),P(E,s),w+=4*g.BYTES_PER_ELEMENT,i&&(E=new Float64Array(g.buffer,w),P(E,i));const A=c,j={isDraco:!1,isLegacy:!1,color:r.layouts.some(e=>e.some(e=>\"color\"===e.name)),normal:r.needNormals&&r.layouts.some(e=>e.some(e=>\"normalCompressed\"===e.name)),uv0:r.layouts.some(e=>e.some(e=>\"uv0\"===e.name)),uvRegion:r.layouts.some(e=>e.some(e=>\"uvRegion\"===e.name)),featureIndex:A.featureIndex},L=e.process(o,!!r.obbData,p,d.byteLength,A,j,b,a,m,y,r.normalReferenceFrame);if(e._free(b),e._free(p),L.error.length>0)throw new Error(`i3s.wasm: ${L.error}`);if(L.discarded)return null;const x=L.componentOffsets.length>0?L.componentOffsets.slice():null,S=L.featureIds.length>0?L.featureIds.slice():null,_=L.anchorIds.length>0?Array.from(L.anchorIds):null,M=L.anchors.length>0?Array.from(L.anchors):null,N=L.interleavedVertedData.slice().buffer,U=1===L.indicesType?new Uint16Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/2).slice():new Uint32Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/4).slice(),F=L.positions.slice(),{buffer:T,byteOffset:v,byteLength:B}=L.positionIndices,I=1===L.positionIndicesType?new Uint16Array(T,v,B/2).slice():new Uint32Array(T,v,B/4).slice(),O=new l(r.layouts[0],N,U,L.hasColors,L.hasModifications,{data:F,indices:I});return S&&t.push(S.buffer),x&&t.push(x.buffer),t.push(N),t.push(U.buffer),t.push(F.buffer),t.push(I.buffer),new u(x,S,_,M,O,n,L.obb)}function x(e){return 0===e?0:1===e?1:2===e?2:3}function S(e){if(!A)return;const{context:r,buffer:t}=e,o=A._malloc(t.byteLength),n=t.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(A.HEAPU8.buffer,o,n),i=new Float64Array(t);s.set(i),A.filterOBBs(r,o,n),i.set(s),A._free(o)}function _(e){A&&0===A.destroy(e)&&(A=null,E=null,c())}function P(e,r){for(let t=0;t<r.length;++t)e[t]=r[t]}async function M(){A||await N()}async function N(){return A||(A=await(E??=f())),A}const U={transform:(e,r)=>A&&L(A,e,r),destroy:_};export{w as destroyContext,y as dracoDecompressPointCloudData,p as filterObbsForModifications,S as filterObbsForModificationsSync,M as initialize,x as interpretObbModificationResults,m as process,d as project,b as setLegacySchema,h as setModifications,j as setModificationsSync,U as test,g as transformNormals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{colorGamma as t}from\"../colorUtils.js\";import\"../core/has.js\";import\"../core/Logger.js\";function e(t,e,f){r(t.typedBuffer,e.typedBuffer,f,t.typedBufferStride,e.typedBufferStride)}function r(t,e,r,f=3,n=f){if(t.length/f!==Math.ceil(e.length/n))return t;const o=t.length/f,i=r[0],u=r[1],l=r[2],a=r[4],s=r[5],d=r[6],c=r[8],p=r[9],h=r[10],y=r[12],B=r[13],g=r[14];let S=0,m=0;for(let M=0;M<o;M++){const r=e[S],o=e[S+1],M=e[S+2];t[m]=i*r+a*o+c*M+y,t[m+1]=u*r+s*o+p*M+B,t[m+2]=l*r+d*o+h*M+g,S+=n,m+=f}return t}function f(t,e,r){n(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function n(t,e,r,f=3,n=f){if(t.length/f!==Math.ceil(e.length/n))return;const o=t.length/f,i=r[0],u=r[1],l=r[2],a=r[3],s=r[4],d=r[5],c=r[6],p=r[7],h=r[8];let y=0,B=0;for(let g=0;g<o;g++){const r=e[y],o=e[y+1],g=e[y+2];t[B]=i*r+a*o+c*g,t[B+1]=u*r+s*o+p*g,t[B+2]=l*r+d*o+h*g,y+=n,B+=f}}function o(t,e,r){i(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function i(t,e,r,f=3,n=f){const o=Math.min(t.length/f,e.length/n);let i=0,u=0;for(let l=0;l<o;l++)t[u]=r*e[i],t[u+1]=r*e[i+1],t[u+2]=r*e[i+2],i+=n,u+=f;return t}function u(t,e,r,f){l(t.typedBuffer,e.typedBuffer,r,f,t.typedBufferStride,e.typedBufferStride)}function l(e,r,f,n,o=3,i=o){const u=Math.min(e.length/o,r.length/i);let l=0,a=0;const s=1/t;for(let t=0;t<u;t++)e[a]=n*(f*r[l])**s,e[a+1]=n*(f*r[l+1])**s,e[a+2]=n*(f*r[l+2])**s,l+=i,a+=o}function a(t,e,r,f=3,n=f){const o=t.length/f;if(o!==Math.ceil(e.length/n))return t;let i=0,u=0;for(let l=0;l<o;l++)t[u]=e[i]+r[0],t[u+1]=e[i+1]+r[1],t[u+2]=e[i+2]+r[2],i+=n,u+=f;return t}function s(t,e){d(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function d(t,e,r=3,f=r){const n=Math.min(t.length/r,e.length/f);let o=0,i=0;for(let u=0;u<n;u++){const n=e[o],u=e[o+1],l=e[o+2],a=n*n+u*u+l*l;if(a>0){const e=1/Math.sqrt(a);t[i]=e*n,t[i+1]=e*u,t[i+2]=e*l}o+=f,i+=r}}function c(t,e,r){const f=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,u=e.typedBufferStride;let l=0,a=0;for(let s=0;s<f;s++)n[a]=i[l]>>r,n[a+1]=i[l+1]>>r,n[a+2]=i[l+2]>>r,l+=u,a+=o}const p=Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:u,normalize:d,normalizeView:s,scale:i,scaleView:o,shiftRight:c,transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:e,translate:a},Symbol.toStringTag,{value:\"Module\"}));export{a,n as b,f as c,e as d,s as e,l as f,i as g,c as h,u as l,d as n,o as s,r as t,p as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as r,tryProjectWithZConversion as t,initializeProjection as o}from\"../projectionUtils.js\";import{projectBuffer as n}from\"./projectBuffer.js\";function i(e,o,i,c){if(r(e.spatialReference,i)){f[0]=e.x,f[1]=e.y;const r=e.z;return f[2]=r??c??0,n(f,e.spatialReference,0,o,i,0)}const s=t(e,i);return!!s&&(o[0]=s?.x,o[1]=s?.y,o[2]=s?.z??c??0,!0)}async function c(e,r,t,n,c){return await o(e.spatialReference,t,null,c),i(e,r,t,n)}const f=e();export{i as projectPointToVector,c as projectPointToVectorAsync};\n"],"names":["i","r","e","constructor","o","super","this","type","origin","c","s","local","readOnly","prototype","t","Number","nonNullable","json","write","p","h","arguments","length","undefined","_mainMethod","_transferLists","_listeners","_promise","_objectSpread","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","getLogger","error","concat","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","transferList","signal","priority","Promise","reject","all","promise","n","l","x","y","z","spatialReference","WGS84","_Class","absolute","georeferenced","hasZ","hasM","layout","interleavedVertexData","indices","hasColors","hasModifications","positionData","componentOffsets","featureIds","anchorIds","anchors","transformedGeometry","globalTrafo","obb","deallocator","async","m","A","N","geometryBuffer","result","L","_i$featureIds","byteLength","_malloc","Uint8Array","HEAPU8","buffer","set","dracoDecompressPointCloudData","_free","Error","a","slice","f","positions","S","j","b","setLegacySchema","context","jsonSchema","d","localMatrix","vertexSpace","fromJSON","inSpatialReference","u","outSpatialReference","projectBuffer","initializeProjection","Float64Array","projectMeshVertexPositions","vertexAttributes","position","transform","g","w","E","projected","original","projectedOrigin","_ref","normalMatrix","normals","Float32Array","transformed","_","modifications","setModifications","isGeodetic","mbs","obbData","elevationOffset","geometryDescriptor","indexToVertexProjector","vertexToRenderProjector","BYTES_PER_ELEMENT","P","NaN","byteOffset","isDraco","isLegacy","color","layouts","some","name","normal","needNormals","uv0","uvRegion","featureIndex","process","normalReferenceFrame","discarded","Array","from","M","interleavedVertedData","U","indicesType","Uint16Array","Uint32Array","F","T","v","B","positionIndices","I","positionIndicesType","O","data","filterOBBs","default","locateFile","typedBuffer","typedBufferStride","Math","ceil","min","sqrt","Object","freeze","defineProperty","__proto__","linearToSRGB","linearToSRGBView","normalize","normalizeView","scale","scaleView","shiftRight","count","transformMat3","transformMat3View","transformMat4","transformMat4View","translate","Symbol","toStringTag","value","_ref2","_s$z"],"sourceRoot":""}