{"version":3,"file":"static/js/2413.c0c8d9f6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/programUtils.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/views/webgl/ProgramCache.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js","../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js","../node_modules/@arcgis/core/core/memoryEstimations.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e){const{options:n,value:o}=e;return\"number\"==typeof n[o]}function n(n){let o=\"\";for(const t in n){const i=n[t];if(\"boolean\"==typeof i)i&&(o+=`#define ${t}\\n`);else if(\"number\"==typeof i)o+=`#define ${t} ${i.toFixed()}\\n`;else if(\"object\"==typeof i)if(e(i)){const{value:e,options:n,namespace:f}=i,s=f?`${f}_`:\"\";for(const t in n)o+=`#define ${s}${t} ${n[t].toFixed()}\\n`;o+=`#define ${t} ${s}${e}\\n`}else{const e=i.options;let n=0;for(const t in e)o+=`#define ${e[t]} ${(n++).toFixed()}\\n`;o+=`#define ${t} ${e[i.value]}\\n`}}return o}export{n as glslifyDefineMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"../../core/Logger.js\";import{disposeMaybe as t}from\"../../core/maybe.js\";import{BufferObject as r}from\"./BufferObject.js\";import{webglDebugEnabled as i}from\"./checkWebGLError.js\";import{ResourceType as s,ColorAttachment0 as n,PixelType as h,StencilAttachment as o,SizedDepthStencilFormat as c,DepthStencilAttachment as a,SizedDepthFormat as u,DepthAttachment as f}from\"./enums.js\";import{Renderbuffer as l}from\"./Renderbuffer.js\";import{Texture as d}from\"./Texture.js\";const _=()=>e.getLogger(\"esri.views.webgl.FramebufferObject\");class m{constructor(e,t,r){if(this._context=e,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,e.instanceCounter.increment(s.FramebufferObject,this),null!=t){const r=E(e,t);null!=r&&(this._colorAttachments.set(n,r),p(r)?this._validateTextureDescriptor(r.descriptor):this._validateRenderbufferDescriptor(r.descriptor)),this._validateColorAttachmentPoint(n)}if(null!=r)if(x(r))this._depthStencilTexture=p(r)?r:new d(e,r),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=T(r)?r:new l(e,r);this._depthStencilBuffer=t,this._validateRenderbufferDescriptor(t.descriptor)}}dispose(){const{_colorAttachments:e,_glName:t}=this;if(0===e.size&&!this._depthStencilBuffer&&!this._depthStencilTexture&&!t)return;const{_context:r}=this,i=r.getBoundFramebufferObject();e.forEach((e,t)=>this.detachColorTexture(t)?.dispose()),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),r.gl.deleteFramebuffer(t),this._glName=null,r.bindFramebuffer(i===this?null:i),r.instanceCounter.decrement(s.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){const e=this._colorAttachments.get(n);return p(e)?e:null}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const e=this._colorAttachments.get(n)??this._depthStencilTexture??this._depthStencilBuffer;return e?.descriptor?.width??0}get height(){const e=this._colorAttachments.get(n)??this._depthStencilTexture??this._depthStencilBuffer;return e?.descriptor?.height??0}get usedMemory(){return[...this._colorAttachments].reduce((e,[t,r])=>e+r.usedMemory,this.depthStencil?.usedMemory??0)}static{this._MAX_COLOR_ATTACHMENTS=-1}getColorTexture(e){const t=this._colorAttachments.get(e);return t&&p(t)?t:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(e,t=n){if(!e)return;this._validateColorAttachmentPoint(t);const{descriptor:r}=e;this._validateTextureDescriptor(r),this.detachColorTexture(t)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(e.glName,t)),this._colorAttachments.set(t,e)}detachColorTexture(e=n){const t=this._colorAttachments.get(e);if(!t)return;const r=p(t);return this._initialized&&this._context.temporaryBindFramebufferObject(this,()=>{if(r)this._framebufferTexture2D(null,e);else{const t=this._context.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,e,t.RENDERBUFFER,null)}}),this._colorAttachments.delete(e),r?t:void 0}setColorTextureTarget(e,t=n,r=0){const i=this._colorAttachments.get(t);i&&(35866===e?this._framebufferTextureLayer(i.glName,t,36160,0,r):this._framebufferTexture2D(i.glName,t,e,36160,0))}attachDepthStencil(e){if(e)switch(e.type){case 1:return this._attachDepthStencilTexture(e);case 2:return this._attachDepthStencilBuffer(e)}}_attachDepthStencilTexture(e){if(null==e)return;const{descriptor:t}=e,{pixelFormat:r,dataType:i}=t;34041===r||6402===r?34041!==r||i===h.UNSIGNED_INT_24_8?6402!==r||i===h.UNSIGNED_INT||i===h.UNSIGNED_SHORT?(this._validateTextureDescriptor(t),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(e.glName,A(r))),this._depthStencilTexture?.dispose(),this._depthStencilTexture=e):console.error(\"Depth texture must have data type of UNSIGNED_INT or UNSIGNED_SHORT!\"):console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"):console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\")}detachDepthStencilTexture(){const e=this._depthStencilTexture;return e&&this._initialized&&this._context.temporaryBindFramebufferObject(this,()=>{this._framebufferTexture2D(null,A(e.descriptor.pixelFormat))}),this._depthStencilTexture=null,e}_attachDepthStencilBuffer(e){if(null==e)return;const t=e.descriptor;if(this._validateRenderbufferDescriptor(t),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const{gl:r}=this._context,i=this._getGLAttachmentPoint(t);r.framebufferRenderbuffer(36160,i,r.RENDERBUFFER,e.glName)}this._depthStencilBuffer=e}detachDepthStencilBuffer(){const e=this._depthStencilBuffer;if(e&&this._initialized){const{_context:t}=this,r=t.getBoundFramebufferObject();t.bindFramebuffer(this);const{gl:i}=t,s=this._getGLAttachmentPoint(e.descriptor);i.framebufferRenderbuffer(36160,s,i.RENDERBUFFER,null),t.bindFramebuffer(r)}return this._depthStencilBuffer=null,e}invalidateAttachments(e){const{_context:t}=this;t.temporaryBindFramebufferObject(this,()=>t.gl.invalidateFramebuffer(36160,e),!0)}copyToTexture(e,t,r,i,s,n,h){(e<0||t<0||s<0||n<0)&&console.error(\"Offsets cannot be negative!\"),(r<=0||i<=0)&&console.error(\"Copy width and height must be greater than zero!\");const o=h.descriptor;3553!==h.descriptor.target&&console.error(\"Texture target must be TEXTURE_2D!\"),(null==o?.width||null==o?.height||e+r>this.width||t+i>this.height||s+r>o.width||n+i>o.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const c=this._context,a=c.bindTexture(h,d.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(d.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(3553,0,s,n,e,t,r,i),c.bindTexture(a,d.TEXTURE_UNIT_FOR_UPDATES)}readPixels(e,t,r,i,s,n,h){(r<=0||i<=0)&&console.error(\"Copy width and height must be greater than zero!\"),h||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this),this._context.gl.readPixels(e,t,r,i,s,n,h)}async readPixelsAsync(e,t,i,s,n,h,o){const{gl:c}=this._context,a=r.createPixelPack(this._context,35041,o.byteLength);this._context.bindBuffer(a);const u=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),c.readPixels(e,t,i,s,n,h,0),this._context.unbindBuffer(35051),this._context.bindFramebuffer(u),await a.getSubDataAsync(o),a.dispose()}resize(e,t){if(this.width===e&&this.height===t)return;const r={width:e,height:t};if(F(r,this._context.parameters.maxTextureSize),this._colorAttachments.forEach(e=>e.resize(r.width,r.height)),this._depthStencilTexture?.resize(r.width,r.height),this._initialized&&(F(r,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(r.width,r.height),i())){const{gl:e}=this._context;e.checkFramebufferStatus(36160)!==e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}}initializeAndBind(e=36160){const{gl:t}=this._context;if(this._initialized)return void t.bindFramebuffer(e,this.glName);this._glName&&t.deleteFramebuffer(this._glName);const r=t.createFramebuffer();if(t.bindFramebuffer(e,r),this._colorAttachments.forEach((t,r)=>{if(p(t)){const i=D(t);35866===i?this._framebufferTextureLayer(t.glName,r,e,0,0):this._framebufferTexture2D(t.glName,r,i,e)}else if(T(t)){const i=this._context.gl;i.framebufferRenderbuffer(e,r,i.RENDERBUFFER,t.glName)}}),this._depthStencilBuffer){const r=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(e,r,t.RENDERBUFFER,this._depthStencilBuffer.glName)}else if(this._depthStencilTexture){const t=A(this._depthStencilTexture.descriptor.pixelFormat);this._framebufferTexture2D(this._depthStencilTexture.glName,t,D(this._depthStencilTexture),e)}if(i()){t.checkFramebufferStatus(e)!==t.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}this._glName=r,this._initialized=!0}_framebufferTexture2D(e,t=n,r=3553,i=36160,s=0){this._context.gl.framebufferTexture2D(i,t,r,e,s)}_framebufferTextureLayer(e,t=n,r=36160,i=0,s=0){this._context.gl.framebufferTextureLayer(r,t,e,i,s)}_disposeDepthStencilAttachments(){const e=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const t=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(36160,t,e.RENDERBUFFER,null)}this._depthStencilBuffer=t(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,A(this._depthStencilTexture.descriptor.pixelFormat))),this._depthStencilTexture=t(this._depthStencilTexture))}_validateTextureDescriptor(e){3553!==e.target&&34067!==e.target&&35866!==e.target&&console.error(\"Texture type must be TEXTURE_2D, TEXTURE_2D_ARRAY or TEXTURE_CUBE_MAP!\"),F(e,this._context.parameters.maxTextureSize),this._validateBufferDimensions(e)}_validateRenderbufferDescriptor(e){F(e,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(e)}_validateBufferDimensions(e){e.width<=0&&(e.width=this.width),e.height<=0&&(e.height=this.height),this.width>0&&this.height>0&&(this.width===e.width&&this.height===e.height||console.error(\"Attachment size must match framebuffer size!\"))}_getGLAttachmentPoint(e){switch(e.internalFormat){case u.DEPTH_COMPONENT16:case u.DEPTH_COMPONENT24:case u.DEPTH_COMPONENT32F:return f;case c.DEPTH24_STENCIL8:case c.DEPTH32F_STENCIL8:return a;case 36168:return o;default:return n}}_validateColorAttachmentPoint(t){if(-1===m._MAX_COLOR_ATTACHMENTS){const{gl:e}=this._context;m._MAX_COLOR_ATTACHMENTS=e.getParameter(e.MAX_COLOR_ATTACHMENTS)}const r=t-n;r+1>m._MAX_COLOR_ATTACHMENTS&&e.getLogger(\"esri.views.webgl.FrameBufferObject\").error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${r+1}. Implementation supports up to ${m._MAX_COLOR_ATTACHMENTS} color attachments`)}}function p(e){return 1===S(e)}function T(e){return 2===S(e)}function x(e){return p(e)||b(e)}function b(e){return 0===S(e)}function g(e){return 3===S(e)||null!=e&&\"samples\"in e}function S(e){return null!=e&&\"type\"in e?e.type:null}function E(e,t){return p(t)||T(t)?t:b(t)?new d(e,t):g(t)?new l(e,t):null}function F(e,t){const r=Math.max(e.width,e.height);if(r>t){_().warnOnce(`Resizing FBO attachment size ${e.width}x${e.height} to device limit ${t}`);const i=t/r;return e.width=Math.round(e.width*i),e.height=Math.round(e.height*i),!1}return!0}function D(e){return 34067===e.descriptor.target?34069:35866===e.descriptor.target?35866:3553}function A(e){return 6402===e?f:a}export{m as FramebufferObject,F as ensureAttachmentMaxSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{Program as r}from\"./Program.js\";class t{constructor(r){this._rctx=r,this._store=new Map}dispose(){this._store.forEach(r=>r.dispose()),this._store.clear()}acquire(t,s,e,o){const i=t+s+JSON.stringify(Array.from(e.entries())),c=this._store.get(i);if(null!=c)return c.ref(),c;const n=new r(this._rctx,t,s,e,o);return n.ref(),this._store.set(i,n),n}get test(){}}export{t as ProgramCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../core/has.js\";import{ResourceType as e}from\"./enums.js\";import{estimateMemory as t}from\"./RenderbufferDescriptor.js\";const r=!!has(\"esri-tests-disable-gpu-memory-measurements\");class s{constructor(t,r){this._context=t,this._descriptor=r,this.type=2,this._context.instanceCounter.increment(e.Renderbuffer,this);const s=this._context.gl;this.glName=s.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:i,height:n,internalFormat:o,multisampled:h}=r;h?s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,o,i,n):s.renderbufferStorage(s.RENDERBUFFER,o,i,n),this._context.bindRenderbuffer(null)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get usedMemory(){return r?0:t(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;this._context.bindRenderbuffer(this),r.multisampled?s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height):s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height),this._context.bindRenderbuffer(null)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(e.Renderbuffer,this),this._context=null)}}export{s as Renderbuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getFormatBytesPerElement as t}from\"./Util.js\";class i{constructor(t,i=0,h=i,r=!1,s=1){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=r,this.samples=s}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*t(i.internalFormat)}export{i as RenderbufferDescriptor,h as estimateMemory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isTypedArray as r}from\"./typedArrayUtil.js\";function t(r){return 32+r.length}const n=16;function e(r){if(!r)return 0;let t=s;for(const n in r)r.hasOwnProperty(n)&&(t+=f(r[n],!1));return t}function u(r){if(!r)return 0;if(\"number\"==typeof r[0])return i(r);if(Array.isArray(r))return o(r);let t=s;for(const n in r)r.hasOwnProperty(n)&&(t+=f(r[n]));return t}function o(r){const t=r.length;if(0===t||\"number\"==typeof r[0])return c(r,8);let n=a;for(let e=0;e<t;e++)n+=f(r[e]);return n}function f(r,e=!0){switch(typeof r){case\"object\":return e?u(r):s;case\"string\":return t(r);case\"number\":return n;case\"boolean\":return 4;default:return 8}}function i(...t){return t.reduce((t,e)=>t+(e?r(e)?e.byteLength+y:Array.isArray(e)?c(e,n):0:0),0)}function c(r,t){return a+r.length*t}const s=32,a=16,y=145;export{a as baseArrayMemory,s as baseObjectMemory,y as baseTypedArrayMemory,e as estimateAttributesMemory,c as estimateFixedArrayMemory,u as estimateNestedObjectMemory,i as estimateNumberArrayMemory,n as estimateNumberMemory,t as estimateStringMemory};\n"],"names":["e","options","n","value","o","t","i","concat","toFixed","namespace","f","s","m","constructor","r","this","_context","_glName","_colorAttachments","Map","_depthStencilBuffer","_depthStencilTexture","_initialized","instanceCounter","increment","FramebufferObject","p","T","b","d","S","g","l","E","set","_validateTextureDescriptor","descriptor","_validateRenderbufferDescriptor","_validateColorAttachmentPoint","x","dispose","_this$detachDepthSten","_this$detachDepthSten2","size","getBoundFramebufferObject","forEach","_this$detachColorText","detachColorTexture","detachDepthStencilBuffer","detachDepthStencilTexture","gl","deleteFramebuffer","bindFramebuffer","decrement","glName","colorTexture","get","depthStencil","depthStencilTexture","width","_ref","_this$_colorAttachmen","_e$descriptor$width","_e$descriptor","height","_ref2","_this$_colorAttachmen2","_e$descriptor$height","_e$descriptor2","usedMemory","_this$depthStencil$us","_this$depthStencil","reduce","_ref3","getColorTexture","colorAttachments","keys","attachColorTexture","_this$detachColorText2","arguments","length","undefined","_framebufferTexture2D","temporaryBindFramebufferObject","framebufferRenderbuffer","FRAMEBUFFER","RENDERBUFFER","delete","setColorTextureTarget","_framebufferTextureLayer","attachDepthStencil","type","_attachDepthStencilTexture","_attachDepthStencilBuffer","_this$_depthStencilTe","pixelFormat","dataType","h","UNSIGNED_INT_24_8","UNSIGNED_INT","UNSIGNED_SHORT","_disposeDepthStencilAttachments","A","console","error","_getGLAttachmentPoint","invalidateAttachments","invalidateFramebuffer","copyToTexture","target","c","a","bindTexture","TEXTURE_UNIT_FOR_UPDATES","setActiveTexture","copyTexSubImage2D","readPixels","readPixelsAsync","createPixelPack","byteLength","bindBuffer","u","unbindBuffer","getSubDataAsync","resize","_this$_depthStencilTe2","_this$_depthStencilBu","F","parameters","maxTextureSize","maxRenderbufferSize","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","initializeAndBind","createFramebuffer","D","framebufferTexture2D","framebufferTextureLayer","_validateBufferDimensions","internalFormat","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH_COMPONENT32F","DEPTH24_STENCIL8","DEPTH32F_STENCIL8","_MAX_COLOR_ATTACHMENTS","getParameter","MAX_COLOR_ATTACHMENTS","getLogger","Math","max","warnOnce","round","_rctx","_store","clear","acquire","JSON","stringify","Array","from","entries","ref","test","has","_descriptor","Renderbuffer","createRenderbuffer","bindRenderbuffer","multisampled","renderbufferStorageMultisample","samples","renderbufferStorage","maxSamples","min","deleteRenderbuffer","hasOwnProperty","isArray","_len","_key","y"],"sourceRoot":""}