{"version":3,"file":"static/js/9845.3b3d83a7.chunk.js","mappings":"gOAIyC,MAAMA,EAAE,gBAAgBC,EAAEA,IAAI,IAAIC,MAAM,MAAMC,UAAUC,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,GAADC,OAAIP,EAAC,gBAAe,wCAAwCC,IAAI,EAAE,MAAMO,UAAUJ,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,GAADC,OAAIP,EAAC,mBAAkB,8BAA8BC,IAAI,EAAE,MAAMQ,UAAUL,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,GAADC,OAAIP,EAAC,wBAAuB,qCAAqCC,IAAI,EAAE,MAAMS,UAAUN,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,GAADC,OAAIP,EAAC,gBAAe,wDAAwDC,IAAI,EAAE,MAAMU,UAAUP,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,GAADC,OAAIP,EAAC,8BAA6B,iDAAiDC,IAAI,EAAE,MAAMW,UAAUR,EAAAA,EAAEC,WAAAA,CAAYD,EAAED,GAAGG,MAAM,GAADC,OAAIP,EAAC,2CAAAO,OAA0CH,EAAC,wBAAAG,OAAuBJ,EAAC,aAAYF,IAAI,EAAE,MAAMY,UAAUT,EAAAA,EAAEC,WAAAA,CAAYD,EAAED,GAAE,IAAAW,EAAAC,EAACT,MAAM,GAADC,OAAIP,EAAC,sDAAAO,OAAqDH,EAAC,kBAAAG,OAAwB,QAAxBO,EAAkB,OAADX,QAAC,IAADA,OAAC,EAADA,EAAGa,YAAI,IAAAF,EAAAA,EAAE,KAAI,qBAAAP,OAA+B,QAA/BQ,EAAqB,OAADZ,QAAC,IAADA,OAAC,EAADA,EAAGc,gBAAQ,IAAAF,EAAAA,EAAE,WAAYd,IAAI,EAAE,MAAMiB,UAAUd,EAAAA,EAAEC,WAAAA,CAAYD,GAAGE,MAAM,GAADC,OAAIP,EAAC,sFAAAO,OAAqFH,EAAC,uDAAsDH,IAAI,EAAE,MAAMkB,UAAUf,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,GAADC,OAAIP,EAAC,qBAAoB,oBAAoB,EAAE,MAAMoB,UAAUhB,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,yBAAyB,2BAA2B,EAAE,MAAMe,UAAUjB,EAAAA,EAAEC,WAAAA,GAAcC,MAAM,gCAAgC,kCAAkC,E,6DCA7wC,SAASE,EAAEA,GAAG,MAAMR,EAAE,GAAEC,EAAAA,EAAAA,IAAEO,EAAE,GAAG,OAAO,IAAIR,EAAE,IAAIG,EAAAA,EAAE,CAACmB,MAAM,CAACtB,EAAEA,EAAEA,UAAK,CAAM,C,qECAlG,SAASS,EAAER,EAAEQ,GAAM,IAAJW,EAACG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACpB,EAAG,OAAO,IAAIK,EAAAA,EAAE,CAACkB,EAAEzB,EAAEmB,EAAEO,SAASC,EAAE3B,EAAEmB,EAAES,SAASC,EAAE7B,EAAEmB,EAAEW,SAASC,iBAAiBvB,GAAG,CAAC,SAASW,EAAEZ,GAAM,IAAJC,EAACc,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACpB,EAAG,OAAO,IAAIF,EAAAA,EAAE,CAACgC,YAAY,CAACzB,EAAEC,EAAEyB,eAAe1B,EAAEC,EAAE0B,cAAc3B,EAAEC,EAAE2B,eAAeC,aAAa,CAAC7B,EAAEC,EAAE6B,YAAY9B,EAAEC,EAAE8B,WAAW/B,EAAEC,EAAE+B,YAAYC,cAAcjC,EAAEC,EAAEiC,aAAapB,MAAM,CAACd,EAAEC,EAAEkC,QAAQnC,EAAEC,EAAEmC,QAAQpC,EAAEC,EAAEoC,UAAU,CAAC,MAAM1C,EAAE,CAACwB,QAAQ,UAAUE,QAAQ,UAAUE,QAAQ,UAAUG,aAAa,eAAeE,aAAa,eAAeD,aAAa,eAAeQ,OAAO,SAASE,OAAO,SAASD,OAAO,SAASN,UAAU,YAAYE,UAAU,YAAYD,UAAU,YAAYG,YAAY,c,0KCAlsB,MAAM1C,EAAE,CAAC8C,OAAO,CAACC,gBAAgB,GAAGC,SAAS,IAAIC,iBAAiB,CAACC,kBAAkB,GAAGC,iBAAiB,IAAIC,wBAAwB,CAACC,iBAAiB,GAAGC,mBAAmB,IAAIC,gBAAgB,CAACC,gBAAgB,GAAGP,iBAAiB,K,qCCAC,SAAS7B,EAAEhB,GAAa,OAAO,IAAIK,EAAEL,EAAvBmB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACnB,MAAOmB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAqB,CAAC,MAAMhB,EAAEJ,WAAAA,CAAYD,GAAY,IAAVI,EAACe,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACnB,MAAMJ,EAACuB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,GAAGgC,KAAKC,WAAWlD,EAAEiD,KAAKE,SAAS3D,EAAEyD,KAAKG,aAAa,IAAIC,IAAIJ,KAAKK,gBAAW,EAAOL,KAAKM,YAAY,IAAIF,IAAI,iBAAiBzD,EAAE,CAACqD,KAAKO,SAAS,CAAC,EAAE,IAAI,IAAIxD,EAAE,EAAEA,EAAEJ,EAAEI,IAAI,CAAC,MAAMR,EAAEQ,EAAEL,EAAE,EAAEC,EAAEqD,KAAKO,SAAShE,GAAGG,EAAEsD,KAAKG,aAAaK,IAAIjE,EAAE,EAAE,CAAC,MAAMyD,KAAKO,SAAS5D,EAAEqD,KAAKS,cAAc,CAACA,YAAAA,GAAe,IAAI9D,EAAE,EAAE,IAAI,MAAMI,EAAER,KAAKyD,KAAKG,aAAaO,UAAW/D,GAAGJ,EAAEyD,KAAKO,SAASxD,GAAG,GAAG,IAAIJ,IAAGgE,EAAAA,EAAAA,GAAI,4CAA4C,KAAAC,EAAC,MAAMjE,EAAEkE,KAAKC,MAAMC,YAAYC,OAAsB,QAAjBJ,EAAEZ,KAAKK,kBAAU,IAAAO,EAAAA,EAAE,IAAI,IAAIK,QAAQC,IAAI,GAADpE,OAAIkD,KAAKE,SAAQ,aAAApD,OAAYH,EAAC,SAAQ,IAAI,MAAMI,EAAER,KAAKyD,KAAKM,YAAY,KAAAa,EAAC,MAAMzE,EAAEmE,KAAKC,MAAMvE,EAAE6E,IAAI7E,EAAE8E,OAAO,IAAI7E,EAAEqE,KAAKC,MAAMpE,EAAEC,EAAE,KAAKsE,QAAQC,IAAiB,QAAdC,EAACnB,KAAKE,gBAAQ,IAAAiB,EAAAA,EAAE,OAAO,CAACG,QAAQvE,EAAEwE,SAAS7E,EAAE8E,aAAahF,GAAG,CAAC,CAACwD,KAAKC,WAAWtD,EAAE,CAAC8E,WAAAA,CAAY9E,EAAEJ,GAAG,GAAGyD,KAAKG,aAAaK,IAAI7D,EAAEJ,IAAGoE,EAAAA,EAAAA,GAAI,4CAA4C,KAAAe,EAAC,MAAMhF,EAAEqE,YAAYC,MAAqB,QAAfU,EAAA1B,KAAKK,kBAAU,IAAAqB,IAAf1B,KAAKK,WAAa3D,GAAE,MAAMF,GAAEO,EAAAA,EAAAA,IAAEiD,KAAKM,YAAY3D,EAAE,MAAM0E,MAAM3E,EAAE0E,IAAI,KAAK,IAAI7E,IAAIC,EAAE4E,IAAI1E,EAAE,CAACsD,KAAKS,cAAc,CAACkB,QAAAA,CAAShF,EAAEI,GAAG,OAAOI,EAAEJ,GAAGiD,KAAKyB,YAAY9E,EAAEI,GAAGA,EAAE,CAAC6E,cAAAA,CAAejF,GAAG,OAAOI,GAAGiD,KAAKyB,YAAY9E,EAAEI,EAAE,EAAE,SAASI,IAAc,IAAZJ,EAACe,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACnB,MAAMJ,EAACuB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACJ,EAAG,MAAMhB,EAAEqE,YAAYC,MAAMjE,EAAE,GAAG,MAAMP,EAAEqF,YAAY,KAAK,MAAMlF,EAAEoE,YAAYC,MAAMtE,EAAEF,EAAE,EAAEqE,KAAKiB,KAAKnF,EAAEJ,GAAGQ,EAAEP,IAAIuF,GAAG,OAAOpF,EAAAA,EAAAA,IAAE,KAAKqF,cAAcxF,GAAGO,EAAE,IAAI,CAAC,SAASkF,EAAEtF,GAAM,IAAJI,EAACe,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACL,EAAG,OAAOf,EAAAA,EAAAA,KAAEF,EAAAA,EAAAA,IAAEG,EAAEuF,EAAEnF,GAAG,CAAsC,MAAMU,EAAE,GAAGP,EAAE,GAAGgF,EAAE,KAAKH,GAAExF,EAAAA,EAAAA,IAAE,IAAImB,GAAEnB,EAAAA,EAAAA,IAAE,KCA9xCS,EAAE,IAAIW,EAAE,GAAGX,EAAEE,EAAE,IAAIQ,EAAE,EAAEyE,eAAevE,EAACwE,EAA+BnF,EAAEgF,GAAE,IAAjCI,KAAKzE,EAAE0E,KAAKJ,EAAEK,YAAYnF,GAAEgF,EAAUI,EAAE,KAAK,IAAI,MAAMrE,GAAEpB,EAAAA,EAAAA,IAAEE,EAAE,WAAWwF,GAAE1F,EAAAA,EAAAA,IAAEoB,EAAE,SAASkE,KAAKN,SAASxF,EAAAA,EAAAA,GAAEkG,EAAE,CAACC,MAAM,CAACR,EAAE,QAAQS,aAAa,UAASnG,EAAAA,EAAAA,IAAEyF,GAAG,MAAMW,GAAElG,EAAAA,EAAAA,IAAEO,GAAGoB,EAAE0D,EAAEc,kBAAkB7F,EAAE8F,EAAEF,EAAE1F,EAAEmB,EAAE0E,EAAEH,EAAE/B,KAAKmC,IAAIrF,EAAEU,GAAGV,EAAE,GAAGC,EAAEqF,KAAKH,EAAE,MAAM,IAAIrG,MAAM,kBAAkB,MAAMyG,GAAEnG,EAAAA,EAAAA,IAAEoB,EAAE,aAAakE,KAAKc,SAAS5G,EAAAA,EAAAA,GAAE2G,EAAE,CAACR,MAAM,CAACR,EAAE,OAAOkB,UAAsjC7G,EAA3iC2F,EAAqjC3F,EAAE8G,WAAW,IAAI,KAAKA,WAAW,KAAK,MAAxlCd,YAAYnF,GAAGuF,aAAa,OAAOW,OAAO,SAAS,IAAG9G,EAAAA,EAAAA,IAAEyF,IAAIkB,EAAEI,QAAQ,MAAM,IAAI9G,MAAM,uBAAuB,MAAM+G,OAAOC,GAAGN,EAAEO,KAAKlB,GAAEzF,EAAAA,EAAAA,IAAEoB,EAAEsF,GAAG,MAAME,GAAE5G,EAAAA,EAAAA,IAAEyF,EAAE,cAAcoB,EAAE/C,KAAKgD,KAAKjG,EAAEqF,KAAKF,GAAGe,EAAE,IAAIC,MAAM,IAAI,IAAIxH,EAAE,EAAEA,EAAEqH,IAAIrH,EAAEuH,EAAEE,KAAKpG,EAAEqG,MAAM1H,EAAEwG,EAAElC,KAAKmC,KAAKzG,EAAE,GAAGwG,EAAEnF,EAAEqF,QAAQ,MAAMiB,EAAEJ,EAAEG,QAAQE,UAAUlG,EAAE,IAAI8F,MAAMK,EAAEzH,EAAEiH,EAAG,OAAD3B,QAAC,IAADA,OAAC,EAADA,EAAGhC,WAAW,cAAcoE,EAAElC,UAAU,KAAK,IAAI+B,EAAEnG,QAAQ,CAAC,MAAMhB,EAAE+G,EAAE/F,OAAOmG,EAAEnG,OAAOrB,EAAEwH,EAAEI,MAAM3H,EAAE,IAAI4H,SAASvH,EAAEoH,EAAEzC,SAAS5E,EAAEI,EAAET,EAAEuG,OAAO,IAAItG,EAAE6H,OAAO,IAAI,QAAQ7H,EAAE6H,OAAO,OAAO9H,GAAGC,EAAE6H,OAAO,SAAQ,GAAA1H,OAAIC,IAAK,MAAMsF,KAAKlF,SAASZ,EAAAA,EAAAA,GAAEoH,EAAE,CAACc,QAAQ,EAAEC,KAAK/H,EAAEgG,aAAa,OAAOW,OAAO,SAAS,IAAG9G,EAAAA,EAAAA,IAAEyF,IAAI9E,EAAEoG,QAAQ,MAAM,IAAI9G,MAAM,qBAAqB,CAAC,QAAQO,EAAE2H,QAAQ,CAAC,GAAG,IAAI,IAAIpI,EAAE,EAAEA,EAAEmB,GAAG,IAAIwG,EAAEnG,SAASxB,EAAE0B,EAAE+F,KAAKK,WAAWO,QAAQC,IAAI5G,GAAG,MAAM6G,GAAE/H,EAAAA,EAAAA,IAAEyF,EAAE,WAAWH,KAAK0C,SAASxI,EAAAA,EAAAA,GAAEuI,EAAE,CAACpC,MAAM,CAACR,EAAE,OAAO8C,MAAMlB,EAAEmB,IAAI,CAAC1I,EAAEC,IAAIA,GAAG0I,KAAK,MAAMvC,aAAa,OAAOW,OAAO,SAAS,IAAG9G,EAAAA,EAAAA,IAAEyF,IAAI8C,EAAExB,QAAQ,MAAM,IAAI9G,MAAM,iBAAiB,OAAOsI,EAAErB,IAAI,CAAC,MAAMvF,GAAG,GAAG,MAAMqE,EAAE,CAAC,MAAMhG,GAAEO,EAAAA,EAAAA,IAAEyF,EAAE,gBAAgBjG,EAAAA,EAAAA,GAAEC,EAAE,CAACkG,MAAM,CAACR,EAAE,QAAQS,aAAa,OAAOW,OAAO,QAAQ,CAAC,MAAMnF,CAAC,CAAE,IAAW5B,CAAZ,C,qCCA9N4F,eAAegD,EAAE5I,EAAEI,EAAEI,GAAE,IAAAqI,EAAC,MAAM1I,EAAEH,EAAEwB,OAAO,IAAIrB,EAAE,OAAQ,OAADK,QAAC,IAADA,GAAa,QAAZqI,EAADrI,EAAGkD,kBAAU,IAAAmF,GAAbA,EAAAC,KAAAtI,EAAgB,GAAG,GAAG,MAAMP,EAAE8I,EAAE5I,EAAG,OAADK,QAAC,IAADA,OAAC,EAADA,EAAGkD,WAAW,gBAAgB,OAAO2E,QAAQC,IAAItI,EAAE0I,IAAI,CAAC1I,EAAEG,IAAmDyF,eAAiB5F,EAAC6F,EAA4B1F,GAAE,IAAA6I,EAAA,IAA5BC,MAAM7I,EAAE8I,eAAe1I,GAAEqF,EAAI,MAAM5F,EAAEO,EAAE2I,IAAInJ,GAAG,GAAGC,EAAE,OAAOA,EAAE,IAAw6K,SAAYD,GAAG,QAAQA,EAAEoJ,aAAapJ,EAAEqJ,GAAG,CAA/8KC,CAAGlJ,GAAG,MAAM,IAAIoF,EAAAA,GAAE,GAA2G,SAAWxF,EAAEI,GAAG,MAAMmJ,UAAU/I,GAAGJ,EAAE,OAAO,MAAMI,GAAGR,EAAEwJ,SAASC,gBAAgBC,KAAK1J,IAAGmB,EAAAA,EAAAA,IAAEnB,EAAEQ,GAAG,CAAvMmJ,CAAE3J,EAAEI,GAAG,OAAQ,OAADD,QAAC,IAADA,GAAa,QAAZ6I,EAAD7I,EAAGuD,kBAAU,IAAAsF,GAAbA,EAAAF,KAAA3I,EAAgB,GAAGH,EAAE,MAAMS,EAA+JmF,eAAiB5F,EAAEI,EAAED,GAAG,MAAMqJ,SAASvJ,GAAGD,GAAG4J,cAAcnJ,GAAGR,EAAEW,EAAEiJ,EAAG,OAADpJ,QAAC,IAADA,OAAC,EAADA,EAAGqJ,OAAO1J,EAAE,CAAC2J,6BAA4B3F,EAAAA,EAAAA,GAAI,2CAA2ChD,EAAE,MAAMR,EAA0GgF,eAAiB5F,EAAEI,EAAEI,GAAG,MAAM,CAACsJ,OAAO,CAACE,KAAK,UAAUC,aAAaC,EAAElK,EAAEI,EAAEI,IAAI2J,UAAS,EAAGC,wBAAuB,EAAG,CAA3NC,CAAEzJ,EAAER,EAAED,GAAGF,EAAEwJ,gBAAgBjI,OAAO,EAA0LoE,eAAiB5F,EAAEI,EAAEI,GAAG,MAAML,EAAEmK,EAAGlK,IAAIqJ,gBAAgBxJ,GAAGD,EAAEwJ,SAAS/I,EAA0oC,SAAWT,EAAEI,GAAG,IAAI,MAAMI,KAAKR,EAAE,CAAC,MAAMA,EAAE6J,EAAErJ,EAAEsJ,OAAO1J,GAAG,GAAGJ,EAAE,OAAOA,CAAC,CAAC,OAAO,IAAI,CAAztCuH,CAAEtH,EAAEG,GAAG,IAAIK,EAAE,MAAM,IAAImB,EAAAA,GAAE,MAAMhB,EAAEmI,EAAEpC,EAAEvD,wBAAyB,OAAD5C,QAAC,IAADA,OAAC,EAADA,EAAGkD,WAAW,2BAA2BtC,EAAE,CAAC4I,KAAK,UAAUC,aAAaC,EAAEzJ,EAAEL,EAAE,CAACsD,WAAW9C,EAAEyE,eAAe,uBAAuBrF,EAAEuK,mBAAmB,CAAC,CAACT,OAAO1I,EAAE+I,UAAS,KAAM,MAAMjJ,EAAET,EAAE+J,OAAO,CAACxK,EAACyK,KAAA,IAAEC,MAAMtK,GAAEqK,EAAA,OAAGrK,aAAauK,KAAK3K,EAAEI,EAAEsG,KAAK1G,GAAE,GAAGU,EAAEE,EAAEwE,SAAS,qBFA1tC,SAAWhF,GAAM,IAAJI,EAACe,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACZ,EAAG,OAAOR,EAAAA,EAAAA,KAAEF,EAAAA,EAAAA,IAAEG,EAAEuF,EAAEnF,GAAG,CEA2sCoK,CAAE1J,IAAI,IAAG,IAAA2J,EAAC,MAAMf,OAAO7J,EAAE6K,UAAUrK,EAAEsK,OAAOnK,SAAk8FgF,eAAiBoF,EAAY5K,EAAEI,GAAE,IAAdyJ,OAAOjK,GAAEgL,EAAM,MAAM7K,EAAEH,EAAE0I,IAAIuC,IAAA,IAAEC,UAAUlL,EAAEyI,MAAMrI,GAAE6K,EAAA,MAAI,CAACC,UAAUlL,EAAEmL,UAAU/K,EAAE,GAAGgL,YAAY,IAAInL,EAAE,IAAG,IAAAoL,EAAC,MAAMrL,GAAEY,EAAAA,EAAAA,IAAER,EAAEmJ,UAAU+B,KAAK,aAAa7K,EAAgB,QAAf4K,EAACjL,EAAEmL,oBAAY,IAAAF,OAAA,EAAdA,EAAgBG,WAAWC,uBAAuBxL,SAASQ,EAAEiL,EAAGC,GAAI3L,EAAE,CAACmG,MAAM,CAACR,EAAE,OAAOsE,OAAO2B,KAAKC,UAAU1L,GAAG2L,cAAc,uBAAuBC,aAAavL,EAAEoF,MAAMnF,GAAG2F,aAAa,OAAO8B,QAAQ,KAAKpC,IAAI,CAAC,MAAMrF,GAAG,MAAM,IAAIiF,EAAAA,EAAC,CAAC,OAAe,SAAY1F,EAAEI,GAAG,MAAMI,EAAE,CAACsJ,OAAO,CAACE,KAAK,UAAUC,OAAO7J,EAAE6J,OAAOvB,IAAItI,IAAI,MAAMI,GAAEkB,EAAAA,EAAAA,IAAEtB,EAAE4L,YAAYhM,EAAEoJ,UAAU6C,kBAAkB,IAAIzL,EAAE,MAAM,IAAI0G,EAAAA,GAAE1G,GAAG,OAAO,IAAImF,EAAAA,GAAEvF,EAAE8K,UAAU9K,EAAE4L,YAAY,CAAC,IAAInL,EAAAA,GAAET,EAAE8L,SAAS9L,EAAE+K,gBAAgBJ,YAAO,EAAOD,eAAU,GAAQ,KAAI1G,EAAAA,EAAAA,GAAI,0CAA0ChE,EAAE0K,WAAW,GAAGtK,EAAEsK,WAAUlE,EAAAA,EAAAA,GAAExG,EAAE0K,WAAW1K,EAAE4B,iBAAiB,CAAC,MAAMhC,EAAEU,EAAAA,EAAEyL,SAAS/L,EAAE4B,kBAAkBxB,EAAEuK,QAAOvC,EAAAA,EAAAA,GAAEpI,EAAE0K,UAAU9K,EAAE,OAAOQ,EAAEsK,WAAUsB,EAAAA,EAAAA,GAAEpM,EAAEgC,kBAAkB,OAAOxB,CAAC,CAAze6L,CAAGjM,EAAEH,EAAE,CAAr1GqM,CAAGlL,EAAEhB,EAAED,GAAG,OAAOH,EAAE8K,UAAUrK,EAAEG,IAAIZ,EAAEwJ,SAAS+C,eAAc,EAAI,OAAD/L,QAAC,IAADA,GAAAA,EAAGgM,iBAAiBxM,EAAEyM,YAAY1B,OAAO,CAACnK,EAAEc,EAAEd,EAAEgB,EAAK,QAAJiJ,EAACjK,EAAEkB,SAAC,IAAA+I,EAAAA,EAAE,GAAG7K,EAAEgC,iBAAiBpB,EAAEoB,mBAAmB,CAAC8H,OAAO7J,EAAEmK,wBAAuB,EAAG,CAAC,QAAQ1J,EAAE0H,QAAQ,CAAC,CAA71BsE,CAAE1M,EAAEI,EAAED,GAAw1ByF,eAAiB5F,EAAEI,EAAEI,GAAG,MAAML,EAAE4I,EAAEpC,EAAEpD,gBAAiB,OAAD/C,QAAC,IAADA,OAAC,EAADA,EAAGkD,WAAW,mBAAmBzD,EAAgN2F,eAAiB5F,EAAEI,EAAED,GAAG,MAAMF,EAAEqK,EAAGlK,GAAGK,QAAQT,EAAE2M,KAAKxM,GAAGS,QAAQH,EAAEmM,aAAa,CAAC7B,OAAOtK,EAAEsK,OAAO8B,OAAQ,OAAD1M,QAAC,IAADA,OAAC,EAADA,EAAG0M,OAAOC,sBAAqB,EAAG1C,wBAAuB,IAAK,OAAO5J,EAAAA,EAAAA,IAAEL,GAAG,CAAC4M,KAAK,IAAIC,KAAK,CAACpM,GAAG,CAACoJ,KAAK,sBAAsBkB,UAAS,GAAA3K,QAAIW,EAAAA,EAAAA,MAAG,QAAO+L,UAAUhN,EAAE,CAAjdiN,CAAElN,EAAEI,GAAC+M,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAK3M,GAAC,IAACkD,WAAWvD,EAAEkF,eAAe,sBAAqB,MAAM,CAACyE,OAAO,CAACE,KAAK,UAAUC,aAAamD,EAAE,CAACnN,GAAGG,GAAC+M,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAK3M,GAAC,IAACkD,WAAWvD,EAAEkF,eAAe,wBAAuBgI,OAAOrN,EAAEqN,OAAOC,QAAQnD,UAAS,EAAG,CAAznCrI,CAAE9B,EAAEI,EAAED,GAAGe,QAAQE,EAAE,OAAOZ,EAAAA,EAAAA,IAAEL,GAAGH,EAAEuK,mBAAmB,CAACrJ,IAAIlB,CAAC,CAA1auN,CAAEvN,EAAEI,EAAED,GAAGK,EAAEyD,IAAIjE,EAAES,GAAG,UAAUA,CAAC,CAAC,QAAQD,EAAEgN,OAAOxN,EAAE,CAAC,OAAOA,CAAC,CAA/PqG,CAAErG,EAAEI,GAAC+M,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAK3M,GAAC,IAACkD,WAAWzD,EAAEoF,eAAelF,OAAM,CAAq9D,SAAS0J,EAAE7J,EAACyN,GAAoB,IAAlBrE,UAAUhJ,GAAEqN,EAACjN,EAACe,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG,IAAIvB,EAAE,OAAO,KAAK,MAAMG,GAAEQ,EAAAA,EAAAA,IAAEX,GAAG,IAAIG,EAAE,OAAO,KAAK,MAAM8L,iBAAiBhM,EAAEyN,YAAYjN,GAAGL,EAAEQ,EAAE,IAAI4G,MAAMpG,GAAEyG,EAAAA,EAAAA,IAAEzH,GAAGc,GAAEyM,EAAAA,EAAAA,IAAEvN,GAAG,IAAIM,GAAE,EAAG,IAAI,MAAMS,KAAKhB,EAAE,CAAC,MAAMH,EAAE4N,EAAEzM,EAAElB,GAAG,IAAID,EAAE,OAAO,KAAK,MAAMiN,UAAU7M,GAAGJ,EAAE,GAAGQ,EAAEuJ,6BAA6B3J,IAAIgB,GAAGhB,IAAIc,GAAG,OAAO,KAAKT,EAAEoN,SAASzN,KAAKM,GAAE,GAAIE,EAAE6G,KAAKzH,EAAE,CAAC,OAAOU,EAAEE,EAAE,IAAI,CAAC,SAASgN,EAAE5N,EAAEI,GAAG,MAAMI,GAAEa,EAAAA,EAAAA,IAAErB,EAAEI,GAAG,OAAOI,EAAE,CAACkK,MAAM1K,EAAEiN,UAAUzM,GAAG,IAAI,CAACoF,eAAesE,EAAElK,EAAEI,EAAEI,GAAG,OAAO4M,EAAEpN,EAAE0I,IAAI1I,GAAgV4F,eAAiB5F,EAAEI,GAAG,MAAMsK,MAAMvK,EAAE8M,UAAUhN,GAAGD,EAAE,GAAGG,aAAawK,KAAK,MAAM,CAACoC,KAAK5M,EAAE+K,UAAU/K,EAAE4F,KAAKkH,UAAUhN,GAAG,MAAMQ,QAAQN,EAAE2N,OAAO1N,GAAG,OAAOI,EAAAA,EAAAA,IAAEJ,GAAG,CAAC2M,KAAKtM,EAAEyK,UAAU/K,EAAE+K,UAAU+B,UAAUhN,EAAE,CAAjhB8N,CAAE/N,EAAEQ,IAAIJ,EAAEI,EAAE,CAACoF,eAAewH,EAAEpN,EAAEI,EAAED,GAAG,MAAMF,EAAE8I,EAAEpC,EAAE1D,iBAAkB,OAAD9C,QAAC,IAADA,OAAC,EAADA,EAAGuD,WAAW,oBAAoBjD,QAAizB,SAAWT,EAAEI,EAAED,GAAG,MAAMF,EAAE8I,EAAE/I,EAAEwB,OAAQ,OAADrB,QAAC,IAADA,OAAC,EAADA,EAAGuD,WAAW,qBAAqB,OAAO2E,QAAQC,IAAItI,EAAE0I,IAAI9C,MAAM5F,EAAES,KAAK,MAAMG,EAAvfgF,eAAiB5F,EAAEI,EAAED,GAAG,MAAM4M,KAAKtM,EAAEwM,UAAUrM,EAAEsK,UAAUhK,GAAGlB,EAAE,IAAIU,EAAE,KAAK,IAAI,MAAMV,QAAQgO,EAAE,CAAClI,KAAKrF,EAAEsF,KAAK7E,GAAGd,EAAEiJ,IAAIlJ,IAAGK,EAAAA,EAAAA,IAAEL,GAAGO,EAAE,CAACuM,UAAUrM,EAAEqN,cAAcjO,EAAEiH,OAAO,CAAC,MAAM9F,IAAGlB,EAAAA,EAAAA,IAAEkB,GAAuiFf,EAAAA,EAAE8N,UAAU,qDAA3iFC,SAAS,WAAD5N,OAAYH,EAAEiJ,IAAG,2CAA0C,CAAC,IAAI3I,EAAE,CAAC,MAAMV,QAAQoB,EAAAA,EAAAA,IAAEX,GAAG,IAAGD,EAAAA,EAAAA,IAAEL,IAAIH,EAAEoO,SAAS,MAAM,IAAI7H,EAAAA,GAAE7F,EAAE,CAACuM,UAAUrM,EAAEyN,UAAUrO,EAAE8F,KAAK,CAAC,IAAIpF,EAAE,MAAM,IAAIiH,EAAAA,GAAE,MAAM,CAACR,KAAKzG,EAAEwK,UAAUhK,EAAE,CAAuHoN,OAAQtO,EAAEI,GAAC+M,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKhN,GAAC,IAACuD,WAAWzD,EAAEoF,eAAe5E,MAAK,OAAOD,EAAAA,EAAAA,IAAEL,GAAGS,IAAI,CAAl+B2N,CAAEvO,EAAEI,GAAC+M,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKhN,GAAC,IAACuD,WAAWzD,EAAEoF,eAAe,yBAAuB7E,EAAAA,EAAAA,IAAEL,GAAG,MAAMS,EAAEH,EAAEiI,IAAI8F,IAAA,IAAErH,KAAKnH,GAAEwO,EAAA,OAAGxO,KAAIyO,cAAcrN,SAAS0G,EAAElH,EAAER,GAAC+M,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKhN,GAAC,IAACuD,WAAWzD,EAAEoF,eAAe,uBAAsB,OAAO7E,EAAAA,EAAAA,IAAEL,GAAGH,EAAE0I,IAAI,CAAC1I,EAAEQ,IAA2lC,SAAYR,EAAEI,EAAEI,GAAG,MAAMwG,QAAQ7G,GAAGC,EAAE,IAAID,EAAE,CAAC,MAAMuO,MAAMlO,GAAGJ,EAAE,MAAM,IAAI8F,EAAAA,GAAElG,EAAEkL,UAAU1K,EAAE,CAAC,MAAM2K,UAAUlL,GAAGG,GAAG8K,UAAUzK,EAAE0G,MAAM8F,UAAUrM,IAAIZ,GAAGoJ,WAAW6C,iBAAiB7K,IAAIZ,EAAEU,GAAEkG,EAAAA,EAAAA,IAAExG,EAAEQ,GAAG,IAAIF,EAAE,MAAM,IAAIgG,EAAAA,GAAEtG,GAAG,OAAO,IAAI+E,EAAAA,GAAElF,EAAES,EAAE,CAAC,IAAIL,EAAAA,GAAE,GAADN,OAAIC,EAAE+I,UAAU+B,KAAI,YAAA/K,OAAWN,GAAIA,IAAI,CAAv2C0O,CAAGlO,EAAED,GAAGY,EAAEZ,GAAGJ,GAAG,CAAmwBwF,eAAekC,EAAE1H,EAAED,EAAEF,GAAG,MAAMQ,EAAE4G,EAAG,OAADpH,QAAC,IAADA,OAAC,EAADA,EAAGyD,YAAY,IAAI,MAAMjD,QAAQT,EAAAA,EAAAA,IAAEY,EAAAA,EAAAA,IAAET,EAAEoJ,UAAU+B,KAAK,gBAAgB,CAACpD,QAAQ,EAAE/B,MAAM,CAACR,EAAE,OAAOsE,OAAO2B,KAAKC,UAAUzL,IAAI2G,OAAO,OAAOX,aAAa,SAAS,IAAG5F,EAAAA,EAAAA,IAAEP,GAAGQ,EAAEqF,KAAK2I,cAAcjN,SAASpB,EAAEoB,OAAO,MAAM,IAAI+G,EAAAA,GAAEnI,EAAEoB,OAAOf,EAAEqF,KAAK2I,cAAcjN,QAAQ,OAAOf,EAAEqF,IAAI,CAAC,QAAQrF,EAAE2H,QAAQ,CAAC,CAAipC,SAASuD,EAAGvL,EAAEI,GAAG,OAAOR,EAAAA,EAAAA,GAAEI,EAAEI,EAAE,CAACoF,eAAe8F,EAAGtL,EAAEI,GAAG,MAAMP,SAASD,EAAAA,EAAAA,GAAEI,EAAEI,IAAIsF,KAAK8I,UAAU,OAAO,CAAC,MAAMxO,SAASJ,EAAAA,EAAAA,GAAEC,EAAE,CAACkG,MAAM,CAACR,EAAE,QAAQS,aAAa,UAAUN,KAAK,OAAO1F,EAAEyO,QAAQ,IAAI,YAAY,OAAO7O,EAAAA,EAAAA,GAAEI,EAAE0O,UAAU,CAAC3I,MAAM,CAACR,EAAE,QAAQS,aAAa,SAAS,IAAI,sBAAsB,MAAM,IAAIlG,MAAME,EAAEyO,QAAQ,IAAI,uBAAuB,IAAI,aAAa,IAAI,UAAU,IAAI,oBAAoB,IAAI,gBAAgB,IAAI,gBAAgB,IAAI,oBAAoB,IAAI,oBAAoB,IAAI,sBAAsB,IAAI,uBAAuB,MAAM,QAAQ,MAAM,IAAI3O,YAAYC,EAAAA,EAAAA,IAAE4O,EAAG,CAAC,CAA6C,SAASzE,EAAE0E,GAAe,IAAb5F,UAAUpJ,GAAEgP,EAAE,MAAM5O,GAAEoG,EAAAA,EAAAA,IAAExG,GAAG,IAAII,EAAE,MAAM,IAAI6F,EAAAA,GAAE,OAAO7F,CAAC,CAAuF,MAAM2O,GAAGtO,EAAAA,EAAAA,IAAE,I","sources":["../node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssetErrors.js","../node_modules/@arcgis/core/layers/support/meshSpatialReferenceScaleUtils.js","../node_modules/@arcgis/core/rest/support/meshFeatureAttributes.js","../node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js","../node_modules/@arcgis/core/support/progressUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js","../node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport s from\"../../../../core/Error.js\";const e=\"upload-assets\",o=()=>new Error;class r extends s{constructor(){super(`${e}:unsupported`,\"Layer does not support asset uploads.\",o())}}class t extends s{constructor(){super(`${e}:no-glb-support`,\"Layer does not support glb.\",o())}}class n extends s{constructor(){super(`${e}:no-supported-source`,\"No supported external source found\",o())}}class u extends s{constructor(){super(`${e}:not-base-64`,\"Expected gltf data in base64 format after conversion.\",o())}}class p extends s{constructor(){super(`${e}:unable-to-prepare-options`,\"Unable to prepare uploadAsset request options.\",o())}}class a extends s{constructor(s,r){super(`${e}:bad-response`,`Bad response. Uploaded ${s} items and received ${r} results.`,o())}}class d extends s{constructor(s,r){super(`${e}-layer:upload-failed`,`Failed to upload mesh file ${s}. Error code: ${r?.code??\"-1\"}. Error message: ${r?.messages??\"unknown\"}`,o())}}class c extends s{constructor(s){super(`${e}-layer:unsupported-format`,`The service allowed us to upload an asset of FormatID ${s}, but it does not list it in its supported formats.`,o())}}class l extends s{constructor(){super(`${e}:convert3D-failed`,\"convert3D failed.\")}}class i extends s{constructor(){super(\"invalid-input:no-model\",\"No supported model found\")}}class m extends s{constructor(){super(\"invalid-input:multiple-models\",\"Multiple supported models found\")}}export{a as BadResponseError,l as Convert3DFailedError,m as MultipleModelsError,t as NoGlbSupportError,i as NoModelError,n as NoSupportedSourceError,u as NotBase64Error,p as UnableToPrepareOptionsError,r as UnsupportedError,c as UnsupportedFormatUploadedError,d as UploadFailedError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as o}from\"../../core/unitUtils.js\";import r from\"../../geometry/support/MeshTransform.js\";function t(t){const e=1/o(t,1);return 1!==e?new r({scale:[e,e,e]}):void 0}export{t as getMeshTransformForMetersToSpatialReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../geometry/Point.js\";import o from\"../../geometry/support/MeshTransform.js\";function n(o,n,i=r){return new t({x:o[i.originX],y:o[i.originY],z:o[i.originZ],spatialReference:n})}function i(t,n=r){return new o({translation:[t[n.translationX],-t[n.translationZ],t[n.translationY]],rotationAxis:[t[n.rotationX],-t[n.rotationZ],t[n.rotationY]],rotationAngle:t[n.rotationDeg],scale:[t[n.scaleX],t[n.scaleZ],t[n.scaleY]]})}const r={originX:\"originX\",originY:\"originY\",originZ:\"originZ\",translationX:\"translationX\",translationY:\"translationY\",translationZ:\"translationZ\",scaleX:\"scaleX\",scaleY:\"scaleY\",scaleZ:\"scaleZ\",rotationX:\"rotationX\",rotationY:\"rotationY\",rotationZ:\"rotationZ\",rotationDeg:\"rotationDeg\"};export{n as extractMeshFeatureOrigin,i as extractMeshFeatureTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e={upload:{createFromFiles:.8,loadMesh:.2},uploadAssetBlobs:{prepareAssetItems:.9,uploadAssetItems:.1},uploadConvertibleSource:{uploadEditSource:.5,serviceAssetsToGlb:.5},uploadLocalMesh:{meshToAssetBlob:.5,uploadAssetBlobs:.5}};export{e as uploadProgressWeights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{makeHandle as s}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{getOrCreateMapValue as t}from\"../core/MapUtils.js\";import{Milliseconds as e,millisecondsFromSeconds as r,Seconds as o}from\"../core/time.js\";function i(s,t=s=>{},e){return new n(s,t,e)}class n{constructor(s,t=s=>{},e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,\"number\"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&has(\"enable-feature:esri-3dofl-upload-timings\")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??\"Task\",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),has(\"enable-feature:esri-3dofl-upload-timings\")){const r=performance.now();this._startTime??=r;const o=t(this._timingsMap,s,()=>({start:r,end:0}));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a(t=>this.setProgress(s,t),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=s=>{},e=l){const r=performance.now();t(0);const o=setInterval(()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)},g);return s(()=>{clearInterval(o),t(1)})}function h(s,t=c){return r(o(s*f/t))}function m(s,t=p){return r(o(s*f/t))}const c=10,p=10,f=8e-6,g=e(50),l=e(1e3);export{n as ProgressManager,m as estimatedConversionTime,h as estimatedTransferTime,i as makeProgressManager,a as simulateProgress};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{join as t}from\"../../../../core/urlUtils.js\";import{isHostedAgolService as r}from\"../../../support/arcgisLayerUrl.js\";import{makeProgressManager as s,estimatedTransferTime as a}from\"../../../../support/progressUtils.js\";const n=1e6,i=20*n,p=2e9,l=3;async function m({data:m,name:f,description:d},u,h){let w=null;try{const y=t(u,\"uploads\"),j=t(y,\"info\"),{data:g}=await e(j,{query:{f:\"json\"},responseType:\"json\"});o(h);const q=r(u),z=g.maxUploadFileSize*n,T=q?p:z,U=q?Math.min(i,z):i;if(m.size>T)throw new Error(\"Data too large\");const A=t(y,\"register\"),{data:E}=await e(A,{query:{f:\"json\",itemName:c(f),description:d},responseType:\"json\",method:\"post\"});if(o(h),!E.success)throw new Error(\"Registration failed\");const{itemID:P}=E.item;w=t(y,P);const D=t(w,\"uploadPart\"),I=Math.ceil(m.size/U),M=new Array;for(let e=0;e<I;++e)M.push(m.slice(e*U,Math.min((e+1)*U,m.size)));const v=M.slice().reverse(),x=new Array,F=s(I,h?.onProgress,\"uploadItem\"),_=async()=>{for(;0!==v.length;){const t=M.length-v.length,r=v.pop(),s=new FormData,n=F.simulate(t,a(r.size));try{s.append(\"f\",\"json\"),s.append(\"file\",r),s.append(\"partId\",`${t}`);const{data:a}=await e(D,{timeout:0,body:s,responseType:\"json\",method:\"post\"});if(o(h),!a.success)throw new Error(\"Part upload failed\")}finally{n.remove()}}};for(let e=0;e<l&&0!==v.length;++e)x.push(_());await Promise.all(x);const b=t(w,\"commit\"),{data:C}=await e(b,{query:{f:\"json\",parts:M.map((e,o)=>o).join(\",\")},responseType:\"json\",method:\"post\"});if(o(h),!C.success)throw new Error(\"Commit failed\");return C.item}catch(y){if(null!=w){const o=t(w,\"delete\");await e(o,{query:{f:\"json\"},responseType:\"json\",method:\"post\"})}throw y}}function c(e){return e.replaceAll(\"/\",\"_\").replaceAll(\"\\\\\",\"_\")}export{m as uploadItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import has from\"../../../../core/has.js\";import s from\"../../../../core/Logger.js\";import{throwIfAborted as t,after as r,throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Milliseconds as n}from\"../../../../core/time.js\";import{join as a,parseData as i}from\"../../../../core/urlUtils.js\";import{generateBracedUUID as c}from\"../../../../core/uuid.js\";import u from\"../../../../geometry/SpatialReference.js\";import{externalIsOnService as l,externalSourceToMultiPart as p,assetFormatId as m,ServiceAsset as f,ServiceAssetPart as d}from\"../../../../geometry/support/meshUtils/External.js\";import{UnsupportedError as g,NoSupportedSourceError as y,NoGlbSupportError as w,Convert3DFailedError as h,UnsupportedFormatUploadedError as P,BadResponseError as b,UploadFailedError as j,NotBase64Error as T,UnableToPrepareOptionsError as v}from\"./uploadAssetErrors.js\";import{uploadProgressWeights as A}from\"./uploadProgressWeights.js\";import{uploadItem as S}from\"./uploads.js\";import{getPrjFormatId as F,getWorldFileFormatId as R,getGlbFormatId as U,getMimeTypeFormatId as x,getFormatIdMimeType as D}from\"../../../support/infoFor3D.js\";import{getMeshTransformForMetersToSpatialReference as N}from\"../../../support/meshSpatialReferenceScaleUtils.js\";import{extractMeshFeatureTransform as E,extractMeshFeatureOrigin as C}from\"../../../../rest/support/meshFeatureAttributes.js\";import{makeProgressManager as O,estimatedConversionTime as k,simulateProgress as I}from\"../../../../support/progressUtils.js\";async function B(e,s,t){const r=e.length;if(!r)return t?.onProgress?.(1),[];const o=O(r,t?.onProgress,\"uploadAssets\");return Promise.all(e.map((e,r)=>q(e,s,{...t,onProgress:o.makeOnProgress(r)})))}async function q(e,{layer:s,ongoingUploads:t},r){const o=t.get(e);if(o)return o;if(!ne(s))throw new g;if(L(e,s))return r?.onProgress?.(1),e;const n=H(e,s,r);t.set(e,n);try{await n}finally{t.delete(e)}return e}function L(e,s){const{parsedUrl:t}=s;return null!=t&&e.metadata.externalSources.some(e=>l(e,t))}async function H(e,s,r){const{metadata:o}=e,{displaySource:n}=o,a=W(n?.source,s,{checkForConversionRequired:!has(\"disable-feature:georeferenced-uploads\")}),i=null!=a?$(a,s,r):o.externalSources.length>0?J(e,s,r):z(e,s,r),c=await i;return t(r),e.addExternalSources([c]),e}async function $(e,s,t){return{source:{type:\"service\",assets:await Q(e,s,t)},original:!0,unitConversionDisabled:!0}}async function J(e,s,t){const r=ae(s),{externalSources:o}=e.metadata,n=M(o,s);if(!n)throw new y;const a=O(A.uploadConvertibleSource,t?.onProgress,\"uploadConvertibleSource\"),i={type:\"service\",assets:await Q(n,s,{onProgress:a.makeOnProgress(\"uploadEditSource\")})};e.addExternalSources([{source:i,original:!0}]);const c=n.reduce((e,{asset:s})=>s instanceof File?e+s.size:e,0),u=a.simulate(\"serviceAssetsToGlb\",k(c));try{const{source:o,transform:n,origin:a}=await se(i,s,r);return e.transform=n,a&&(e.metadata.georeferenced=!0,t?.useAssetOrigin&&(e.vertexSpace.origin=[a.x,a.y,a.z??0],e.spatialReference=a.spatialReference)),{source:o,unitConversionDisabled:!0}}finally{u.remove()}}async function z(e,s,t){const r=O(A.uploadLocalMesh,t?.onProgress,\"uploadLocalMesh\"),o=G(e,s,{...t,onProgress:r.makeOnProgress(\"meshToAssetBlob\")});return{source:{type:\"service\",assets:await V([o],s,{...t,onProgress:r.makeOnProgress(\"uploadAssetBlobs\")})},extent:e.extent.clone(),original:!0}}async function G(e,s,r){const o=ae(s),n=await e.load(r),a=await n.toBinaryGLTF({origin:n.origin,signal:r?.signal,ignoreLocalTransform:!0,unitConversionDisabled:!0});return t(r),{blob:new Blob([a],{type:\"model/gltf-binary\"}),assetName:`${c()}.glb`,assetType:o}}function M(e,s){for(const t of e){const e=W(t.source,s);if(e)return e}return null}function W(e,{infoFor3D:s},t={}){if(!e)return null;const r=p(e);if(!r)return null;const{supportedFormats:o,editFormats:n}=s,a=new Array,i=F(s),c=R(s);let u=!1;for(const l of r){const e=K(l,o);if(!e)return null;const{assetType:s}=e;if(t.checkForConversionRequired&&(s===i||s===c))return null;n.includes(s)&&(u=!0),a.push(e)}return u?a:null}function K(e,s){const t=m(e,s);return t?{asset:e,assetType:t}:null}async function Q(e,s,t){return V(e.map(e=>X(e,t)),s,t)}async function V(e,s,r){const o=O(A.uploadAssetBlobs,r?.onProgress,\"uploadAssetBlobs\"),n=await Z(e,s,{...r,onProgress:o.makeOnProgress(\"prepareAssetItems\")});t(r);const a=n.map(({item:e})=>e),{uploadResults:i}=await _(a,s,{...r,onProgress:o.makeOnProgress(\"uploadAssetItems\")});return t(r),e.map((e,t)=>ee(n[t],i[t],s))}async function X(e,s){const{asset:r,assetType:o}=e;if(r instanceof File)return{blob:r,assetName:r.name,assetType:o};const n=await r.toBlob(s);return t(s),{blob:n,assetName:r.assetName,assetType:o}}async function Y(e,s,r){const{blob:n,assetType:a,assetName:c}=e;let u=null;try{const e=await S({data:n,name:c},s.url,r);t(r),u={assetType:a,assetUploadId:e.itemID}}catch(l){o(l),ie().warnOnce(`Service ${s.url} does not support the REST Uploads API.`)}if(!u){const e=await i(n);if(t(r),!e.isBase64)throw new T;u={assetType:a,assetData:e.data}}if(!u)throw new v;return{item:u,assetName:c}}function Z(e,s,r){const o=O(e.length,r?.onProgress,\"prepareAssetItems\");return Promise.all(e.map(async(e,n)=>{const a=Y(await e,s,{...r,onProgress:o.makeOnProgress(n)});return t(r),a}))}async function _(s,r,o){const n=I(o?.onProgress);try{const n=await e(a(r.parsedUrl.path,\"uploadAssets\"),{timeout:0,query:{f:\"json\",assets:JSON.stringify(s)},method:\"post\",responseType:\"json\"});if(t(o),n.data.uploadResults.length!==s.length)throw new b(s.length,n.data.uploadResults.length);return n.data}finally{n.remove()}}function ee(e,s,t){const{success:r}=s;if(!r){const{error:t}=s;throw new j(e.assetName,t)}const{assetHash:o}=s,{assetName:n,item:{assetType:a}}=e,{infoFor3D:{supportedFormats:i}}=t,c=D(a,i);if(!c)throw new P(a);return new f(n,c,[new d(`${t.parsedUrl.path}/assets/${o}`,o)])}async function se({assets:e},s,t){const r=e.map(({assetName:e,parts:s})=>({assetName:e,assetHash:s[0].partHash}));let o;try{const e=a(s.parsedUrl.path,\"convert3D\"),n=s.capabilities?.operations.supportsAsyncConvert3D;o=(await(n?oe:re)(e,{query:{f:\"json\",assets:JSON.stringify(r),transportType:\"esriTransportTypeUrl\",targetFormat:t,async:n},responseType:\"json\",timeout:0})).data}catch(n){throw new h}return te(s,o)}function te(e,s){const t={source:{type:\"service\",assets:s.assets.map(s=>{const t=x(s.contentType,e.infoFor3D.supportedFormats);if(!t)throw new P(t);return new f(s.assetName,s.contentType,[new d(s.assetURL,s.assetHash)])})},origin:void 0,transform:void 0};if(!has(\"disable-feature:georeferenced-uploads\")&&s.transform){if(t.transform=E(s.transform),s.spatialReference){const e=u.fromJSON(s.spatialReference);t.origin=C(s.transform,e)}}else t.transform=N(e.spatialReference);return t}function re(s,t){return e(s,t)}async function oe(s,t){const o=(await e(s,t)).data.statusUrl;for(;;){const s=(await e(o,{query:{f:\"json\"},responseType:\"json\"})).data;switch(s.status){case\"Completed\":return e(s.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new Error(s.status);case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new Error}await r(ce)}}function ne(e){return!!e.infoFor3D&&!!e.url}function ae({infoFor3D:e}){const s=U(e);if(!s)throw new w;return s}function ie(){return s.getLogger(\"esri.layers.graphics.sources.support.uploadAssets\")}const ce=n(1e3);export{B as uploadAssets};\n"],"names":["e","o","Error","r","s","constructor","super","concat","t","n","u","p","a","d","_r$code","_r$messages","code","messages","c","l","i","m","scale","arguments","length","undefined","x","originX","y","originY","z","originZ","spatialReference","translation","translationX","translationZ","translationY","rotationAxis","rotationX","rotationZ","rotationY","rotationAngle","rotationDeg","scaleX","scaleZ","scaleY","upload","createFromFiles","loadMesh","uploadAssetBlobs","prepareAssetItems","uploadAssetItems","uploadConvertibleSource","uploadEditSource","serviceAssetsToGlb","uploadLocalMesh","meshToAssetBlob","this","onProgress","taskName","_progressMap","Map","_startTime","_timingsMap","_weights","set","emitProgress","entries","has","_this$_startTime","Math","round","performance","now","console","log","_this$taskName","end","start","stepKey","stepTime","relativeTime","setProgress","_this$_startTime2","simulate","makeOnProgress","setInterval","exp","g","clearInterval","h","f","async","_ref","data","name","description","w","j","query","responseType","q","maxUploadFileSize","T","U","min","size","A","E","itemName","replaceAll","method","success","itemID","P","item","D","I","ceil","M","Array","push","slice","v","reverse","F","_","pop","FormData","append","timeout","body","remove","Promise","all","b","C","parts","map","join","B","_t$onProgress","call","O","_r$onProgress","layer","ongoingUploads","get","infoFor3D","url","ne","parsedUrl","metadata","externalSources","some","L","displaySource","W","source","checkForConversionRequired","type","assets","Q","original","unitConversionDisabled","$","ae","addExternalSources","reduce","_ref2","asset","File","k","_a$z","transform","origin","_ref5","_ref6","assetName","assetHash","partHash","_s$capabilities","path","capabilities","operations","supportsAsyncConvert3D","oe","re","JSON","stringify","transportType","targetFormat","contentType","supportedFormats","assetURL","fromJSON","N","te","se","georeferenced","useAssetOrigin","vertexSpace","J","load","toBinaryGLTF","signal","ignoreLocalTransform","blob","Blob","assetType","G","_objectSpread","V","extent","clone","H","delete","_ref3","editFormats","R","K","includes","toBlob","X","S","assetUploadId","getLogger","warnOnce","isBase64","assetData","Y","Z","_ref4","uploadResults","error","ee","statusUrl","status","resultUrl","ce","_ref7"],"sourceRoot":""}