{"version":3,"file":"static/js/339.fac8bee8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/webdoc/support/webdocSaveUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js","../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/webdoc/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{MultiOriginJSONSupport as t}from\"../../core/MultiOriginJSONSupport.js\";import{whenOnce as o}from\"../../core/reactiveUtils.js\";import{urlToObject as r,hasSameCanonicalPortal as a}from\"../../core/urlUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../../geometry/SpatialReference.js\";import{equals as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as l}from\"../../geometry/support/webMercatorUtils.js\";import{isServerOrServicesAGOLUrl as p}from\"../../layers/support/arcgisLayerUrl.js\";import{isLayerWithFeatureLayerSource as c,isFeatureCollectionLayer as u}from\"../../layers/support/layerUtils.js\";import m from\"../../portal/Portal.js\";import f from\"../../portal/PortalItem.js\";import{createForItemWrite as d}from\"../../portal/support/jsonContext.js\";import{removeTypeKeyword as w,addTypeKeyword as y,typeKeyword as h,hasTypeKeyword as g,toggleTypeKeyword as _}from\"../../portal/support/portalItemUtils.js\";import{project as b}from\"../../rest/geometryService/project.js\";import j from\"../../rest/support/ProjectParameters.js\";import{findSpatialReference as R,hasDeveloperBasemapLayer as v,isDeveloperBasemapLayer as S}from\"../../support/basemapUtils.js\";import{saveResources as W}from\"./resourceUtils.js\";import{beforeSave as P,evaluateWriteErrors as I,hasCharts as A}from\"./saveUtils.js\";const O=[\"NatGeo_World_Map\",\"Ocean_Basemap\",\"USA_Topo_Maps\",\"World_Imagery\",\"World_Street_Map\",\"World_Terrain_Base\",\"World_Topo_Map\",\"World_Hillshade\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Reference_Overlay\",\"Reference/World_Transportation\"].map(e=>e.toLowerCase());async function T(e,t,r){r??={},M(e,t),await o(()=>!t.updatingFromView),await t.load(),await k(t),await P(t),await E(e,t);const a=t.portalItem,{json:i,jsonContext:n}=await U(t,a,e.origin);return I(n,{errorName:`${e.name}:save`},r),await x(t,a),await _e(e,t,a,i,n),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,n)]),a}async function U(e,t,o){const r=d(t,o,!0),a=e.write({},r);return await Promise.all(r.resources.pendingOperations),{json:a,jsonContext:r}}async function C(e,t,r,a){a??={};const i=V(e,r);await o(()=>!t.updatingFromView),await t.load(),await k(t),await P(t),await E(e,t);const{json:n,jsonContext:s}=await U(t,i,e.origin);I(s,{errorName:`${e.name}:save`},a),await Z(t,i);const l=t.getThumbnailState();return await be(e,t,i,n,s,a)&&(t.resourceReferences.portalItem=i),t.restoreThumbnailFromState(l),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,s)]),i}function M(t,o){if(!o.portalItem)throw new e(`${t.name}:portal-item-not-set`,\"Portal item to save to has not been set on the WebMap\");D(t,o.portalItem)}function D(t,o){if(o.type!==t.itemType)throw new e(`${t.name}:portal-item-wrong-type`,`Portal item needs to have type \"${t.itemType}\"`)}async function E(t,r){if(\"linkchart\"===t.name)return;if(!r.basemap?.baseLayers.length)throw new e(`${t.name}:save`,\"Map does not have a valid basemap with a base layer.\");let a=null;if(await o(()=>{const e=R(r.initialViewProperties,r.basemap);return a=e.spatialReference,!e.updating}),!s(a,r.initialViewProperties.spatialReference))throw new e(`${t.name}:save`,\"The spatial reference of the basemap is not compatible with the one from the map.\",{expected:r.initialViewProperties.spatialReference,actual:a})}function V(e,t){let o=f.from(t);return o.id&&(o=o.clone(),o.id=null),o.type||(o.type=e.itemType),o.portal||(o.portal=m.getDefault()),D(e,o),o}function k(e){const t=[];return e.basemap&&t.push(e.basemap.load()),e.ground&&t.push(e.ground.load()),Promise.allSettled(t).then(()=>{})}async function x(e,t){t.extent=await me(e.portalItem,e.initialViewProperties.viewpoint.targetGeometry),await ee(e,t)}const G=h.JSAPI,L=\"CollectorDisabled\",N=\"Collector\",$=\"Data Editing\",B=\"OfflineDisabled\",F=\"Offline\",H=\"Workforce Project\",K=\"Workforce Worker\",J=\"Workforce Dispatcher\",q=\"Offline Map Areas\",z=\"FieldMapsDisabled\",Q=h.DEVELOPER_BASEMAP,X=\"UtilityNetwork\",Y=\"IPS\";async function Z(e,t){w(t,L),w(t,z),w(t,h.METADATA),w(t,B),w(t,q),w(t,J),w(t,H),w(t,K),await x(e,t)}async function ee(e,t){y(t,G),await te(e),ie(e,t),ne(e,t),se(e,t),le(e,t),pe(e,t),ce(e,t),ue(e,t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter((e,t,o)=>o.indexOf(e)===t))}function te(e){const t=oe(e).map(e=>e.load()).toArray();return Promise.allSettled(t).then(()=>{})}function oe(e){return e.allLayers.concat(e.allTables)}function re(e){return oe(e).some(e=>e.loaded&&c(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled&&(\"subtype-group\"!==e.type||e.sublayers.some(e=>e.editingEnabled)))}function ae(e){return oe(e).filter(e=>\"group\"!==e.type).every(t=>t.loaded&&we(e,t))}function ie(e,t){g(t,L)||g(t,H)||g(t,K)||g(t,J)||!re(e)?w(t,N):y(t,N)}function ne(e,t){re(e)?y(t,$):w(t,$)}function se(e,t){!g(t,B)&&ae(e)?y(t,F):w(t,F)}function le(e,t){v(e.basemap)?y(t,Q):w(t,Q)}function pe(e,t){e.utilityNetworks?.length?y(t,X):w(t,X)}function ce(e,t){e.ipsInfo?y(t,Y):w(t,Y)}function ue(e,t){_(t,h.CHARTS,A(e))}async function me(e,t){const o=t.clone().normalize();let r;if(o.length>1)for(const a of o)r?a.width>r.width&&(r=a):r=a;else r=o[0];return fe(e,r)}async function fe(e,t){const o=t.spatialReference;if(o.isWGS84)return t.clone();if(o.isWebMercator)return l(t);const{getGeometryServiceURL:r}=await import(\"../../portal/support/geometryServiceUtils.js\"),a=await r(e),i=new j({geometries:[t],outSpatialReference:n.WGS84});return(await b(a,i))[0]}function de(e){return u(e)||\"map-notes\"===e.type||\"route\"===e.type}function we(e,t){return c(t)&&t.capabilities.operations.supportsSync||de(t)&&!t.portalItem||ye(t)&&!he(t)&&t.spatialReference.equals(e.initialViewProperties.spatialReference)}function ye(e){return(\"tile\"===e.type||\"vector-tile\"===e.type)&&(e.capabilities.operations.supportsExportTiles||ge(e)||S(e))}function he(e){return\"vector-tile\"===e.type&&Object.keys(e.sourceNameToSource).length>1}function ge(e){return\"tile\"===e.type&&(p(e.url)&&O.some(t=>e.url?.toLowerCase().includes(\"/\"+t+\"/\")))}async function _e(e,t,o,r,a){await o.update({data:r}),ve(e,t,o,r,a)}async function be(t,o,r,a,i,n){const s=o.portalItem,l={item:s,authenticated:!(!s?.id||!s.portal.user)},p=r.portal;await p.signIn();const{copyAllowed:c,itemReloaded:u}=await je(l,p);if(l.authenticated||=u,!c)throw new e(`${t.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const m=await Re(r,l,a,n);return o.portalItem=r,ve(t,o,r,a,i),m}async function je(e,t){const{item:o,authenticated:r}=e;return o?.id&&o.typeKeywords?.includes(\"useOnly\")?o.portal.portalHostname!==t.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(r||await o.reload(),{copyAllowed:\"admin\"===o.itemControl||\"update\"===o.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}}async function Re(e,t,o,r){const i=e.portal,{item:n}=t,{folder:s,copyAllResources:l}=r;let p=!1;if(l&&n?.id&&a(n.portal.url,i.url)&&parseInt(n.portal.currentVersion,10)>=2023){const{total:e}=await n.fetchResources();p=!!e}if(p){const t=await n.copy({copyResources:\"all\",folder:s});e.id=t.id,e.portal=t.portal;const r=e.toJSON();await e.load(),e.read(r),await e.update({data:o})}else await i.user.addItem({item:e,folder:s,data:o});return p}function ve(e,o,a,n,s){t.prototype.read.call(o,{version:n.version,authoringApp:n.authoringApp,authoringAppVersion:n.authoringAppVersion},{origin:e.origin,ignoreDefaults:!0,url:a.itemUrl?r(a.itemUrl):void 0}),i(s),o.resourceInfo=n}export{U as createJSON,Re as initializeNewItem,je as isCopyAllowed,T as save,C as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{getLayersWithChartSupport as r}from\"../../layers/support/layerUtils.js\";async function o(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const t=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function s(r,o,s){let n=(r.messages??[]).filter(({type:e})=>\"error\"===e).map(({name:r,message:o,details:t})=>new e(r,o,t));if(r.blockedRelativeUrls&&(n=n.concat(r.blockedRelativeUrls.map(r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`)))),s){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:o}=s;e&&(n=n.filter(({name:e})=>!(t.has(e)||r.includes(e)))),o&&(n=n.filter(e=>\"web-document-write:property-required\"!==e.name))}if(n.length>0)throw new e(o.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:n})}function n(e){return r(e).some(e=>!!e.charts?.length)}export{o as beforeSave,s as evaluateWriteErrors,n as hasCharts};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map(({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)}))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach(({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)})}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{allSettledErrors as t,throwIfAborted as r,eachAlways as o}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as a,contentToBlob as c}from\"../../portal/support/resourceUtils.js\";async function p(e,t,r){const o=await u(e,t,r);await h(o,t,r)}async function n(e,t,r,o,s){const a=await u(r,o,s);await e.update({data:t}),await h(a,o,s)}async function u(o,p,n){if(!p?.resources)return;const u=p.portalItem===o.portalItem?new Set(o.paths):new Set;o.paths.length=0,o.portalItem=p.portalItem;const h=new Set(p.resources.toKeep.map(e=>e.resource.path)),i=new Set,m=[];h.forEach(e=>{u.delete(e),o.paths.push(e)});const f=[],l=[],w=[];for(const e of p.resources.toUpdate)if(u.delete(e.resource.path),h.has(e.resource.path)||i.has(e.resource.path)){const{resource:t,content:r,finish:p}=e,n=a(t,s());o.paths.push(n.path),f.push({resource:n,content:await c(r),compress:e.compress}),p&&w.push(()=>p(n))}else{o.paths.push(e.resource.path),l.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push(()=>t(e.resource)),i.add(e.resource.path)}for(const e of p.resources.toAdd)if(o.paths.push(e.resource.path),u.has(e.resource.path))u.delete(e.resource.path);else{f.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push(()=>t(e.resource))}if(f.length||l.length){const{addOrUpdateResources:e}=await import(\"../../portal/support/resourceUtils.js\");await e(p.portalItem,f,\"add\",n),await e(p.portalItem,l,\"update\",n)}if(w.forEach(e=>e()),0===m.length)return u;const d=await t(m);if(r(n),d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d});return u}async function h(e,t,r){if(!e||!t.portalItem)return;const s=[];for(const o of e){const e=t.portalItem.resourceFromPath(o);s.push(e.portalItem.removeResource(e,r))}await o(s)}export{p as saveResources,n as updateItemWithResources};\n"],"names":["O","map","e","toLowerCase","async","T","t","r","o","portalItem","concat","name","D","M","updatingFromView","load","k","P","E","a","json","i","jsonContext","n","U","origin","I","errorName","x","update","data","ve","_e","Promise","all","updateItemThumbnail","W","resourceReferences","d","write","resources","pendingOperations","C","f","from","id","clone","type","itemType","portal","m","getDefault","V","s","w","L","z","h","METADATA","B","q","J","H","K","Z","l","getThumbnailState","item","authenticated","user","p","signIn","copyAllowed","c","itemReloaded","u","_o$typeKeywords","typeKeywords","includes","portalHostname","reload","itemControl","je","folder","copyAllResources","url","parseInt","currentVersion","total","fetchResources","copy","copyResources","toJSON","read","addItem","Re","be","restoreThumbnailFromState","_r$basemap","basemap","baseLayers","length","R","initialViewProperties","spatialReference","updating","expected","actual","push","ground","allSettled","then","extent","normalize","width","isWGS84","isWebMercator","getGeometryServiceURL","j","geometries","outSpatialReference","WGS84","b","fe","me","viewpoint","targetGeometry","y","G","oe","toArray","te","g","re","N","ie","$","ne","filter","every","loaded","capabilities","operations","supportsSync","de","supportsExportTiles","some","_e$url","ge","S","ye","Object","keys","sourceNameToSource","he","equals","we","ae","F","se","v","Q","le","_e$utilityNetworks","utilityNetworks","X","pe","ipsInfo","Y","ce","_","CHARTS","A","ue","indexOf","ee","JSAPI","DEVELOPER_BASEMAP","allLayers","allTables","supportsEditing","editingEnabled","sublayers","prototype","call","version","authoringApp","authoringAppVersion","ignoreDefaults","itemUrl","resourceInfo","beforeSave","Set","_r$messages","messages","_ref","_ref2","message","details","blockedRelativeUrls","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","_ref3","has","errors","_e$charts","charts","arguments","undefined","start","num","sortOrder","sortField","query","token","apiKey","signal","request","nextStart","created","size","resource","Date","resourceFromPath","Map","content","compress","access","hasPath","path","set","prefix","files","get","fileName","userItemUrl","values","slice","FormData","append","method","body","deleteAll","lastIndexOf","blob","Blob","jsonString","responseType","writtenProperties","forEach","target","propName","newOrigin","originOf","updateOrigin","paths","toKeep","delete","toUpdate","finish","add","toAdd","addOrUpdateResources","removeResource"],"sourceRoot":""}