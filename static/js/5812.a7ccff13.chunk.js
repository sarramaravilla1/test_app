"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[823,2633,5812],{24921:(t,n,e)=>{e.d(n,{GP:()=>f,LI:()=>c,lc:()=>u,u5:()=>s});e(11265);var o=e(50265);const i=/^-?(\d+)(\.(\d+))?$/i;function l(t,n){return t-n}function r(t,n){let e,o;return e=Number(t.toFixed(n)),e<t?o=e+1/10**n:(o=e,e-=1/10**n),e=Number(e.toFixed(n)),o=Number(o.toFixed(n)),[e,o]}function a(t,n,e,o,i){const l=s(t,n,e,o),r=null==l.previous||l.previous<=i,a=null==l.next||l.next<=i;return r&&a||l.previous+l.next<=2*i}function u(t){const n=String(t),e=n.match(i);if(null!==e&&void 0!==e&&e[1])return{integer:e[1].split("").length,fractional:e[3]?e[3].split("").length:0};if(n.toLowerCase().includes("e")){const t=n.split("e"),e=t[0],o=t[1];if(e&&o){const t=Number(e);let n=Number(o);const i=n>0;i||(n=Math.abs(n));const l=u(t);return i?(l.integer+=n,n>l.fractional?l.fractional=0:l.fractional-=n):(l.fractional+=n,n>l.integer?l.integer=1:l.integer-=n),l}}return{integer:0,fractional:0}}function s(t,n,e,o){const i={previous:null,next:null};if(null!=e){const o=t-e,l=n-e-o;i.previous=Math.floor(Math.abs(100*l/o))}if(null!=o){const e=o-t,l=o-n-e;i.next=Math.floor(Math.abs(100*l/e))}return i}function c(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const e=t.slice(),{tolerance:o=2,strictBounds:i=!1,indexes:s=e.map((t,n)=>n)}=n;s.sort(l);for(let l=0;l<s.length;l++){const t=s[l],n=e[t],c=0===t?null:e[t-1],d=t===e.length-1?null:e[t+1],f=u(n).fractional;if(f){let u,s=0,m=!1;for(;s<=f&&!m;){const t=r(n,s);u=i&&0===l?t[1]:t[0],m=a(n,u,c,d,o),s++}m&&(e[t]=u)}}return e}const d={maximumFractionDigits:20};function f(t){return(0,o.ZV)(t,d)}},35812:(t,n,e)=>{e.d(n,{getRampStops:()=>u});var o=e(69539),i=e(18690),l=e(60823);const r=new o.A([64,64,64]);function a(t,n){const e=[],o=t.length-1;return 5===t.length?e.push(0,2,4):e.push(0,o),t.map((t,i)=>e.includes(i)?(0,l.Dd)(t,i,o,n):null)}async function u(t,n,o){let l=!1,r=[],u=[];if(t.stops){const n=t.stops;r=n.map(t=>t.value),l=n.some(t=>!!t.label),l&&(u=n.map(t=>t.label))}const c=r[0],d=r[r.length-1];if(null==c&&null==d)return null;const f=l?null:a(r,o);return(await Promise.all(r.map(async(o,i)=>{var r;const a="opacity"===t.type?await s(o,t,n):(await Promise.resolve().then(e.bind(e,15492))).getColor(t,o),c=l?u[i]:null!==(r=null===f||void 0===f?void 0:f[i])&&void 0!==r?r:"";return null==a?null:{value:o,color:a,label:c}}))).filter(i.Ru).reverse()}async function s(t,n,i){const l=new o.A(null!==i&&void 0!==i?i:r),a=(await Promise.resolve().then(e.bind(e,15492))).getOpacity(n,t);return null!=a&&(l.a=a),l}},42633:(t,n,e)=>{e.d(n,{EG:()=>v,Ll:()=>F,R3:()=>w,UH:()=>s,aM:()=>h,fs:()=>m,i0:()=>b});var o=e(89379),i=e(65256),l=e(53430),r=(e(63919),e(76386)),a=e(36693),u=e(67478);const s=",",c={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},d=new Set(["integer","small-integer"]);let f=null;function m(t){return(0,l.vE)(t)||(0,l.zD)(t)||(0,l.Ah)(t)}async function v(t){const{field:n,field2:e,field3:o,normalizationField:i,valueExpression:l,fields:a}=t;let u=[];if(l){if(!f){const{arcadeUtils:t}=await(0,r.l)();f=t}u=f.extractFieldNames(l)}return n&&u.push(n),e&&u.push(e),o&&u.push(o),i&&u.push(i),a&&u.push(...a),u}function p(t){return String(t).padStart(2,"0")}function g(t,n,e){let o;return"date"===n||"number"===n?("number"===n&&(t=new Date(t)),o="TIMESTAMP'".concat(e?t.getFullYear():t.getUTCFullYear(),"-").concat(p((e?t.getMonth():t.getUTCMonth())+1),"-").concat(p(e?t.getDate():t.getUTCDate())," ").concat(p(e?t.getHours():t.getUTCHours()),":").concat(p(e?t.getMinutes():t.getUTCMinutes()),":").concat(p(e?t.getSeconds():t.getUTCSeconds()),"'")):o=t,o}function h(t,n,e,o){const{hasQueryEngine:i}=t,l="(".concat(g(e,y(t,e),i)," - ").concat(g(n,y(t,n),i),")");let r=c[o],a="/";return r<1&&(r=1/r,a="*"),{sqlExpression:1===r?l:"(".concat(l," ").concat(a," ").concat(r,")"),sqlWhere:null}}function y(t,n){if(n instanceof Date)return"date";if("number"==typeof n)return"number";if("string"==typeof n){const e=t.getField(n);if("<now>"===n.toLowerCase())return;if((0,l.vE)(e))return"field"}}function w(t,n){const e=n&&t.getField(n);return!!e&&d.has(e.type)}function F(t){return"cast(".concat(t," as float)")}function b(t,n){const{format:e,fieldFormat:l,timeZoneOptions:r,fieldType:s}=null!==n&&void 0!==n?n:{},c=l?(0,i._m)(l):null;let d,f;if(r&&({timeZone:d,timeZoneName:f}=(0,u.hv)(r.layerTimeZone,r.datesInUnknownTimezone,r.viewTimeZone,c||(0,i.J2)(e||"short-date-short-time"),s)),"string"==typeof t&&isNaN(Date.parse("time-only"===s?"1970-01-01T".concat(t,"Z"):t)))return t;switch(s){case"date-only":{const n=c||(0,i.J2)(e||"short-date");return"string"==typeof t?(0,i.iS)(t,(0,o.A)({},n)):(0,i.Yq)(t,(0,o.A)((0,o.A)({},n),{},{timeZone:a.n$}))}case"time-only":{const n=c||(0,i.J2)(e||"short-time");return"string"==typeof t?(0,i.F8)(t,n):(0,i.Yq)(t,(0,o.A)((0,o.A)({},n),{},{timeZone:a.n$}))}case"timestamp-offset":{if(!d&&"string"==typeof t&&new Date(t).toISOString()!==t)return t;const n=e||c||r?c||(0,i.J2)(e||"short-date-short-time"):void 0,l=n?(0,o.A)((0,o.A)({},n),{},{timeZone:d,timeZoneName:f}):void 0;return"string"==typeof t?(0,i.Ey)(t,l):(0,i.Yq)(t,l)}default:{const n=e||c||r?c||(0,i.J2)(e||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof t?new Date(t):t,n?(0,o.A)((0,o.A)({},n),{},{timeZone:d,timeZoneName:f}):void 0)}}}},60823:(t,n,e)=>{e.d(n,{Dd:()=>m,Zo:()=>v,getFormatOptionsForVisualVariable:()=>w,iz:()=>F});e(11265);var o=e(18288),i=e(78083),l=e(31933),r=e(17542),a=e(24921),u=e(42633),s=e(7246),c=e(50265);const d="<",f=">";function m(t,n,e,o){let i="";0===n?i="".concat(d," "):n===e&&(i="".concat(f," "));const l=function(t,n){if(null==t)return t;const{fieldType:e,format:o,fieldFormat:i,timeZoneOptions:l}=n||{};if(h(e))return(0,u.i0)(t,{fieldType:e,format:null===o||void 0===o?void 0:o.dateFormat,fieldFormat:"date-time"===(null===i||void 0===i?void 0:i.type)?i:void 0,timeZoneOptions:l});if("string"==typeof t&&function(t){const{format:n,fieldFormat:e}=t||{};return"number"===(null===e||void 0===e?void 0:e.type)||!!n&&null==n.dateFormat&&(null!=n.places||null!=n.digitSeparator)}(n)){const n=Number(t);isNaN(n)||(t=n)}if("string"==typeof t)return t;const r="number"===(null===i||void 0===i?void 0:i.type)?(0,c.Up)(i):o?(0,c.yx)(o):void 0;return r?(0,c.ZV)(t,r):(0,a.GP)(t)}(t,o);return null==l?"":i+l}async function v(t,n){const o=t.trailCap,i=t.trailWidth||1,l=n||await async function(t){var n;if(!("visualVariables"in t)||!t.visualVariables)return null;const o=t.visualVariables.find(t=>"color"===t.type);if(!o)return null;let i=null,l=null;if(o.stops){if(1===o.stops.length)return o.stops[0].color;i=o.stops[0].value,l=o.stops[o.stops.length-1].value}const r=null!=i&&null!=l?i+(l-i)/2:0,{getColor:a}=await Promise.resolve().then(e.bind(e,15492));return null!==(n=a(o,r))&&void 0!==n?n:null}(t)||t.color;return new s.A({cap:o,color:l,width:i})}function p(t,n){var e;const o="popupTemplate"in t?null===(e=t.popupTemplate)||void 0===e?void 0:e.fieldInfos:null;if(null!==o&&void 0!==o&&o.length&&n)return o.find(t=>{var e;return(null===(e=t.fieldName)||void 0===e?void 0:e.toLowerCase())===n.toLowerCase()})}function g(t){var n,e,i,l,r,a;let u=0,s=0;return t.stops?(u=null!==(n=null===(e=t.stops)||void 0===e||null===(e=e.at(0))||void 0===e?void 0:e.value)&&void 0!==n?n:u,s=null!==(i=null===(l=t.stops)||void 0===l||null===(l=l.at(-1))||void 0===l?void 0:l.value)&&void 0!==i?i:s):"minDataValue"in t&&"maxDataValue"in t&&(u=null!==(r=t.minDataValue)&&void 0!==r?r:u,s=null!==(a=t.maxDataValue)&&void 0!==a?a:s),s-u>2*o.vf.days?"short-date":"short-date-short-time"}function h(t){return["date","date-only","time-only","timestamp-offset"].includes(t||"")}function y(t){return(0,l.jy)(t)&&!("featureReduction"in t&&t.featureReduction)}function w(t,n,e){var o,l;const a=function(t,n,e){var o,i;const l=function(t,n){var e,o;if(!n)return null;if("featureReduction"in t)switch(null===(e=t.featureReduction)||void 0===e?void 0:e.type){case"cluster":case"binning":{const e=t.featureReduction.fields.find(t=>{let{name:e}=t;return e.toLowerCase()===n.toLowerCase()});return e&&"getField"in t?t.getField(e.onStatisticField):null}}return"getField"in t?null===(o=t.getField)||void 0===o?void 0:o.call(t,n):null}(t,n),r=null===l||void 0===l?void 0:l.name;if(!r)return null;const a=null===l||void 0===l?void 0:l.type,u=y(t);return{fieldType:a,format:u?null:null===(o=p(t,r))||void 0===o?void 0:o.format,fieldFormat:u?null===(i=t.getFieldConfiguration(r))||void 0===i?void 0:i.fieldFormat:null,timeZoneOptions:h(a)?{layerTimeZone:"preferredTimeZone"in t?t.preferredTimeZone:null,viewTimeZone:e,datesInUnknownTimezone:"datesInUnknownTimezone"in t&&t.datesInUnknownTimezone}:null}}(t,n.field,e);return a?(h(a.fieldType)&&(y(t)?null!==(o=a.fieldFormat)&&void 0!==o||(a.fieldFormat=new i.A({dateStyle:"short",timeStyle:"short-date-short-time"===g(n)?"short":null})):null!==(l=a.format)&&void 0!==l||(a.format=new r.A({dateFormat:g(n)}))),a):null}function F(t,n){var e;if("authoringInfo"in t)return null===(e=t.authoringInfo)||void 0===e||null===(e=e.visualVariables)||void 0===e?void 0:e.find(t=>{let{theme:e}=t;return e===n})}}}]);
//# sourceMappingURL=5812.a7ccff13.chunk.js.map