"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[2629,6607,8988],{48988:(e,t,n)=>{n.d(t,{OverrideHelper:()=>f});var r=n(69539),o=n(59784),i=n(53084),l=n(1900),s=n(81456),a=n(97763),c=n(52629);const u=e=>{if(!e)return[0,0,0,0];const{r:t,g:n,b:r,a:o}=e;return[t,n,r,255*o]};class f{static findApplicableOverrides(e,t,n){if(e&&t){if(e.primitiveName){let r=!1;for(const t of n)if(t.primitiveName===e.primitiveName){r=!0;break}if(!r)for(const o of t)o.primitiveName===e.primitiveName&&n.push(o)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const r of e.effects)f.findApplicableOverrides(r,t,n);if(e.symbolLayers)for(const r of e.symbolLayers)f.findApplicableOverrides(r,t,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const r of e.effects)f.findApplicableOverrides(r,t,n);if(e.markerPlacement&&f.findApplicableOverrides(e.markerPlacement,t,n),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const r of e.markerGraphics)f.findApplicableOverrides(r,t,n),f.findApplicableOverrides(r.symbol,t,n)}else"CIMCharacterMarker"===e.type?f.findApplicableOverrides(e.symbol,t,n):"CIMHatchFill"===e.type?f.findApplicableOverrides(e.lineSymbol,t,n):"CIMPictureMarker"===e.type&&f.findApplicableOverrides(e.animatedSymbolProperties,t,n)}}}static findEffectOverrides(e,t){if(!e)return null;if("CIMGeometricEffectDashes"===e.type&&(0,a.FH)(e),!t||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const n=(0,a.rB)(e),r=e.primitiveName,o=[];for(const i of t)i.primitiveName===r&&o.push((0,a.rB)(i));return{type:"cim-effect-param",effect:n,overrides:(0,a.pk)(o)}}static async resolveSymbolOverrides(e,t,n,r,o,s,c){if(null===e||void 0===e||!e.symbol)return null;let{symbol:u,primitiveOverrides:p}=e;const h=!!p;if(!h&&!r)return u;u=(0,i.o8)(u),p=(0,i.o8)(p);let d=!0;if(t||(t={attributes:{}},d=!1),h){if(d||(p=p.filter(e=>{var t;return!(null!==(t=e.valueExpressionInfo)&&void 0!==t&&t.expression.includes("$feature"))})),c||(p=p.filter(e=>{var t;return!(null!==(t=e.valueExpressionInfo)&&void 0!==t&&t.expression.includes("$view"))})),p.length>0){const e=(0,a.O2)(t.attributes),r={spatialReference:n,fields:e,geometryType:o};await f.createRenderExpressions(p,r),f.evaluateOverrides(p,t,null!==o&&void 0!==o?o:"esriGeometryPoint",s,c,new l.A(e))}f.applyOverrides(u,p)}return r&&f.applyDictionaryTextOverrides(u,t,r,null),u}static async createRenderExpressions(e,t){const n=[];for(const r of e){const e=r.valueExpressionInfo;if(!e||f._expressionToRenderExpression.has(e.expression))continue;const o=(0,s.Ad)(e.expression,t.spatialReference);n.push(o),o.then(t=>f._expressionToRenderExpression.set(e.expression,t))}n.length>0&&await Promise.all(n)}static evaluateOverrides(e,t,n,r,i,l){const s={$view:{scale:null===i||void 0===i?void 0:i.scale}};for(const a of e){a.value&&"object"==typeof a.value&&(0,o.IB)(a.value)&&("Color"===a.propertyName||"StrokeColor"===a.propertyName)&&(a.value=u(a.value));const e=a.valueExpressionInfo;if(!e)continue;const i=f._expressionToRenderExpression.get(e.expression);i&&(a.value=(0,c.default)(i,t,s,n,l,r))}}static applyDictionaryTextOverrides(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Normal";if(null!==e&&void 0!==e&&e.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const i=e.symbolLayers;if(!i)return;for(const l of i)l&&"CIMVectorMarker"===l.type&&f.applyDictionaryTextOverrides(l,t,n,r,"CIMTextSymbol"===e.type?e.textCase:o)}break;case"CIMVectorMarker":{const o=e.markerGraphics;if(!o)return;for(const e of o)e&&f.applyDictionaryTextOverrides(e,t,n,r)}break;case"CIMMarkerGraphic":{const i=e.textString;if(i&&i.includes("[")){const l=(0,a.gQ)(i,n);e.textString=(0,a.FM)(t,l,r,o)}}}}static applyOverrides(e,t,n,r){if(e.primitiveName)for(const o of t)if(o.primitiveName===e.primitiveName){const t=(0,a.YF)(o.propertyName);if(r&&r.push({cim:e,nocapPropertyName:t,value:e[t]}),n){let t=!1;for(const r of n)r.primitiveName===e.primitiveName&&(t=!0);t||n.push(o)}null!=o.value&&(e[t]=o.value)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const o of e.effects)f.applyOverrides(o,t,n,r);if(e.symbolLayers)for(const o of e.symbolLayers)f.applyOverrides(o,t,n,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const o of e.effects)f.applyOverrides(o,t,n,r);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const o of e.markerGraphics)f.applyOverrides(o,t,n,r),f.applyOverrides(o.symbol,t,n,r)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const n of e)void 0!==n.value&&(t+="".concat(n.primitiveName).concat(n.propertyName).concat(JSON.stringify(n.value)));return t}static toValue(e,t){if("DashTemplate"===e)return t.split(" ").map(e=>Number(e));if("Color"===e){const e=new r.A(t).toRgba();return e[3]*=255,e}return t}}f._expressionToRenderExpression=new Map},52629:(e,t,n)=>{n.d(t,{default:()=>s});var r=n(89379),o=n(50076),i=n(76460),l=n(76279);function s(e,t,n,r,o,l){if(null==e)return null;const s=e.references("geometry")&&l?c(t,r,l):t,a=e.repurposeFeature(s,o);try{return e.evaluate(a,n)}catch(u){return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",u),null}}const a=new Map;function c(e,t,n){const{transform:s,hasZ:c,hasM:u}=n;a.has(t)||a.set(t,function(e){const t={};switch(e){case"esriGeometryPoint":return(e,n,r,o)=>(0,l.Tr)(n,t,e,r,o);case"esriGeometryPolygon":return(e,n,r,o)=>(0,l.$X)(n,t,e,r,o);case"esriGeometryPolyline":return(e,n,r,o)=>(0,l.P5)(n,t,e,r,o);case"esriGeometryMultipoint":return(e,n,r,o)=>(0,l.SW)(n,t,e,r,o);default:return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new o.A("mapview-arcade","Unable to handle geometryType: ".concat(e))),e=>e}}(t));const f=a.get(t)(e.geometry,s,c,u);return(0,r.A)((0,r.A)({},e),{},{geometry:f})}},59784:(e,t,n)=>{n.d(t,{$:()=>b,IB:()=>s,Iy:()=>T,N2:()=>x,QP:()=>N,RH:()=>k,Vl:()=>S,Ws:()=>w,ZD:()=>C,_L:()=>O,bJ:()=>A,e$:()=>P,f6:()=>G,pf:()=>L});var r=n(69539),o=n(18690),i=n(53084),l=(n(15941),n(43047),n(55855));function s(e){return"r"in e&&"g"in e&&"b"in e}function a(e){return"h"in e&&"s"in e&&"v"in e}function c(e){return"l"in e&&"a"in e&&"b"in e}function u(e){return"l"in e&&"c"in e&&"h"in e}const f=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],p=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function h(e,t){const n=[];let r,o;if(e[0].length!==t.length)throw new Error("dimensions do not match");const i=e.length,l=e[0].length;let s=0;for(r=0;r<i;r++){for(s=0,o=0;o<l;o++)s+=e[r][o]*t[o];n.push(s)}return n}function d(e){const t=[e.r/255,e.g/255,e.b/255].map(e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4),n=h(f,t);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function v(e){const t=h(p,[e.x/100,e.y/100,e.z/100]).map(e=>{const t=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055;return Math.min(1,Math.max(t,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function m(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function g(e){const t=e.l,n=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(e=>e>6/29?e**3:3*(6/29)**2*(e-4/29));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function y(e){return function(e){const t=e.l,n=e.a,r=e.b,o=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i=i>0?i:i+2*Math.PI,{l:t,c:o,h:i}}(m(d(e)))}function M(e){return v(g(function(e){const t=e.l,n=e.c,r=e.h;return{l:t,a:n*Math.cos(r),b:n*Math.sin(r)}}(e)))}function b(e){return s(e)?e:u(e)?M(e):c(e)?function(e){return v(g(e))}(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?v(e):a(e)?function(e){const t=(e.h+360)%360/60,n=e.s/100,r=e.v/100*255,o=r*n,i=o*(1-Math.abs(t%2-1));let l;switch(Math.floor(t)){case 0:l={r:o,g:i,b:0};break;case 1:l={r:i,g:o,b:0};break;case 2:l={r:0,g:o,b:i};break;case 3:l={r:0,g:i,b:o};break;case 4:l={r:i,g:0,b:o};break;case 5:case 6:l={r:o,g:0,b:i};break;default:l={r:0,g:0,b:0}}return l.r=Math.round(l.r+r-o),l.g=Math.round(l.g+r-o),l.b=Math.round(l.b+r-o),l}(e):e}function x(e){return a(e)?e:function(e){const t=e.r,n=e.g,r=e.b,o=Math.max(t,n,r),i=o-Math.min(t,n,r);let l=o,s=0===i?0:o===t?(n-r)/i%6:o===n?(r-t)/i+2:(t-n)/i+4,a=0===i?0:i/l;return s<0&&(s+=6),s*=60,a*=100,l*=100/255,{h:s,s:a,v:l}}(b(e))}function C(e){return c(e)?e:function(e){return m(d(e))}(b(e))}function k(e){return u(e)?e:y(b(e))}function I(e){let{r:t,g:n,b:o,a:i}=e;return i<1&&(t=Math.round(i*t+255*(1-i)),n=Math.round(i*n+255*(1-i)),o=Math.round(i*o+255*(1-i))),new r.A({r:t,g:n,b:o})}function w(e,t){const{r:n,g:r,b:o}=null!==t&&void 0!==t&&t.ignoreAlpha?e:I(e);return.2126*n+.7152*r+.0722*o}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:225;return w(e,{ignoreAlpha:!0})>t?new r.A([0,0,0,e.a]):new r.A([255,255,255,e.a])}function P(e,t){const n=C(e);n.l*=1-t;const r=b(n),o=e.clone();return o.setColor(r),o.a=e.a,o}function O(e,t){const n=e.clone();return n.a*=t,n}function S(e,t){const n=x(e);n.s*=t;const r=b(n),o=e.clone();return o.setColor(r),o.a=e.a,o}function N(e){return r.A.toUnitRGBA(e)}function L(e){return(0,l.fA)(e[0],e[1],e[2],e.length>3?e[3]:1)}function G(e,t){const n=r.A.toUnitRGBA(e);return n[3]*=t,n}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===e.length||t<=0)return[];if(1===(e=e.map(e=>"string"==typeof e?new r.A(e):e)).length||1===t){const n=[],r=e[0];for(let e=0;e<t;e++)n.push(r.clone());return n}if(n.shuffle&&(e=(0,o.k4)((0,i.o8)(e),n.seed)),e.length>=t){const n=[],r=(e.length-1)/(t-1);for(let o=0;o<t;o++){const t=Math.round(o*r);n.push(e[t].clone())}return n}return function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=[],l=e.length-1,s=Math.ceil((t-e.length)/l);e:for(let o=0;o<l;o++){const n=e[o],l=e[o+1];for(let o=1;o<=s;o++){const a=o/(s+1);if(i.push(Z(n,l,a,r)),i.length+e.length===t)break e}}return[...e.map(e=>e.clone()),...(0,o.k4)(i,null!==(n=r.seed)&&void 0!==n?n:1)]}(e,t,n)}const E=(e,t)=>{const n=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+n))};function Z(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const l=e.r,s=e.g,a=e.b,c=t.r,u=t.g,f=t.b,p=Math.round(l+(c-l)*n),h=Math.round(s+(u-s)*n),d=Math.round(a+(f-a)*n);if(!i.offset)return new r.A([p,h,d]);const v=(0,o.Mo)(i.seed);return new r.A([E(p,v),E(h,v),E(d,v)])}},76279:(e,t,n)=>{n.d(t,{$X:()=>S,B2:()=>l,Gy:()=>I,IE:()=>i,P5:()=>N,Q1:()=>o,QE:()=>A,SW:()=>P,Tr:()=>O,VV:()=>r,wp:()=>w});n(19902);function r(e){var t,n;return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,null!==(t=e.extent.zmin)&&void 0!==t?t:0,null!==(n=e.extent.mmin)&&void 0!==n?n:0]:[0,0,0,0]}:null}function o(e){var t,n,r,o,i,l,s,a;if(function(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}(e))return e;const{originPosition:c,scale:u,translate:f}=e,p=null!==(t=u[0])&&void 0!==t?t:1,h=null!==(n=u[1])&&void 0!==n?n:1;return{originPosition:"lowerLeft",scale:[p,"lowerLeft"===c?h:-h,null!==(r=u[2])&&void 0!==r?r:1,null!==(o=u[3])&&void 0!==o?o:1],translate:[null!==(i=f[0])&&void 0!==i?i:0,null!==(l=f[1])&&void 0!==l?l:0,null!==(s=f[2])&&void 0!==s?s:0,null!==(a=f[3])&&void 0!==a?a:0]}}function i(e,t){let{scale:n,translate:r}=e;return Math.round((t-r[0])/n[0])}function l(e,t){let{scale:n,translate:r}=e;return Math.round((t-r[1])/n[1])}function s(e,t){let{scale:n,translate:r}=e;return Math.round(((null!==t&&void 0!==t?t:0)-r[2])/n[2])}function a(e,t){let{scale:n,translate:r}=e;return t?Math.round((t-r[3])/n[3]):0}function c(e,t){return e&&t?h:e&&!t?f:!e&&t?p:u}const u=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let o=i(e,r[0]),s=l(e,r[1]);n.push([o,s]);for(let a=1;a<t.length;a++){const[r,c]=t[a],u=i(e,r),f=l(e,c);u===o&&f===s||n.push([u-o,f-s]),o=u,s=f}return n},f=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let o=i(e,r[0]),a=l(e,r[1]),c=s(e,r[2]);n.push([o,a,c]);for(let u=1;u<t.length;u++){const[r,f,p]=t[u],h=i(e,r),d=l(e,f),v=s(e,p);h===o&&d===a&&v===c||n.push([h-o,d-a,v]),o=h,a=d,c=v}return n},p=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let o=i(e,r[0]),s=l(e,r[1]),c=a(e,r[2]);n.push([o,s,c]);for(let u=1;u<t.length;u++){const[r,f,p]=t[u],h=i(e,r),d=l(e,f),v=a(e,p);h===o&&d===s&&v===c||n.push([h-o,d-s,v]),o=h,s=d,c=v}return n},h=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let o=i(e,r[0]),c=l(e,r[1]),u=s(e,r[2]),f=a(e,r[3]);n.push([o,c,u,f]);for(let p=1;p<t.length;p++){const[r,h,d,v]=t[p],m=i(e,r),g=l(e,h),y=s(e,d),M=a(e,v);m===o&&g===c&&y===u&&M===f||n.push([m-o,g-c,y,M]),o=m,c=g,u=y,f=M}return n};function d(e,t){let{scale:n,translate:r}=e;return t*n[0]+r[0]}function v(e,t){let{scale:n,translate:r}=e;return t*n[1]+r[1]}function m(e,t){let{scale:n,translate:r}=e;return(null!==t&&void 0!==t?t:0)*n[2]+r[2]}function g(e,t){let{scale:n,translate:r}=e;return t?t*n[3]+r[3]:0}function y(e,t){return e&&t?C:e&&!t?b:!e&&t?x:M}const M=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let o=d(e,r[0]),i=v(e,r[1]);n[0]=[o,i];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[e,r]=t[u];o+=a*e,i+=c*r,n[u]=[o,i]}return n},b=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let o=d(e,r[0]),i=v(e,r[1]);n[0]=[o,i,m(e,r[2])];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[r,l,s]=t[u];o+=a*r,i+=c*l,n[u]=[o,i,m(e,s)]}return n},x=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let o=d(e,r[0]),i=v(e,r[1]);n[0]=[o,i,g(e,r[2])];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[r,l,s]=t[u];o+=a*r,i+=c*l,n[u]=[o,i,g(e,s)]}return n},C=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let o=d(e,r[0]),i=v(e,r[1]);n[0]=[o,i,m(e,r[2]),g(e,r[3])];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[r,l,s,f]=t[u];o+=a*r,i+=c*l,n[u]=[o,i,m(e,s),g(e,f)]}return n};function k(e,t,n){const r=new Array(n.length);for(let o=0;o<n.length;o++)r[o]=t(e,n[o]);return r}function I(e,t,n){const r=o(e);return t.x=i(r,n.x),t.y=l(r,n.y),null!=n.z&&(t.z=s(r,n.z)),null!=n.m&&(t.m=a(r,n.m)),t}function w(e,t,n){var r,i;const l=function(e,t,n,r){const o=[],i=c(n,r);for(let l=0;l<t.length;l++){const n=i(e,t[l]);n&&n.length>=3&&o.push(n)}return o.length?o:null}(o(e),n.rings,n.hasZ,n.hasM);return l?(t.rings=l,t.hasZ=null!==(r=n.hasZ)&&void 0!==r&&r,t.hasM=null!==(i=n.hasM)&&void 0!==i&&i,t):null}function A(e,t,n){var r,i;const l=function(e,t,n,r){const o=[],i=c(n,r);for(let l=0;l<t.length;l++){const n=i(e,t[l]);n&&n.length>=2&&o.push(n)}return o.length?o:null}(o(e),n.paths,n.hasZ,n.hasM);return l?(t.paths=l,t.hasZ=null!==(r=n.hasZ)&&void 0!==r&&r,t.hasM=null!==(i=n.hasM)&&void 0!==i&&i,t):null}function P(e,t,n){var r,i;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(r=null===n||void 0===n?void 0:n.hasZ)&&void 0!==r&&r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(i=null===n||void 0===n?void 0:n.hasM)&&void 0!==i&&i;if(null!=n){const r=o(e);t.points=y(l,s)(r,n.points),t.hasZ=l,t.hasM=s}return t}function O(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!=(null===n||void 0===n?void 0:n.z),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!=(null===n||void 0===n?void 0:n.m);if(null==n)return t;const l=o(e);return t.x=d(l,n.x),t.y=v(l,n.y),r&&(t.z=m(l,n.z)),i&&(t.m=g(l,n.m)),t}function S(e,t,n){var r,i;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(r=null===n||void 0===n?void 0:n.hasZ)&&void 0!==r&&r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(i=null===n||void 0===n?void 0:n.hasM)&&void 0!==i&&i;if(null!=n){const r=o(e);t.rings=k(r,y(l,s),n.rings),t.hasZ=l,t.hasM=s}return t}function N(e,t,n){var r,i;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(r=null===n||void 0===n?void 0:n.hasZ)&&void 0!==r&&r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(i=null===n||void 0===n?void 0:n.hasM)&&void 0!==i&&i;if(null!=n){const r=o(e);t.paths=k(r,y(l,s),n.paths),t.hasZ=l,t.hasM=s}return t}}}]);
//# sourceMappingURL=6607.610c0418.chunk.js.map