"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[4330,7995],{1484:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(97255);class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.lengths=null!==e&&void 0!==e?e:[],this.coords=null!==t&&void 0!==t?t:[]}static fromJSON(e){return new s(e.lengths,e.coords)}static fromRect(e){const[t,r,n,i]=e,o=n-t,l=i-r;return new s([5],[t,r,o,0,0,l,-o,0,0,-l])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((e,t)=>e+t)}get usedMemory(){return 64+(0,n.Qf)(this.lengths,this.coords)}area(){let e=0,t=0;if(!this.lengths.length)return 0;for(let r=0;r<this.lengths.length;r++){const n=this.lengths[r];if(n<3)continue;let s=this.coords[2*t],i=this.coords[2*t+1];for(let r=1;r<n;r+=1){const n=this.coords[2*(r+t)],o=this.coords[2*(r+t)+1];e+=-.5*(n-s)*(o+i),s=n,i=o}t+=n}return e}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let r=0;r<this.lengths.length;r++){const n=this.lengths[r];for(let r=0;r<n;r++)e(this.coords[2*(r+t)],this.coords[2*(r+t)+1]);t+=n}}deltaDecode(){const e=this.clone(),{coords:t,lengths:r}=e;let n=0;for(const s of r){for(let e=1;e<s;e++)t[2*(n+e)]+=t[2*(n+e)-2],t[2*(n+e)+1]+=t[2*(n+e)-1];n+=s}return e}clone(e){if(0===this.lengths.length)return new s([],[this.coords[0],this.coords[1]]);const t=2*(0===this.lengths.length?1:this.lengths.reduce((e,t)=>e+t)),r=this.coords.slice(0,t);return e?(e.set(r),new s(this.lengths,e)):new s(Array.from(this.lengths),Array.from(r))}}},20176:(e,t,r)=>{r.d(t,{N3:()=>a,Om:()=>l});var n=r(89379),s=r(97255),i=r(90321),o=r(1484);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.geometry=e,this.attributes=t,this.centroid=r,this.objectId=n,this.displayId=s}static fromJSON(e){const t=e.geometry?o.A.fromJSON(e.geometry):null,r=e.centroid?o.A.fromJSON(e.centroid):null,n=e.objectId;return new l(t,e.attributes,r,n)}weakClone(){const e=new l(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e}clone(){var e,t;const r=null===(e=this.geometry)||void 0===e?void 0:e.clone(),s=new l(r,(0,n.A)({},this.attributes),null===(t=this.centroid)||void 0===t?void 0:t.clone(),this.objectId);return s.displayId=this.displayId,s}ensureCentroid(e){var t;return null!==(t=this.centroid)&&void 0!==t||(this.centroid=(0,i.Q)(new o.A,this.geometry,e.hasZ,e.hasM)),this.centroid}get usedMemory(){var e,t;return 128+(0,s.lM)(this.attributes)+(null!==(e=null===(t=this.geometry)||void 0===t?void 0:t.usedMemory)&&void 0!==e?e:0)}}function a(e){var t;return!(null===(t=e.geometry)||void 0===t||null===(t=t.coords)||void 0===t||!t.length)}},31516:(e,t,r)=>{r.d(t,{F:()=>i});r(18690),r(53084);var n=r(18288),s=r(59187);r(42052),r(72027);function i(e,t,r){if(null==(null===e||void 0===e?void 0:e.timeInfo))return null;const{datesInUnknownTimezone:i=!1,timeOffset:o,useViewTime:l}=e;let a=e.timeExtent;i&&(a=function(e){if(!e)return e;const{start:t,end:r}=e;return new s.A({start:null!=t?(0,n.S1)(t,t.getTimezoneOffset(),"minutes"):t,end:null!=r?(0,n.S1)(r,r.getTimezoneOffset(),"minutes"):r})}(a));let h=l?t&&a?t.intersection(a):t||a:a;return!h||h.isEmpty||h.isAllTime?h:(o&&(h=h.offset(-o.value,o.unit)),i&&(h=function(e){if(!e)return e;const{start:t,end:r}=e;return new s.A({start:null!=t?(0,n.S1)(t,-t.getTimezoneOffset(),"minutes"):t,end:null!=r?(0,n.S1)(r,-r.getTimezoneOffset(),"minutes"):r})}(h)),h.equals(r)?r:h)}},55604:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(89379),s=r(6326),i=r(76460),o=r(30726),l=r(50346),a=r(68134),h=r(46053),u=(r(81806),r(47249),r(87990)),c=r(76797),d=r(14509),g=r(23246),m=r(4176),y=r(91196),p=r(771),f=r(50076),I=r(56287),v=r(31516);const b=e=>{const t=e;let r=class extends t{initialize(){this.exportImageParameters=new I.r({layer:this.layer})}destroy(){this.exportImageParameters=(0,o.pR)(this.exportImageParameters)}get exportImageVersion(){var e;return null!==(e=this.exportImageParameters)&&void 0!==e&&e.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}get timeExtent(){var e;return(0,v.F)(this.layer,null===(e=this.view)||void 0===e?void 0:e.timeExtent,this._get("timeExtent"))}async fetchPopupFeaturesAtLocation(e,t){const{layer:r}=this;if(!e)throw new f.A("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:r});const{popupEnabled:n}=r;if(!n)throw new f.A("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:n});const s=this.createFetchPopupFeaturesQuery(e);if(!s)return[];const{extent:i,width:o,height:a,x:h,y:u}=s;if(!(i&&o&&a))throw new f.A("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:i,width:o,height:a});const c=await r.fetchFeatureInfo(i,o,a,h,u);return(0,l.Te)(t),c}};return(0,s.Cg)([(0,h.MZ)()],r.prototype,"exportImageParameters",void 0),(0,s.Cg)([(0,h.MZ)({readOnly:!0})],r.prototype,"exportImageVersion",null),(0,s.Cg)([(0,h.MZ)()],r.prototype,"layer",void 0),(0,s.Cg)([(0,h.MZ)({readOnly:!0})],r.prototype,"timeExtent",null),r=(0,s.Cg)([(0,u.$)("esri.views.layers.WMSLayerView")],r),r};let w=class extends(b((0,p.I)((0,g.e)(y.A)))){constructor(){super(...arguments),this.bitmapContainer=new d.l}supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}update(e){this.strategy.update(e).catch(e=>{(0,l.zf)(e)||i.A.getLogger(this).error(e)})}attach(){const{layer:e}=this,{imageMaxHeight:t,imageMaxWidth:r}=e;this.bitmapContainer=new d.l,this.container.addChild(this.bitmapContainer),this.strategy=new m.A({container:this.bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:t,imageMaxWidth:r,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.addAttachHandles((0,a.wB)(()=>this.exportImageVersion,()=>this.requestUpdate()))}detach(){this.strategy=(0,o.pR)(this.strategy),this.container.removeAllChildren()}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t,bitmapContainer:r}=this,{x:n,y:s}=e,{spatialReference:i}=t;let o,l=0,a=0;if(r.children.some(e=>{const{width:t,height:r,resolution:h,x:u,y:d}=e,g=u+h*t,m=d-h*r;return n>=u&&n<=g&&s<=d&&s>=m&&(o=new c.A({xmin:u,ymin:m,xmax:g,ymax:d,spatialReference:i}),l=t,a=r,!0)}),!o)return null;const h=o.width/l,u=Math.round((n-o.xmin)/h),d=Math.round((o.ymax-s)/h);return{extent:o,width:l,height:a,x:u,y:d}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,s){return this.layer.fetchImageBitmap(e,t,r,(0,n.A)({timeExtent:this.timeExtent},s))}};(0,s.Cg)([(0,h.MZ)()],w.prototype,"strategy",void 0),w=(0,s.Cg)([(0,u.$)("esri.views.2d.layers.WMSLayerView2D")],w);const N=w},56287:(e,t,r)=>{r.d(t,{r:()=>a});var n=r(6326),s=r(91967),i=r(46053),o=(r(81806),r(76460),r(47249),r(87990));const l={visible:"visibleSublayers"};let a=class extends s.A{constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),e.on("wms-sublayer-update",e=>this.notifyChange(l[e.propertyName]))],"layer"))}get layers(){return this.visibleSublayers.filter(e=>{let{name:t}=e;return t}).map(e=>{let{name:t}=e;return t}).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:t}=this,r=null===e||void 0===e?void 0:e.sublayers,n=[],s=e=>{const{minScale:r,maxScale:i,sublayers:o,visible:l}=e;l&&(0===t||(0===r||t<=r)&&(0===i||t>=i))&&(o?o.forEach(s):n.push(e))};return null!==r&&void 0!==r&&r.forEach(s),n}toJSON(){const{layer:e,layers:t}=this,{imageFormat:r,imageTransparency:n,version:s}=e;return{format:r,request:"GetMap",service:"WMS",styles:"",transparent:n?"TRUE":"FALSE",version:s,layers:t}}};(0,n.Cg)([(0,i.MZ)()],a.prototype,"layer",null),(0,n.Cg)([(0,i.MZ)({readOnly:!0})],a.prototype,"layers",null),(0,n.Cg)([(0,i.MZ)({type:Number})],a.prototype,"scale",void 0),(0,n.Cg)([(0,i.MZ)({readOnly:!0})],a.prototype,"version",null),(0,n.Cg)([(0,i.MZ)({readOnly:!0})],a.prototype,"visibleSublayers",null),a=(0,n.Cg)([(0,o.$)("esri.layers.support.ExportWMSImageParameters")],a)},72027:(e,t,r)=>{r.d(t,{X:()=>n});const n=Symbol("WebScene")},75146:(e,t,r)=>{r.d(t,{A:()=>n});class n{constructor(){this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new n;return e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},90321:(e,t,r)=>{function n(e,t){return e?t?4:3:t?3:2}function s(e,t,r,s){if(null===t||void 0===t||!t.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const l=e.coords,a=[],h=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:u,coords:c}=t,d=n(r,s);let g=0;for(const n of u){const e=i(h,c,g,n,r,s);e&&a.push(e),g+=n*d}if(a.sort((e,t)=>{let n=e[2]-t[2];return 0===n&&r&&(n=e[4]-t[4]),n}),a.length){let e=6*a[0][2];l[0]=a[0][0]/e,l[1]=a[0][1]/e,r&&(e=6*a[0][4],l[2]=0!==e?a[0][3]/e:0),(l[0]<h[0]||l[0]>h[1]||l[1]<h[2]||l[1]>h[3]||r&&(l[2]<h[4]||l[2]>h[5]))&&(l.length=0)}if(!l.length){const e=t.lengths[0]?o(c,0,u[0],r,s):null;if(!e)return null;l[0]=e[0],l[1]=e[1],r&&e.length>2&&(l[2]=e[2])}return e}function i(e,t,r,s,i,o){const l=n(i,o);let a=r,h=r+l,u=0,c=0,d=0,g=0,m=0;for(let n=0,p=s-1;n<p;n++,a+=l,h+=l){const r=t[a],n=t[a+1],s=t[a+2],o=t[h],l=t[h+1],y=t[h+2];let p=r*l-o*n;g+=p,u+=(r+o)*p,c+=(n+l)*p,i&&(p=r*y-o*s,d+=(s+y)*p,m+=p),r<e[0]&&(e[0]=r),r>e[1]&&(e[1]=r),n<e[2]&&(e[2]=n),n>e[3]&&(e[3]=n),i&&(s<e[4]&&(e[4]=s),s>e[5]&&(e[5]=s))}if(g>0&&(g*=-1),m>0&&(m*=-1),!g)return null;const y=[u,c,.5*g];return i&&(y[3]=d,y[4]=.5*m),y}function o(e,t,r,s,i){const o=n(s,i);let c=t,d=t+o,g=0,m=0,y=0,p=0;for(let n=0,f=r-1;n<f;n++,c+=o,d+=o){const t=e[c],r=e[c+1],n=e[c+2],i=e[d],o=e[d+1],f=e[d+2],I=s?a(t,r,n,i,o,f):l(t,r,i,o);if(I)if(g+=I,s){const e=u(t,r,n,i,o,f);m+=I*e[0],y+=I*e[1],p+=I*e[2]}else{const e=h(t,r,i,o);m+=I*e[0],y+=I*e[1]}}return g>0?s?[m/g,y/g,p/g]:[m/g,y/g]:r>0?s?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function l(e,t,r,n){const s=r-e,i=n-t;return Math.sqrt(s*s+i*i)}function a(e,t,r,n,s,i){const o=n-e,l=s-t,a=i-r;return Math.sqrt(o*o+l*l+a*a)}function h(e,t,r,n){return[e+.5*(r-e),t+.5*(n-t)]}function u(e,t,r,n,s,i){return[e+.5*(n-e),t+.5*(s-t),r+.5*(i-r)]}r.d(t,{Q:()=>s})},97255:(e,t,r)=>{r.d(t,{$B:()=>s,Qf:()=>h,Qh:()=>l,RS:()=>i,ez:()=>d,i5:()=>g,lM:()=>o,qK:()=>c});var n=r(78393);function s(e){return 32+e.length}const i=16;function o(e){if(!e)return 0;let t=c;for(const r in e)e.hasOwnProperty(r)&&(t+=a(e[r],!1));return t}function l(e){if(!e)return 0;if("number"==typeof e[0])return h(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return u(e,8);let r=d;for(let n=0;n<t;n++)r+=a(e[n]);return r}(e);let t=c;for(const r in e)e.hasOwnProperty(r)&&(t+=a(e[r]));return t}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(typeof e){case"object":return t?l(e):c;case"string":return s(e);case"number":return i;case"boolean":return 4;default:return 8}}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t)=>e+(t?(0,n.iu)(t)?t.byteLength+g:Array.isArray(t)?u(t,i):0:0),0)}function u(e,t){return d+e.length*t}const c=32,d=16,g=145}}]);
//# sourceMappingURL=4330.bbd2384e.chunk.js.map