"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[823,2040,2633],{24921:(e,o,n)=>{n.d(o,{GP:()=>f,LI:()=>d,lc:()=>a,u5:()=>s});n(11265);var t=n(50265);const i=/^-?(\d+)(\.(\d+))?$/i;function l(e,o){return e-o}function r(e,o){let n,t;return n=Number(e.toFixed(o)),n<e?t=n+1/10**o:(t=n,n-=1/10**o),n=Number(n.toFixed(o)),t=Number(t.toFixed(o)),[n,t]}function u(e,o,n,t,i){const l=s(e,o,n,t),r=null==l.previous||l.previous<=i,u=null==l.next||l.next<=i;return r&&u||l.previous+l.next<=2*i}function a(e){const o=String(e),n=o.match(i);if(null!==n&&void 0!==n&&n[1])return{integer:n[1].split("").length,fractional:n[3]?n[3].split("").length:0};if(o.toLowerCase().includes("e")){const e=o.split("e"),n=e[0],t=e[1];if(n&&t){const e=Number(n);let o=Number(t);const i=o>0;i||(o=Math.abs(o));const l=a(e);return i?(l.integer+=o,o>l.fractional?l.fractional=0:l.fractional-=o):(l.fractional+=o,o>l.integer?l.integer=1:l.integer-=o),l}}return{integer:0,fractional:0}}function s(e,o,n,t){const i={previous:null,next:null};if(null!=n){const t=e-n,l=o-n-t;i.previous=Math.floor(Math.abs(100*l/t))}if(null!=t){const n=t-e,l=t-o-n;i.next=Math.floor(Math.abs(100*l/n))}return i}function d(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.slice(),{tolerance:t=2,strictBounds:i=!1,indexes:s=n.map((e,o)=>o)}=o;s.sort(l);for(let l=0;l<s.length;l++){const e=s[l],o=n[e],d=0===e?null:n[e-1],c=e===n.length-1?null:n[e+1],f=a(o).fractional;if(f){let a,s=0,v=!1;for(;s<=f&&!v;){const e=r(o,s);a=i&&0===l?e[1]:e[0],v=u(o,a,d,c,t),s++}v&&(n[e]=a)}}return n}const c={maximumFractionDigits:20};function f(e){return(0,t.ZV)(e,c)}},32040:(e,o,n)=>{n.d(o,{getRampStops:()=>O});var t=n(69539),i=n(59784),l=n(24921),r=n(53084);n(89465);function u(e){switch(e){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function a(e){var o;return"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)?null===(o=e.markerGraphics)||void 0===o?void 0:o[0]:void 0}function s(e){var o,n;return"CIMPolygonSymbol"===(null===e||void 0===e||null===(o=e.symbol)||void 0===o?void 0:o.type)?null===(n=e.symbol.symbolLayers)||void 0===n?void 0:n[0]:void 0}function d(e,o){"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)&&null!=o&&(e.size=o)}function c(e,o){const n=a(e);n&&null!=o&&(n.geometry=u(o))}function f(e,o){const n=s(a(e));n&&null!=o&&(n.color=o.toArray())}function v(e,o,n){const t=s(a(e));t&&null!=o&&n&&(t.colorLocked=o)}function m(e,o){var n;const{outerRingSize:t,innerDotSize:i,type:l,color:u,colorLocked:a,primitiveOverrides:s}=o,m="CIMPolygonSymbol"===(null===(n=e.data.symbol)||void 0===n?void 0:n.type)?e.data.symbol.symbolLayers:null;if(2===(null===m||void 0===m?void 0:m.length))for(const r of m){const e="reference-size-outer-ring"===r.primitiveName;d(r,e?t:i),c(r,l),f(r,u),v(r,a,e)}return null!=t&&null!=i&&(e.data.primitiveOverrides=null),void 0!==s&&(e.data.primitiveOverrides=(0,r.o8)(s)),e}var p=n(89379),y=n(76931);const h="spike-height-override";(0,y.PN)(8),(0,y.PN)(20);function g(e){var o;const{strokeColor:n,strokeWidth:t,symbolStyle:i}=e,l=(null===i||void 0===i?void 0:i.includes("solid-fill"))||(null===i||void 0===i?void 0:i.includes("gradient-fill"));let r=null===n||void 0===n?void 0:n.toArray(),u=!1;return null!==i&&void 0!==i&&i.includes("outline")&&l?u=!0:r=null===(o=e.color)||void 0===o?void 0:o.toArray(),{type:"CIMSolidStroke",effects:b(i),enable:!0,colorLocked:u,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:null!==t&&void 0!==t?t:(0,y.PN)(1),color:r}}function b(e){if(null===e||void 0===e||!e.includes("closed"))return[{type:"CIMGeometricEffectAddControlPoints",angleTolerance:90,primitiveName:"spike-control-points"},{type:"CIMGeometricEffectSuppress",suppress:!0,invert:!0,primitiveName:"spike-stroke-suppress"}]}function w(e){const{color:o,symbolStyle:n}=e,t=null===n||void 0===n?void 0:n.includes("solid-fill"),i=null===n||void 0===n?void 0:n.includes("gradient-fill");if(!t&&!i||!o)return;if(t)return{type:"CIMSolidFill",enable:!0,colorLocked:!1,color:null===o||void 0===o?void 0:o.toArray()};const l=o.clone();return l.a=0,{type:"CIMGradientFill",enable:!0,angle:90,colorRamp:{type:"CIMMultipartColorRamp",colorRamps:[{type:"CIMLinearContinuousColorRamp",fromColor:o.toArray(),toColor:l.toArray()}],weights:[1]},gradientMethod:"Linear",gradientSize:70,gradientSizeUnits:"Relative",gradientType:"Continuous"}}function C(e,o){var n,i,l;const{defaultHeight:u,baseWidth:a,color:s,strokeColor:d,primitiveOverrides:c,symbolStyle:f,strokeWidth:v}=o,m="CIMPointSymbol"===(null===(n=e.data.symbol)||void 0===n?void 0:n.type)?e.data.symbol:null,y=null===m||void 0===m?void 0:m.symbolLayers;if(!y)return e;const b=m.effects,C=null===b||void 0===b?void 0:b.find(e=>"CIMGeometricEffectTaperedPolygon"===e.type),k=null===b||void 0===b?void 0:b.find(e=>"CIMGeometricEffectRadial"===e.type&&e.primitiveName===h);null!=a&&C&&(C.fromWidth=a),null!=u&&k&&(k.length=u);const z=null===y||void 0===y?void 0:y.find(e=>"CIMSolidStroke"===e.type),A=null===y||void 0===y?void 0:y.find(e=>"CIMSolidFill"===e.type),I=null===y||void 0===y?void 0:y.find(e=>"CIMGradientFill"===e.type),M="CIMMultipartColorRamp"===(null===I||void 0===I||null===(i=I.colorRamp)||void 0===i?void 0:i.type)&&"CIMLinearContinuousColorRamp"===(null===(l=I.colorRamp.colorRamps[0])||void 0===l?void 0:l.type)?I.colorRamp.colorRamps[0]:null;if(f){var F,T,L;const e=null!==(F=null!==(T=null===A||void 0===A?void 0:A.color)&&void 0!==T?T:null===M||void 0===M?void 0:M.fromColor)&&void 0!==F?F:null===z||void 0===z?void 0:z.color,n=null!==s&&void 0!==s?s:e?new t.A(e):void 0,i=null!==(L=null===z||void 0===z?void 0:z.color)&&void 0!==L?L:e,l=null!==d&&void 0!==d?d:i?new t.A(i):void 0,r=f.includes("solid-fill"),u=f.includes("gradient-fill");if(r||u||S(y,null!==A&&void 0!==A?A:I),n)if(r)S(y,I),A?A.color=null===n||void 0===n?void 0:n.toArray():y.push(w((0,p.A)((0,p.A)({},o),{},{color:n})));else if(u)if(S(y,A),I){if(M&&s){const e=n.clone();e.a=0,M.fromColor=n.toArray(),M.toColor=e.toArray()}}else y.push(w((0,p.A)((0,p.A)({},o),{},{color:n})));if(z){const e=g((0,p.A)((0,p.A)({},o),{},{strokeColor:l,color:n}));z.effects=e.effects,z.color=e.color,z.width=e.width,z.colorLocked=e.colorLocked}}else if(z&&(d&&(z.color=d.toArray()),null!=v&&(z.width=v)),A&&s&&(A.color=s.toArray()),M&&s){const e=s.clone();e.a=0,M.fromColor=s.toArray(),M.toColor=e.toArray()}return void 0!==c&&(e.data.primitiveOverrides=(0,r.o8)(c)),e}function S(e,o){if(!o)return;const n=e.indexOf(o);-1!==n&&e.splice(n,1)}var k=n(7246),z=n(76940),A=n(29632),I=n(28675),M=n(94725),F=n(94439),T=n(60823),L=(n(15187),n(12440));const x=30,R=12,D=24,Z=[255,255,255],N=[200,200,200],V=[128,128,128],P=20,E=5;async function O(e,o,t,i,r,u,a){var s,d;const c=o.legendOptions,f=null===c||void 0===c?void 0:c.customValues,v=a||await G(e,t),m=o.stops,p=!!v,y=!!f,h=null!=o.minSize&&null!=o.maxSize,g=m&&m.length>1,b=!!o.target;if(!p||!y&&!(h||g&&!b))return;const w=(0,F.$d)(v);let C=!1,S=null,k=null;S=w&&!g?(0,l.LI)([o.minDataValue,o.maxDataValue]):null!==f&&void 0!==f?f:await async function(e,o,t,i){const r=(await Promise.resolve().then(n.bind(n,15492))).getSizeRangeAtScale(e,t,i),u=r&&H(r);if(!r||!u)return;let a=u.map(o=>function(e,o,n){const t=n.minSize,i=n.maxSize,l=o.minDataValue,r=o.maxDataValue;let u;u=e<=t?l:e>=i?r:(e-t)/(i-t)*(r-l)+l;return u}(o,e,r));a=(0,l.LI)(a);for(let n=1;n<a.length-1;n++){const l=await Y(e,o,a[n],a[n-1],t,i);l&&(a[n]=l[0],u[n]=l[1])}return a}(o,v,i,null===r||void 0===r?void 0:r.type);const z=null===e||void 0===e?void 0:e.authoringInfo,A="univariate-color-size"===(null===z||void 0===z?void 0:z.type),M=A&&"above-and-below"===(null===z||void 0===z?void 0:z.univariateTheme),L=!!(0,T.iz)(e,"reference-size"),x=!!(0,T.iz)(e,"spike");if(!S&&g&&(S=m.map(e=>e.value),C=m.some(e=>!!e.label),"flow"===e.type&&(S=(0,l.LI)(S)),C&&(k=m.map(e=>e.label))),w&&null!=S&&(null===(s=S)||void 0===s?void 0:s.length)>2&&!M&&(S=[S[0],S[S.length-1]]),!S)return null;A&&5!==(null===(d=S)||void 0===d?void 0:d.length)&&(S=H({minSize:S[0],maxSize:S[S.length-1]}));const R=w?U(e,S):null,Z=(0,F.k_)(v),N=C?null:function(e,o){const n=e.length-1;return e.map((e,t)=>(0,T.Dd)(e,t,n,o))}(S,u),V=await Promise.all(S.map(async(n,t)=>{let l=w?R[t]:await J(o,v,n,i,null===r||void 0===r?void 0:r.type),u=l;L&&(l*=D/o.maxSize||1,u=D);const a=$(v,l,e,t);return x&&"cim"===a.type&&(u=await(0,I.D)(a)),{value:n,symbol:a,label:C?k[t]:N[t],size:u,outlineSize:Z}}));return V.reverse()}function U(e,o){const n=null===e||void 0===e?void 0:e.authoringInfo,t="univariate-color-size"===(null===n||void 0===n?void 0:n.type);let i=[R,x];if(t){const e=o[0],n=o[o.length-1],t=R,l=x;i=o.map(o=>t+(o-e)/(n-e)*(l-t))}return t&&"below"===(null===n||void 0===n?void 0:n.univariateTheme)&&i.reverse(),i}async function G(e,o){var n;if("flow"===e.type)return(0,T.Zo)(e,o);if("pie-chart"===e.type)return new z.A({color:null,outline:null!==(n=e.outline)&&void 0!==n&&n.width?e.outline:new k.A});let l=null,r=null;if("simple"===e.type)l=e.symbol;else if("class-breaks"===e.type){const o=e.classBreakInfos;l=o&&o[0]&&o[0].symbol,r=o.length>1}else if("unique-value"===e.type){var u;const o=e.uniqueValueInfos;l=null===o||void 0===o||null===(u=o[0])||void 0===u?void 0:u.symbol,r=null!=o&&o.length>1}if(!l||function(e){var o,n,t;return(0,M.wk)(e)?null!==(o=null===(n=e.symbolLayers)||void 0===n?void 0:n.some(e=>"fill"===(null===e||void 0===e?void 0:e.type)))&&void 0!==o&&o:null!==(t=null===e||void 0===e?void 0:e.type.includes("fill"))&&void 0!==t&&t}(l))return null;if(l=l.clone(),o||r)if(l.type.includes("3d"))q(l);else if((0,T.iz)(e,"reference-size")&&"cim"===l.type)m(l,{color:null!==o&&void 0!==o?o:"class-breaks"!==e.type?new t.A(N):null});else if((0,T.iz)(e,"spike")&&"cim"===l.type){var a,s;const e=new t.A(N),n=new t.A(V),r="CIMPointSymbol"===(null===(a=l.data.symbol)||void 0===a?void 0:a.type)?l.data.symbol:null,u=!(null===r||void 0===r||null===(s=r.symbolLayers)||void 0===s||null===(s=s.find(e=>{let{type:o}=e;return"CIMSolidStroke"===o}))||void 0===s||!s.colorLocked);let d,c=null!==o&&void 0!==o?o:void 0;if(c){const o=(0,i.Ws)(c),t=(0,L.ud)();(!t&&o>225||t&&o<25)&&(c=e,d=u?n:e)}else c=e,d=u?n:e;C(l,{color:c,strokeColor:d})}else W(l);return l}function q(e){"line-3d"===e.type?e.symbolLayers.forEach(e=>{e.material={color:V}}):e.symbolLayers.forEach(e=>{var o;"icon"!==e.type||null!==(o=e.resource)&&void 0!==o&&o.href?e.material={color:N}:(e.material={color:Z},e.outline={color:V,size:1.5})})}function W(e){const o=(0,L.ud)();if("cim"===e.type)(0,A.Fe)(e,new t.A(N));else if(e.type.includes("line"))e.color=V;else if(e.color=o?V:Z,"simple-marker"===e.type)if(e.outline){var n;"#ffffff"===(null===(n=e.outline)||void 0===n||null===(n=n.color)||void 0===n?void 0:n.toHex())&&(e.outline.color=V)}else e.outline={color:V,width:1.5}}function H(e){const o=e.minSize,n=e.maxSize,t=E,i=(n-o)/(t-1),l=[];for(let r=0;r<t;r++)l.push(o+i*r);return l}async function Y(e,o,n,t,i,r){const u=await J(e,o,n,i,r),a=await J(e,o,t,i,r),s=(0,l.lc)(n),d=s.fractional,c=P;let f=s.integer,v=null,m=null;n>0&&n<1&&(v=10**d,f=(0,l.lc)(n*=v).integer);for(let p=f-1;p>=0;p--){const t=10**p;let s=Math.floor(n/t)*t,d=Math.ceil(n/t)*t;null!=v&&(s/=v,d/=v);let f=(s+d)/2;[,f]=(0,l.LI)([s,f,d],{indexes:[1]});const y=await J(e,o,s,i,r),h=await J(e,o,d,i,r),g=await J(e,o,f,i,r),b=(0,l.u5)(u,y,a,null),w=(0,l.u5)(u,h,a,null),C=(0,l.u5)(u,g,a,null);let S=b.previous<=c,k=w.previous<=c;if(S&&k&&(b.previous<=w.previous?(S=!0,k=!1):(k=!0,S=!1)),S?m=[s,y]:k?m=[d,h]:C.previous<=c&&(m=[f,g]),m)break}return m}async function J(e,o,t,i,l){const{getSize:r}=await Promise.resolve().then(n.bind(n,15492));return r(e,t,{scale:i,view:l,shape:"simple-marker"===o.type?o.style:null})}function $(e,o,n,t){var i,l;"univariate-color-size"===(null===n||void 0===n||null===(i=n.authoringInfo)||void 0===i?void 0:i.type)&&"above-and-below"===(null===n||void 0===n||null===(l=n.authoringInfo)||void 0===l?void 0:l.univariateTheme)&&"class-breaks"===n.type&&(e=function(e,o){var n;const t=e.classBreakInfos,i=t.length,l=i<2||!(o>=2)?t[0].symbol.clone():t[i-1].symbol.clone(),r=null===(n=e.visualVariables)||void 0===n?void 0:n.some(e=>"color"===e.type);return r&&(l.type.includes("3d")?q(l):W(l)),l}(n,t));const r=e.clone();if((0,M.wk)(r))(0,F.$d)(r)||r.symbolLayers.forEach(e=>{"fill"!==e.type&&(e.size=o)});else if(function(e){return"esri.symbols.SimpleMarkerSymbol"===e.declaredClass}(r))r.size=o;else if(function(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}(r)){const e=r.width,n=r.height;r.height=o,r.width=o*(e/n)}else!function(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}(r)?function(e){return"esri.symbols.TextSymbol"===e.declaredClass}(r)?r.font&&(r.font.size=o):"cim"===r.type&&(0,T.iz)(n,"reference-size")?m(r,{innerDotSize:o,outerRingSize:D}):"cim"===r.type&&(0,T.iz)(n,"spike")&&C(r,{defaultHeight:o,primitiveOverrides:null}):r.width=o;return r}},42633:(e,o,n)=>{n.d(o,{EG:()=>m,Ll:()=>w,R3:()=>b,UH:()=>s,aM:()=>h,fs:()=>v,i0:()=>C});var t=n(89379),i=n(65256),l=n(53430),r=(n(63919),n(76386)),u=n(36693),a=n(67478);const s=",",d={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},c=new Set(["integer","small-integer"]);let f=null;function v(e){return(0,l.vE)(e)||(0,l.zD)(e)||(0,l.Ah)(e)}async function m(e){const{field:o,field2:n,field3:t,normalizationField:i,valueExpression:l,fields:u}=e;let a=[];if(l){if(!f){const{arcadeUtils:e}=await(0,r.l)();f=e}a=f.extractFieldNames(l)}return o&&a.push(o),n&&a.push(n),t&&a.push(t),i&&a.push(i),u&&a.push(...u),a}function p(e){return String(e).padStart(2,"0")}function y(e,o,n){let t;return"date"===o||"number"===o?("number"===o&&(e=new Date(e)),t="TIMESTAMP'".concat(n?e.getFullYear():e.getUTCFullYear(),"-").concat(p((n?e.getMonth():e.getUTCMonth())+1),"-").concat(p(n?e.getDate():e.getUTCDate())," ").concat(p(n?e.getHours():e.getUTCHours()),":").concat(p(n?e.getMinutes():e.getUTCMinutes()),":").concat(p(n?e.getSeconds():e.getUTCSeconds()),"'")):t=e,t}function h(e,o,n,t){const{hasQueryEngine:i}=e,l="(".concat(y(n,g(e,n),i)," - ").concat(y(o,g(e,o),i),")");let r=d[t],u="/";return r<1&&(r=1/r,u="*"),{sqlExpression:1===r?l:"(".concat(l," ").concat(u," ").concat(r,")"),sqlWhere:null}}function g(e,o){if(o instanceof Date)return"date";if("number"==typeof o)return"number";if("string"==typeof o){const n=e.getField(o);if("<now>"===o.toLowerCase())return;if((0,l.vE)(n))return"field"}}function b(e,o){const n=o&&e.getField(o);return!!n&&c.has(n.type)}function w(e){return"cast(".concat(e," as float)")}function C(e,o){const{format:n,fieldFormat:l,timeZoneOptions:r,fieldType:s}=null!==o&&void 0!==o?o:{},d=l?(0,i._m)(l):null;let c,f;if(r&&({timeZone:c,timeZoneName:f}=(0,a.hv)(r.layerTimeZone,r.datesInUnknownTimezone,r.viewTimeZone,d||(0,i.J2)(n||"short-date-short-time"),s)),"string"==typeof e&&isNaN(Date.parse("time-only"===s?"1970-01-01T".concat(e,"Z"):e)))return e;switch(s){case"date-only":{const o=d||(0,i.J2)(n||"short-date");return"string"==typeof e?(0,i.iS)(e,(0,t.A)({},o)):(0,i.Yq)(e,(0,t.A)((0,t.A)({},o),{},{timeZone:u.n$}))}case"time-only":{const o=d||(0,i.J2)(n||"short-time");return"string"==typeof e?(0,i.F8)(e,o):(0,i.Yq)(e,(0,t.A)((0,t.A)({},o),{},{timeZone:u.n$}))}case"timestamp-offset":{if(!c&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const o=n||d||r?d||(0,i.J2)(n||"short-date-short-time"):void 0,l=o?(0,t.A)((0,t.A)({},o),{},{timeZone:c,timeZoneName:f}):void 0;return"string"==typeof e?(0,i.Ey)(e,l):(0,i.Yq)(e,l)}default:{const o=n||d||r?d||(0,i.J2)(n||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof e?new Date(e):e,o?(0,t.A)((0,t.A)({},o),{},{timeZone:c,timeZoneName:f}):void 0)}}}},60823:(e,o,n)=>{n.d(o,{Dd:()=>v,Zo:()=>m,getFormatOptionsForVisualVariable:()=>b,iz:()=>w});n(11265);var t=n(18288),i=n(78083),l=n(31933),r=n(17542),u=n(24921),a=n(42633),s=n(7246),d=n(50265);const c="<",f=">";function v(e,o,n,t){let i="";0===o?i="".concat(c," "):o===n&&(i="".concat(f," "));const l=function(e,o){if(null==e)return e;const{fieldType:n,format:t,fieldFormat:i,timeZoneOptions:l}=o||{};if(h(n))return(0,a.i0)(e,{fieldType:n,format:null===t||void 0===t?void 0:t.dateFormat,fieldFormat:"date-time"===(null===i||void 0===i?void 0:i.type)?i:void 0,timeZoneOptions:l});if("string"==typeof e&&function(e){const{format:o,fieldFormat:n}=e||{};return"number"===(null===n||void 0===n?void 0:n.type)||!!o&&null==o.dateFormat&&(null!=o.places||null!=o.digitSeparator)}(o)){const o=Number(e);isNaN(o)||(e=o)}if("string"==typeof e)return e;const r="number"===(null===i||void 0===i?void 0:i.type)?(0,d.Up)(i):t?(0,d.yx)(t):void 0;return r?(0,d.ZV)(e,r):(0,u.GP)(e)}(e,t);return null==l?"":i+l}async function m(e,o){const t=e.trailCap,i=e.trailWidth||1,l=o||await async function(e){var o;if(!("visualVariables"in e)||!e.visualVariables)return null;const t=e.visualVariables.find(e=>"color"===e.type);if(!t)return null;let i=null,l=null;if(t.stops){if(1===t.stops.length)return t.stops[0].color;i=t.stops[0].value,l=t.stops[t.stops.length-1].value}const r=null!=i&&null!=l?i+(l-i)/2:0,{getColor:u}=await Promise.resolve().then(n.bind(n,15492));return null!==(o=u(t,r))&&void 0!==o?o:null}(e)||e.color;return new s.A({cap:t,color:l,width:i})}function p(e,o){var n;const t="popupTemplate"in e?null===(n=e.popupTemplate)||void 0===n?void 0:n.fieldInfos:null;if(null!==t&&void 0!==t&&t.length&&o)return t.find(e=>{var n;return(null===(n=e.fieldName)||void 0===n?void 0:n.toLowerCase())===o.toLowerCase()})}function y(e){var o,n,i,l,r,u;let a=0,s=0;return e.stops?(a=null!==(o=null===(n=e.stops)||void 0===n||null===(n=n.at(0))||void 0===n?void 0:n.value)&&void 0!==o?o:a,s=null!==(i=null===(l=e.stops)||void 0===l||null===(l=l.at(-1))||void 0===l?void 0:l.value)&&void 0!==i?i:s):"minDataValue"in e&&"maxDataValue"in e&&(a=null!==(r=e.minDataValue)&&void 0!==r?r:a,s=null!==(u=e.maxDataValue)&&void 0!==u?u:s),s-a>2*t.vf.days?"short-date":"short-date-short-time"}function h(e){return["date","date-only","time-only","timestamp-offset"].includes(e||"")}function g(e){return(0,l.jy)(e)&&!("featureReduction"in e&&e.featureReduction)}function b(e,o,n){var t,l;const u=function(e,o,n){var t,i;const l=function(e,o){var n,t;if(!o)return null;if("featureReduction"in e)switch(null===(n=e.featureReduction)||void 0===n?void 0:n.type){case"cluster":case"binning":{const n=e.featureReduction.fields.find(e=>{let{name:n}=e;return n.toLowerCase()===o.toLowerCase()});return n&&"getField"in e?e.getField(n.onStatisticField):null}}return"getField"in e?null===(t=e.getField)||void 0===t?void 0:t.call(e,o):null}(e,o),r=null===l||void 0===l?void 0:l.name;if(!r)return null;const u=null===l||void 0===l?void 0:l.type,a=g(e);return{fieldType:u,format:a?null:null===(t=p(e,r))||void 0===t?void 0:t.format,fieldFormat:a?null===(i=e.getFieldConfiguration(r))||void 0===i?void 0:i.fieldFormat:null,timeZoneOptions:h(u)?{layerTimeZone:"preferredTimeZone"in e?e.preferredTimeZone:null,viewTimeZone:n,datesInUnknownTimezone:"datesInUnknownTimezone"in e&&e.datesInUnknownTimezone}:null}}(e,o.field,n);return u?(h(u.fieldType)&&(g(e)?null!==(t=u.fieldFormat)&&void 0!==t||(u.fieldFormat=new i.A({dateStyle:"short",timeStyle:"short-date-short-time"===y(o)?"short":null})):null!==(l=u.format)&&void 0!==l||(u.format=new r.A({dateFormat:y(o)}))),u):null}function w(e,o){var n;if("authoringInfo"in e)return null===(n=e.authoringInfo)||void 0===n||null===(n=n.visualVariables)||void 0===n?void 0:n.find(e=>{let{theme:n}=e;return n===o})}}}]);
//# sourceMappingURL=2040.010d346d.chunk.js.map