"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[6799],{10907:(e,n,t)=>{t.d(n,{BM:()=>I,bd:()=>j,sO:()=>F,xD:()=>c});var i=t(51344),o=t(50076),r=t(80963),s=t(20176),l=t(1484),a=t(53430);const u={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function c(e){return u[e]}function*d(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const n of e.features)n&&(yield n)}}function*f(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const n of e.coordinates)yield*n;break;case"MultiPolygon":for(const n of e.coordinates)for(const e of n)yield*e}}function p(e){for(const n of e)if(n.length>2)return!0;return!1}function g(e){let n=0;for(let t=0;t<e.length;t++){const i=e[t],o=e[(t+1)%e.length];n+=i[0]*o[1]-o[0]*i[1]}return n<=0}function m(e){const n=e[0],t=e[e.length-1];return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]||e.push(n),e}function y(e,n,t){switch(n.type){case"LineString":case"MultiPoint":return function(e,n,t){return b(e,n.coordinates,t),e}(e,n,t);case"MultiLineString":return function(e,n,t){for(const i of n.coordinates)b(e,i,t);return e}(e,n,t);case"MultiPolygon":return function(e,n,t){for(const i of n.coordinates){h(e,i[0],t);for(let n=1;n<i.length;n++)w(e,i[n],t)}return e}(e,n,t);case"Point":return function(e,n,t){return A(e,n.coordinates,t),e}(e,n,t);case"Polygon":return function(e,n,t){const i=n.coordinates;h(e,i[0],t);for(let o=1;o<i.length;o++)w(e,i[o],t);return e}(e,n,t)}}function h(e,n,t){const i=m(n);!function(e){return!g(e)}(i)?b(e,i,t):v(e,i,t)}function w(e,n,t){const i=m(n);!function(e){return g(e)}(i)?b(e,i,t):v(e,i,t)}function b(e,n,t){for(const i of n)A(e,i,t);e.lengths.push(n.length)}function v(e,n,t){for(let i=n.length-1;i>=0;i--)A(e,n[i],t);e.lengths.push(n.length)}function A(e,n,t){const[i,o,r]=n;e.coords.push(i,o),t.hasZ&&e.coords.push(r||0)}function T(e){switch(typeof e){case"string":return(0,i.Br)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function F(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4326;if(!e)throw new o.A("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new o.A("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const i="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,s=(0,r.oT)({wkid:n})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(".*(".concat(n,")$"),"i");if(!i||!s.test(i))throw new o.A("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function I(e){var n,t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=[],r=new Set,s=new Set;let l,u=!1,g=null,m=!1,{geometryType:y=null}=i;for(const w of d(e)){const{geometry:e,properties:n,id:t}=w;if((!e||(y||(y=c(e.type)),c(e.type)===y))&&(u||(u=p(f(e))),m||(m=null!=t,m&&(l=typeof t,n&&(g=Object.keys(n).filter(e=>n[e]===t)))),n&&g&&m&&null!=t&&(g.length>1?g=g.filter(e=>n[e]===t):1===g.length&&(g=n[g[0]]===t?g:[])),n))for(const i in n){if(r.has(i))continue;const e=T(n[i]);if("unknown"===e){s.add(i);continue}s.delete(i),r.add(i);const t=(0,a.rS)(i);t&&o.push({name:t,alias:i,type:e})}}const h=null!==(n=(0,a.rS)(1===(null===(t=g)||void 0===t?void 0:t.length)&&g[0]||null))&&void 0!==n?n:void 0;if(h)for(const c of o)if(c.name===h&&(0,a.WA)(c)){c.type="esriFieldTypeOID";break}return{fields:o,geometryType:y,hasZ:u,objectIdFieldName:h,objectIdFieldType:l,unknownFields:Array.from(s)}}function j(e,n){return Array.from(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{geometryType:t,objectIdField:i}=n;for(const o of e){const{geometry:e,properties:r,id:a}=o;if(e&&c(e.type)!==t)continue;const u=r||{};let d;i&&(d=u[i],null==a||d||(u[i]=d=a));const f=new s.Om(e?y(new l.A,e,n):null,u,null,d);yield f}}()}(d(e),n))}},26799:(e,n,t)=>{t.d(n,{GA:()=>N,GL:()=>j,I:()=>M,J0:()=>x,Ki:()=>P,Px:()=>k,QE:()=>I,bV:()=>S,bW:()=>C,vJ:()=>F});var i=t(36140),o=t(89379),r=t(3825),s=t(50076),l=t(76460),a=t(90534),u=t(13312),c=t(80963),d=t(45417),f=t(98618),p=t(75146),g=t(10907),m=t(40296),y=t(40098),h=t(1900),w=t(6127),b=t(36693);const v=()=>l.A.getLogger("esri.layers.ogc.ogcFeatureUtils"),A="startindex",T=new Set([A,"offset"]),F="http://www.opengis.net/def/crs/",I="".concat(F,"OGC/1.3/CRS84");async function j(e,n){var t;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const{links:u}=e,c=R(u,"items","application/geo+json")||R(u,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if(null==c)throw new s.A("ogc-feature-layer:missing-items-page","Missing items url");const{apiKey:d,customParameters:f,signal:p}=i,y=(0,a.s2)(c.href,e.landingPage.url),T=(0,o.A)((0,o.A)({limit:l},f),{},{token:d}),F=(0,a.a6)(y,T),{data:I}=await(0,r.A)(F,{signal:p,headers:{accept:"application/geo+json"}}),j=null!==(t=E(F,l,I.links))&&void 0!==t?t:A;(0,g.sO)(I);const S=(0,g.BM)(I,{geometryType:n.geometryType}),k=n.fields||S.fields||[],P=null!=n.hasZ?n.hasZ:S.hasZ,N=S.geometryType,x=n.objectIdField||S.objectIdFieldName||"OBJECTID";let C=n.timeInfo;const M=k.find(e=>{let{name:n}=e;return n===x});if(M)M.editable=!1,M.nullable=!1;else{if(!S.objectIdFieldType)throw new s.A("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");k.unshift({name:x,alias:x,type:"number"===S.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1})}if(x!==S.objectIdFieldName){const e=k.find(e=>{let{name:n}=e;return n===S.objectIdFieldName});e&&(e.type="esriFieldTypeInteger")}k===S.fields&&S.unknownFields.length>0&&v().warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:S.unknownFields}});for(const o of k){if(null==o.name&&(o.name=o.alias),null==o.alias&&(o.alias=o.name),"esriFieldTypeOID"!==o.type&&"esriFieldTypeGlobalID"!==o.type&&(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable),!o.name)throw new s.A("ogc-feature-layer:invalid-field-name","field name is missing",{field:o});if(!w.m.jsonValues.includes(o.type))throw new s.A("ogc-feature-layer:invalid-field-type",'invalid type for field "'.concat(o.name,'"'),{field:o})}if(C){var G;const e=new h.A(k);if(C.startTimeField){const n=e.get(C.startTimeField);n?(C.startTimeField=n.name,n.type="esriFieldTypeDate"):C.startTimeField=null}if(C.endTimeField){const n=e.get(C.endTimeField);n?(C.endTimeField=n.name,n.type="esriFieldTypeDate"):C.endTimeField=null}if(C.trackIdField){const n=e.get(C.trackIdField);n?C.trackIdField=n.name:(C.trackIdField=null,v().warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:C}}))}(G=C).timeReference||(G.timeReference={timeZoneIANA:b.n$}),C.startTimeField||C.endTimeField||(v().warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:C}}),C=void 0)}return{drawingInfo:N?(0,m.F0)(N):null,extent:q(e),geometryType:N,fields:k,hasZ:!!P,objectIdField:x,paginationParameter:j,timeInfo:C}}async function S(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{links:t,url:i}=e,l=R(t,"data","application/json")||R(t,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json");if(null==l)throw new s.A("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:u,customParameters:c,signal:d}=n,f=(0,a.s2)(l.href,i),{data:p}=await(0,r.A)(f,{signal:d,headers:{accept:"application/json"},query:(0,o.A)((0,o.A)({},c),{},{token:u})});for(const o of p.collections)o.landingPage=e;return p}async function k(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{links:t,url:i}=e,l=R(t,"conformance","application/json")||R(t,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json");if(null==l)throw new s.A("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:u,customParameters:c,signal:d}=n,f=(0,a.s2)(l.href,i),{data:p}=await(0,r.A)(f,{signal:d,headers:{accept:"application/json"},query:(0,o.A)((0,o.A)({},c),{},{token:u})});return p}async function P(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{apiKey:t,customParameters:i,signal:s}=n,{data:l}=await(0,r.A)(e,{signal:s,headers:{accept:"application/json"},query:(0,o.A)((0,o.A)({},i),{},{token:t})});return l.url=e,l}async function N(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{links:t,url:i}=e,s=R(t,"service-desc","application/vnd.oai.openapi+json;version=3.0");if(null==s)return v().warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:l,customParameters:u,signal:c}=n,d=(0,a.s2)(s.href,i),{data:f}=await(0,r.A)(d,{signal:c,headers:{accept:"application/vnd.oai.openapi+json;version=3.0"},query:(0,o.A)((0,o.A)({},u),{},{token:l})});return f}function x(e){const n=(0,i.A)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e),t=null===n||void 0===n?void 0:n.groups;if(!t)return null;const{authority:o,code:r}=t;switch(o.toLowerCase()){case"ogc":switch(r.toLowerCase()){case"crs27":return u.A.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return u.A.WGS84.wkid;default:return null}case"esri":case"epsg":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function C(e,n,t){const i=await M(e,n,t);return(0,f.ZF)(i)}async function M(e,n,t){var i,l;const{collection:{links:m,landingPage:{url:w}},layerDefinition:b,maxRecordCount:v,queryParameters:{apiKey:A,customParameters:T},spatialReference:F,supportedCrs:I}=e,j=R(m,"items","application/geo+json")||R(m,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if(!j)throw new s.A("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:S,num:k,start:P,timeExtent:N,where:x}=n;if(n.objectIds)throw new s.A("ogc-feature-layer:query-by-objectids-not-supported","Queries with object ids are not supported");const C=u.A.fromJSON(F),M=null!==(i=n.outSpatialReference)&&void 0!==i?i:C,O=M.isWGS84?null:G(M,I),q=D(S,I),E=function(e){if(!e)return null;const{start:n,end:t}=e;return"".concat(null!=n?n.toISOString():"..","/").concat(null!=t?t.toISOString():"..")}(N),W=(X=x)&&"1=1"!==X?X:null,L=null!==k&&void 0!==k?k:null==P?v:10,B=0===P?void 0:P,{fields:Z,geometryType:J,hasZ:U,objectIdField:K,paginationParameter:$}=b,_=(0,a.s2)(j.href,w),{data:z}=await(0,r.A)(_,(0,o.A)((0,o.A)({},t),{},{query:(0,o.A)((0,o.A)((0,o.A)({},T),q),{},{crs:O,datetime:E,query:W,limit:L,[$]:B,token:A}),headers:{accept:"application/geo+json"}})),V=(0,g.bd)(z,{geometryType:J,hasZ:U,objectIdField:K}),H=V.length===L&&!!R(null!==(l=z.links)&&void 0!==l?l:[],"next","application/geo+json"),Q=new h.A(Z);var X;for(const o of V){const e={};(0,y.MB)(Q,e,o.attributes,!0);for(const n of Q.fields)n.nullable&&!(n.name in e)&&(e[n.name]=null);e[K]=o.attributes[K],o.attributes=e}if(!O&&M.isWebMercator)for(const o of V)if(null!=o.geometry&&null!=J){const e=(0,f.zv)(o.geometry,J,U,!1);e.spatialReference=u.A.WGS84,o.geometry=(0,f.Ux)((0,d.Cv)(e,M))}for(const o of V)o.objectId=o.attributes[K];const Y=O||!O&&M.isWebMercator?M.toJSON():c.KK,ee=new p.A;return ee.exceededTransferLimit=H,ee.features=V,ee.fields=Z,ee.geometryType=J,ee.hasZ=U,ee.spatialReference=Y,ee}function G(e,n){var t,i,o;const{isWebMercator:r,wkid:s,latestWkid:l}=e;if(!s&&!l)return null;const a=r?null!==(t=null!==(i=null!==(o=n[3857])&&void 0!==o?o:n[102100])&&void 0!==i?i:n[102113])&&void 0!==t?t:n[900913]:s&&n[s]||l&&n[l];return a?"".concat(F).concat(a):null}function O(e){if(!e)return"";const{xmin:n,ymin:t,xmax:i,ymax:o}=e;return"".concat(n,",").concat(t,",").concat(i,",").concat(o)}function D(e,n){if(!function(e){return null!=e&&"extent"===e.type}(e))return null;const{spatialReference:t}=e;if(!t||t.isWGS84)return{bbox:O(e)};const i=G(t,n);return null!=i?{bbox:O(e),"bbox-crs":i}:t.isWebMercator?{bbox:O((0,d.Cv)(e,u.A.WGS84))}:null}function q(e){var n;const t=null===(n=e.extent)||void 0===n?void 0:n.spatial;if(!t)return null;const i=t.bbox[0],o=4===i.length,[r,s]=i,l=o?void 0:i[2];return{xmin:r,ymin:s,xmax:o?i[2]:i[3],ymax:o?i[3]:i[4],zmin:l,zmax:o?void 0:i[5],spatialReference:u.A.WGS84.toJSON()}}function R(e,n,t){var i;return null!==(i=e.find(e=>{let{rel:i,type:o}=e;return i===n&&o===t}))&&void 0!==i?i:e.find(e=>{let{rel:t,type:i}=e;return t===n&&!i})}function E(e,n,t){var i;if(!t)return;const o=R(t,"next","application/geo+json"),r=null===(i=(0,a.An)(null===o||void 0===o?void 0:o.href))||void 0===i?void 0:i.query;if(!r)return;const s=(0,a.An)(e).query,l=Object.keys(null!==s&&void 0!==s?s:{}),u=Object.entries(r).filter(e=>{let[n]=e;return!l.includes(n)}).find(e=>{let[t,i]=e;return T.has(t.toLowerCase())&&Number.parseInt(i,10)===n});return null===u||void 0===u?void 0:u[0]}},40098:(e,n,t)=>{t.d(n,{$1:()=>y,CR:()=>m,MB:()=>f,PC:()=>h,Yx:()=>a,bP:()=>c});var i=t(51344),o=t(80963),r=t(53430);class s{constructor(e){this.description=e,this.code=null}}class l{constructor(e){this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error=new s(e)}}function a(e){return new l(e)}class u{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new u(e)}const d=new Set;function f(e,n,t){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d.clear();for(const s in t){const o=e.get(s);if(!o)continue;const l=p(o,t[s]);if(d.add(o.name),o&&(i||o.editable)){const e=(0,r.CJ)(o,l);if(e)return a((0,r.uo)(e,o,l));n[o.name]=l}}for(const r of null!==(o=e.requiredFields)&&void 0!==o?o:[]){var o;if(!d.has(r.name))return a('missing required field "'.concat(r.name,'"'))}return null}function p(e,n){let t=n;return(0,r.WA)(e)&&"string"==typeof n?t=parseFloat(n):(0,r.yM)(e)&&null!=n&&"string"!=typeof n?t=String(n):(0,r.vE)(e)&&"string"==typeof n&&(t=(0,i._U)(n)),(0,r.WX)(t)}let g;function m(e,n){if(!e||!(0,o.fn)(n))return e;if("rings"in e||"paths"in e){if(null==g)throw new TypeError("geometry engine not loaded");return g.simplify(n,e)}return e}async function y(e,n){!(0,o.fn)(e)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n||await async function(){return null==g&&(g=await Promise.all([t.e(2612),t.e(1669)]).then(t.bind(t,1669))),g}()}const h={supportsAutoIntervalBin:!0,supportsFixedIntervalBin:!0,supportsFixedBoundariesBin:!0,supportsDateBin:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsNormalization:!0,supportedStatisticTypes:["COUNT","SUM","AVG","VAR","STDDEV","MIN","MAX","PERCENTILE_CONT","PERCENTILE_DISC","CentroidAggregate","EnvelopeAggregate","ConvexHullAggregate"],supportedNormalizationTypes:["field","log","naturalLog","percentOfTotal","squareRoot"]}},51344:(e,n,t)=>{function i(e){return null!=l(e)||null!=s(e)}function o(e){return a.test(e)}function r(e){var n;return null!==(n=l(e))&&void 0!==n?n:s(e)}function s(e){const n=new Date(e);return function(e,n){if(Number.isNaN(e.getTime()))return!1;let t=!0;if(c&&/\d+\W*$/.test(n)){const e=n.match(/[a-zA-Z]{2,}/);if(e){let n=!1,i=0;for(;!n&&i<=e.length;)n=!u.test(e[i]),i++;t=!n}}return t}(n,e)?Number.isNaN(n.getTime())?null:n.getTime()-6e4*n.getTimezoneOffset():null}function l(e){var n,t,i,o;const r=a.exec(e);if(null===r||void 0===r||!r.groups)return null;const s=r.groups,l=+s.year,u=+s.month-1,c=+s.day,d=+(null!==(n=s.hours)&&void 0!==n?n:"0"),f=+(null!==(t=s.minutes)&&void 0!==t?t:"0"),p=+(null!==(i=s.seconds)&&void 0!==i?i:"0");if(d>23)return null;if(f>59)return null;if(p>59)return null;const g=null!==(o=s.ms)&&void 0!==o?o:"0",m=g?+g.padEnd(3,"0").slice(0,3):0;let y;if(s.isUTC||!s.offsetSign)y=Date.UTC(l,u,c,d,f,p,m);else{const e=+s.offsetHours,n=+s.offsetMinutes;y=6e4*("+"===s.offsetSign?-1:1)*(60*e+n)+Date.UTC(l,u,c,d,f,p,m)}return Number.isNaN(y)?null:y}t.d(n,{Br:()=>o,Cq:()=>i,_U:()=>r});const a=(0,t(36140).A)(/^(?:(-?\d{4,})-(\d{2})-(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|-)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});const u=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())}}]);
//# sourceMappingURL=6799.1fd1cd69.chunk.js.map