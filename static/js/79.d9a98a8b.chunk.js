"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[79],{29632:(e,t,i)=>{i.d(t,{Fe:()=>m,KU:()=>g,Km:()=>r,Nk:()=>c});var o=i(89379),a=i(69539),n=i(97763);function r(e,t,i,a){if(e)if("CIMTextSymbol"!==e.type){if(i&&e.effects)for(const i of e.effects)l(i,t);if(e.symbolLayers)for(const i of e.symbolLayers){switch(i.type){case"CIMPictureMarker":case"CIMVectorMarker":s(i,t,a);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":(null===a||void 0===a||!a.preserveOutlineWidth)&&i.width&&(i.width*=t);break;case"CIMPictureFill":i.height&&(i.height*=t),i.offsetX&&(i.offsetX*=t),i.offsetY&&(i.offsetY*=t);break;case"CIMHatchFill":r(i.lineSymbol,t,!0,(0,o.A)((0,o.A)({},a),{},{preserveOutlineWidth:!1})),i.offsetX&&(i.offsetX*=t),i.offsetY&&(i.offsetY*=t),i.separation&&(i.separation*=t)}if(i.effects)for(const e of i.effects)l(e,t)}}else null!=e.height&&(e.height*=t)}function s(e,t,i){if(e&&(e.markerPlacement&&function(e,t){switch((0,n.zr)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const i=e.placementTemplate.map(e=>e*t);e.placementTemplate=i}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const i=e.placementTemplate.map(e=>e*t);e.placementTemplate=i}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const o of e.markerGraphics)e.scaleSymbolsProportionally||r(o.symbol,t,!0,i)}function l(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const i=e.dashTemplate.map(e=>e*t);e.dashTemplate=i}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function c(e){const t=[];return h((0,n.lW)(e),t),t.length?new a.A((0,n.e6)(t[0])):null}function h(e,t){var i,o;if(!e)return;let a;a="CIMTextSymbol"===e.type?e.symbol:e;const r="CIMPolygonSymbol"===e.type;if(null!==(i=a)&&void 0!==i&&i.symbolLayers)for(const s of a.symbolLayers)if(!(s.colorLocked||r&&((0,n.mA)(s)||(0,n.MM)(s)&&s.markerPlacement&&(0,n.zr)(s.markerPlacement))))switch(s.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":s.tintColor&&p(t,s.tintColor);break;case"CIMVectorMarker":null===(o=s.markerGraphics)||void 0===o||o.forEach(e=>{h(e.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":p(t,s.color);break;case"CIMGradientFill":d(t,s);break;case"CIMHatchFill":h(s.lineSymbol,t)}}function p(e,t){for(const i of e)if(i.join(".")===t.join("."))return;e.push(t)}function d(e,t){var i,o;switch(null===(i=t.colorRamp)||void 0===i?void 0:i.type){case"CIMMultipartColorRamp":null===(o=t.colorRamp.colorRamps)||void 0===o||o.forEach(t=>{"CIMLinearContinuousColorRamp"===t.type&&u(e,t)});break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":u(e,t.colorRamp)}}function u(e,t){t&&(t.fromColor&&p(e,t.fromColor),t.toColor&&p(e,t.toColor))}function m(e,t,i){t instanceof a.A||(t=new a.A(t));const o=(0,n.lW)(e);o&&y(o,t,i)}function y(e,t,i){var o,a,r;if(!e)return;let s;s="CIMTextSymbol"===e.type?e.symbol:e;const l="CIMPolygonSymbol"===(null===(o=s)||void 0===o?void 0:o.type);if(null!==(a=s)&&void 0!==a&&a.symbolLayers)for(const c of s.symbolLayers){if(c.colorLocked)continue;if(l)if(i){const{layersToColor:e}=i;if(((0,n.mA)(c)||(0,n.MM)(c)&&c.markerPlacement&&(0,n.zr)(c.markerPlacement))&&"fill"===e||(0,n.jn)(c)&&"outline"===e)continue}else if((0,n.mA)(c)||(0,n.MM)(c)&&c.markerPlacement&&(0,n.zr)(c.markerPlacement))continue;const e=t.toArray();switch(c.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":c.tintColor=e;break;case"CIMVectorMarker":null===(r=c.markerGraphics)||void 0===r||r.forEach(e=>{y(e.symbol,t,i)});break;case"CIMSolidStroke":case"CIMSolidFill":c.color=e;break;case"CIMGradientFill":_(c,t);break;case"CIMHatchFill":y(c.lineSymbol,t,i)}}}function _(e,t){var i,o;switch(null===(i=e.colorRamp)||void 0===i?void 0:i.type){case"CIMMultipartColorRamp":null===(o=e.colorRamp.colorRamps)||void 0===o||o.forEach(e=>{"CIMLinearContinuousColorRamp"===e.type&&f(e,t)});break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":f(e.colorRamp,t)}}function f(e,t){if(e&&(e.fromColor&&(e.fromColor=t.toArray()),e.toColor)){const i=t.clone();i.a=0,e.toColor=i.toArray()}}function g(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=(0,n.lW)(e);if(i&&(t=360-t),"CIMTextSymbol"!==(null===o||void 0===o?void 0:o.type)){if("CIMPointSymbol"===(null===o||void 0===o?void 0:o.type)&&o.symbolLayers){const e=t-(o.angle||0);for(const t of o.symbolLayers)if((0,n.MM)(t)){let i=t.rotation||0;t.rotateClockwise?i-=e:i+=e,t.rotation=i}o.angle=t}}else o.angle=t}},45924:(e,t,i)=>{i.r(t),i.d(t,{ControlPointsTransformTool:()=>j,DrawGraphicTool2D:()=>C,MediaTransformToolsWrapper:()=>be,TransformTool:()=>fe});var o=i(89379),a=i(6326),n=i(39356),r=i(54901),s=i(30726),l=i(68134),c=i(46053),h=(i(81806),i(76460),i(47249),i(87990)),p=i(66388),d=i(19247),u=i(75562),m=i(89465),y=i(76940);const _=new m.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[3.75,3.75],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),f=new y.A({style:"circle",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),g=new y.A({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});var v=i(83849),M=i(47839),b=i(66812);let C=class extends v.N{constructor(e){var t,i,a;super(e),this._visualElementGraphics={regularVertices:null,activeVertex:null,activeEdge:null},this.activeFillSymbol=null,this.type="draw-2d",this._visualElementSymbols={outline:null!==(t=e.activeLineSymbol)&&void 0!==t?t:_,regularVertices:null!==(i=e.regularVerticesSymbol)&&void 0!==i?i:f,activeVertex:null!==(a=e.activeVertexSymbol)&&void 0!==a?a:g,fill:e.activeFillSymbol},e.activeVertexSymbol||this.addHandles((0,l.wB)(()=>{var e;return null===(e=this.view)||void 0===e||null===(e=e.effectiveTheme)||void 0===e?void 0:e.accentColor},e=>{var t;if(!e)return;const i=this._visualElementSymbols.activeVertex.clone().set({color:e});null!==(t=this._visualElementGraphics.activeVertex)&&void 0!==t&&t.set("symbol",i),this._visualElementSymbols=(0,o.A)((0,o.A)({},this._visualElementSymbols),{},{activeVertex:i})},l.Vh))}normalizeCtorArgs(e){const t=(0,o.A)({},e);return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return null!=this._visualElementSymbols.fill&&(e.symbol=this._visualElementSymbols.fill),this.internalGraphicsLayer.graphics.sort(P),(0,r.hA)()}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:i}=this;return this._createOrUpdateGraphic(null),new M.O0({view:i,manipulators:this.manipulators,geometryType:(0,v.l)(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new b.uF(i,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new u.J(this.internalGraphicsLayer),graphic:this.graphic,cursor:this.cursor,constraintsEnabled:!0,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils})}onActiveVertexChanged(e){if("point"===this.geometryType)return(0,r.hA)();const[t,i]=e,o=new d.A({x:t,y:i,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.activeVertex?(this._visualElementGraphics.activeVertex.geometry=o,(0,r.hA)()):(this._visualElementGraphics.activeVertex=new n.A({geometry:o,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(P),(0,r.hA)(()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=(0,s.pR)(this._visualElementGraphics.activeVertex))}))}onCursorEdgeChanged(e){return null!=this._visualElementGraphics.activeEdge?(this._visualElementGraphics.activeEdge.geometry=e,(0,r.hA)()):(this._visualElementGraphics.activeEdge=new n.A({geometry:e,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeEdge),this.internalGraphicsLayer.graphics.sort(P),(0,r.hA)(()=>{null!=this._visualElementGraphics.activeEdge&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeEdge),this._visualElementGraphics.activeEdge=(0,s.pR)(this._visualElementGraphics.activeEdge))}))}onRegularVerticesChanged(e){const t=new p.A({points:e,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.regularVertices?(this._visualElementGraphics.regularVertices.geometry=t,(0,r.hA)()):(this._visualElementGraphics.regularVertices=new n.A({geometry:t,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(P),(0,r.hA)(()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=(0,s.pR)(this._visualElementGraphics.regularVertices))}))}};function P(e,t){var i,o,a,n;return(null!==(i=null===(o=e.attributes)||void 0===o?void 0:o.displayOrder)&&void 0!==i?i:-1/0)-(null!==(a=null===(n=t.attributes)||void 0===n?void 0:n.displayOrder)&&void 0!==a?a:-1/0)}(0,a.Cg)([(0,c.MZ)()],C.prototype,"activeFillSymbol",void 0),(0,a.Cg)([(0,c.MZ)({readOnly:!0})],C.prototype,"type",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0,nonNullable:!0})],C.prototype,"view",void 0),C=(0,a.Cg)([(0,h.$)("esri.views.2d.interactive.editingTools.draw.DrawGraphicTool2D")],C);var S=i(69539),w=i(56611),k=i(80963),T=i(63733),A=i(29632);class x{get hovering(){return this.someManipulator(e=>e.hovering)}get grabbing(){return this.someManipulator(e=>e.grabbing)}get dragging(){return this.someManipulator(e=>e.dragging)}hasManipulator(e){return this.someManipulator(t=>t===e)}someManipulator(e){let t=!1;return this.forEachManipulator(i=>{!t&&e(i)&&(t=!0)}),t}}var G=i(17046),R=i(91720),E=i(22579);class I extends x{constructor(e){super(),this._view=e.view,this._tool=e.tool,this._graphic=e.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator(e=>this._tool.manipulators.add(e))}destroy(){this.forEachManipulator(e=>{this._tool.manipulators.remove(e),e.destroy()}),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(e){e(this._manipulator,0)}createDragPipeline(e,t){let i=null,o=null,a=0,n=0,r=0;const{offsetX:s,offsetY:l,size:c}=(0,E.T)(this._graphic.symbol);return(0,G.Xt)(this._manipulator,(h,p)=>{p.next(t=>{if("start"===t.action){const t=e();i=t.editGeometryOperations,o=t.constraints}return t}).next((0,G.y$)(this._view)).next(e=>{const{x:h,y:p,z:d}=e.mapEnd;if(o&&(h+s<o.xmin||p+l-c<o.ymin||h+s>o.xmax||p+l-c>o.ymax))return e;("start"===e.action||0===a&&0===n&&0===r)&&(a=e.mapStart.x,n=e.mapStart.y,r=e.mapStart.z);const u=h-a,m=p-n,y=d-r;a=h,n=p,r=d;const _="start"===e.action?0:1,f=i.move(u,m,y,_);return t(e,f),e})})}_createManipulator(){const e=this._view,t=this._graphic;return new R.l({view:e,graphic:t,selectable:!0,cursor:"move"})}}var L=i(41036),O=i(46975),z=i(56497);const V="ArrowUp",U="ArrowDown",H="ArrowLeft",D="ArrowRight",Z="t",F="Shift",X=L.i,B=new S.A("#009af2");let j=class extends O.g{constructor(e){super(e),this._isOpacityToggled=!1,this._isModifierActive=!1,this._factor=1,this._initialControlPoints=null,this._graphicsLayer=new T.A({internal:!0,listMode:"hide",visible:!1,effect:"drop-shadow(0px, 0px, 3px)",title:"ControlPointsTransformationTool layer"}),this._undoStack=[],this._redoStack=[],this._sharedUndoStack=[],this._sharedRedoStack=[],this._highlightHandle=null,this.activeHandle=0,this.type="reshape"}initialize(){this._initialize()}destroy(){const{map:e}=this.view;this._controlPointManipulations.forEach(e=>e.destroy()),this._controlPointEditGeometryOperations.forEach(e=>e.destroy()),e.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=(0,s.pR)(this._graphicsLayer),this._georeference=null,this._controlPointGraphics=null,this._controlPointManipulations=null,this._graphicsLayer=null,this._controlPointEditGeometryOperations=null,this._undoStack=null,this._redoStack=null,this._initialControlPoints=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _hasValidSpatialReference(){return(0,k.fn)(this.view.spatialReference)}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){const e=this._undoStack[this._undoStack.length-1];return null!=e&&this._controlPointEditGeometryOperations[e].canUndo}canRedo(){const e=this._redoStack[this._redoStack.length-1];return null!=e&&this._controlPointEditGeometryOperations[e].canRedo}undo(){if(this._undoStack.length>0){const e=this._undoStack.pop();this._controlPointEditGeometryOperations[e].undo(),this.updateGraphics(),this._redoStack.push(e)}}redo(){if(this._redoStack.length>0){const e=this._redoStack.pop();this._controlPointEditGeometryOperations[e].redo(),this.updateGraphics(),this._undoStack.push(e)}}refresh(){const{mediaElement:e}=this;if(null==e.georeference)return;const t=e.georeference;"control-points"===t.type&&null!=t.coords&&(this._georeference=t,this._georeference.controlPoints.forEach((e,t)=>{let{mapPoint:i}=e;const o=this._controlPointEditGeometryOperations[t],a=o.data.parts[0].vertices[0];o.setVertexPosition(a,o.data.coordinateHelper.pointToVector(i))}),this.updateGraphics())}reset(){this._georeference.controlPoints=this._initialControlPoints,this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const e=this._georeference,t=e.controlPoints,i=t[0].mapPoint.spatialReference,o=this._hasValidSpatialReference;this._georeference.controlPoints=this._controlPointEditGeometryOperations.map((a,n)=>{const r=a.data.geometry;return this._controlPointGraphics[n].geometry=r,{mapPoint:(0,w.project)(r,i),sourcePoint:o?t[n].sourcePoint:e.toSource(r)}})}updateActiveHandle(e){if(this.activeHandle===e)return;const t=this._controlPointGraphics[this.activeHandle].symbol.clone();(0,A.Fe)(t,this.view.effectiveTheme.accentColor),this._controlPointGraphics[this.activeHandle].symbol=t;const i=this._controlPointGraphics[e].symbol.clone();(0,A.Fe)(i,B),this._controlPointGraphics[e].symbol=i,this.activeHandle=e,this.view.surface===document.activeElement&&this.highlightActiveHandle()}async highlightActiveHandle(){this.removeHighlightActiveHandle();const e=await this.view.whenLayerView(this._graphicsLayer);this._highlightHandle=e.highlight(this._controlPointGraphics[this.activeHandle])}removeHighlightActiveHandle(){this._highlightHandle&&this._highlightHandle.remove()}setSharedUndoStack(e){this._sharedUndoStack=e}setSharedRedoStack(e){this._sharedRedoStack=e}async _initialize(){const{view:e,mediaElement:t}=this;if(null==t.georeference)return;const i=t.georeference;"control-points"===i.type&&null!=i.coords&&(this._georeference=i,this._initialControlPoints=this._georeference.controlPoints,e.map.addMany([this._graphicsLayer]),e.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._controlPointEditGeometryOperations=this._georeference.controlPoints.map(t=>{let{mapPoint:i}=t;return z.p.fromGeometry((0,w.project)(i,e.spatialReference),2)}),this._controlPointGraphics=this._controlPointEditGeometryOperations.map((e,t)=>new n.A({symbol:new m.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-15.75},anchorPointUnits:"Absolute",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[84.3,0],[84.3,84.3],[0,84.3],[0,0]]]}},rotation:0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-11.25},anchorPointUnits:"Absolute",dominantSizeAxis3D:"Y",size:22.5,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:t===this.activeHandle?B.toArray():this.view.effectiveTheme.accentColor.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[197.7,0],[197.7,294.7],[0,294.7],[0,0]]]}},rotation:0}],haloSize:1,scaleX:1,angleAlignment:"Display",angle:0}}}),geometry:e.data.geometry})),this._graphicsLayer.graphics.addMany([...this._controlPointGraphics]),this._controlPointManipulations=this._controlPointGraphics.map(t=>new I({tool:this,view:e,graphic:t})),this.addHandles([...this._controlPointManipulations.map((e,t)=>e.createDragPipeline(this._getInfo.bind(this,t),(e,i)=>{"start"===e.action&&(this._undoStack.push(t),this._redoStack=[],this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0),this.updateGraphics()})),(0,l.wB)(()=>this.view.scale,()=>this.active?this.updateGraphics():null)]),this._controlPointManipulations.forEach((e,t)=>{e.forEachManipulator(e=>{this.addHandles([e.events.on(["click","grab-changed"],e=>this.updateActiveHandle(t))])})}),this.addHandles([e.on("key-down",i=>{e.activeTool===this&&(i.key!==F||i.repeat||(this._isModifierActive=!0,i.stopPropagation()),i.key!==Z||i.repeat||(t.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled,i.stopPropagation()),i.key!==X||i.repeat||(this._factor=10,i.stopPropagation()),this._isModifierActive&&(i.key===V&&(this._move(0,this._factor),i.stopPropagation()),i.key===U&&(this._move(0,-this._factor),i.stopPropagation()),i.key===H&&(this._move(-this._factor,0),i.stopPropagation()),i.key===D&&(this._move(this._factor,0),i.stopPropagation())))}),e.on("key-up",t=>{e.activeTool===this&&(t.key===F&&(this._isModifierActive=!1,t.stopPropagation()),t.key===X&&(this._factor=1,t.stopPropagation()))})]))}async _loadProjectionEngine(){const e=this._georeference.controlPoints[0].mapPoint;return(0,w.initializeProjection)(e.spatialReference,this.view.spatialReference)}_getInfo(e){return{editGeometryOperations:this._controlPointEditGeometryOperations[e],constraints:this._hasValidSpatialReference?null:{xmin:0,ymin:0,xmax:this._georeference.width,ymax:this._georeference.height}}}_move(e,t){const i=this._controlPointEditGeometryOperations[this.activeHandle].move(e*this.view.resolution,t*this.view.resolution,0,0);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};(0,a.Cg)([(0,c.MZ)()],j.prototype,"_hasValidSpatialReference",null),(0,a.Cg)([(0,c.MZ)()],j.prototype,"activeHandle",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0,nonNullable:!0})],j.prototype,"mediaElement",void 0),(0,a.Cg)([(0,c.MZ)({readOnly:!0})],j.prototype,"type",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0})],j.prototype,"view",void 0),j=(0,a.Cg)([(0,h.$)("esri.views.2d.interactive.editingTools.ControlPointsTransformTool")],j);var Y=i(59784),q=i(31633),N=i(19555),W=i(72745),$=i(20664),J=i(9392),K=i(65215),Q=i(79650),ee=i(86875),te=i(88321),ie=i(15941);function oe(e,t){"start"===e.action?t.cursor="grabbing":t.cursor="grab"}class ae{constructor(){this._lastDragEvent=null,this.next=new G.rh,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&null!=this._lastDragEvent){const t=(0,o.A)((0,o.A)({},this._lastDragEvent),{},{action:"update"});e&&this._adjustScaleFactors(t),this.next.execute(t)}this._enabled=e}createDragEventPipelineStep(){return this._lastDragEvent=null,e=>(this._lastDragEvent="end"!==e.action?(0,o.A)({},e):null,this._enabled&&this._adjustScaleFactors(e),e)}_adjustScaleFactors(e){const t=0!==e.direction[0]&&0!==e.direction[1]?Math.max(Math.abs(e.factor1),Math.abs(e.factor2)):0===e.direction[0]?Math.abs(e.factor2):Math.abs(e.factor1);e.factor1=e.factor1<0?-t:t,e.factor2=e.factor2<0?-t:t}}class ne{constructor(){this._lastDragEvent=null,this.next=new G.rh,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&null!=this._lastDragEvent){const t=(0,o.A)((0,o.A)({},this._lastDragEvent),{},{action:"update"});e&&this._adjustRotateAngle(t),this.next.execute(t)}this._enabled=e}createDragEventPipelineStep(){return this._lastDragEvent=null,e=>(this._lastDragEvent="end"!==e.action?(0,o.A)({},e):null,this._enabled&&this._adjustRotateAngle(e),e)}_adjustRotateAngle(e){const t=(0,ie.KJ)(e.rotateAngle);e.rotateAngle=(0,ie.kU)(5*Math.round(t/5))}}var re=i(71523),se=i(30120);class le extends x{constructor(e){super(),this._handles=new te.A,this._originCache=(0,J.vt)(),this._view=e.view,this._tool=e.tool,this._graphic=e.graphic,this._snapRotation=e.snapRotation,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on("grab-changed",e=>oe(e,this._manipulator))]),this.forEachManipulator(e=>this._tool.manipulators.add(e))}destroy(){this._handles.destroy(),this.forEachManipulator(e=>{this._tool.manipulators.remove(e),e.destroy()}),this._tool=null,this._view=null,this._manipulator=null,this._snapRotation=null,this._graphic=null,this._handles=null,this._originCache=null}forEachManipulator(e){e(this._manipulator,2)}createDragPipeline(e,t){let i=null,a=null;return(0,G.Xt)(this._manipulator,(n,r)=>{r.next(t=>{if("start"===t.action){n.cursor="grabbing";const t=e();i=t.plane,a=t.editGeometryOperations}return t}).next((0,G.y$)(this._view)).next(e=>(0,o.A)((0,o.A)({},e),{},{rotateAngle:(0,re.UT)(e.mapStart,e.mapEnd,{x:i.origin[0],y:i.origin[1]},!0)})).next(this._snapRotation.createDragEventPipelineStep(),this._snapRotation.next).next(e=>{const o=(0,$.d)(this._originCache,i.origin),n="start"===e.action?0:1,r=a.rotate(o,e.rotateAngle,n,1);return(0,se.Bb)(r,i),t(e,r),e}).next(e=>("end"===e.action&&(n.cursor="grab"),e))})}_createManipulator(){const e=this._view,t=this._graphic;return new R.l({view:e,graphic:t,selectable:!0,cursor:"grab"})}}const ce=1e-6;function he(e){const t=(0,$.b)(e.basis1),i=(0,$.b)(e.basis2);return.3*Math.min(t,i)}class pe extends x{constructor(e){super(),this._handles=new te.A,this._planeStart=(0,Q.a)(),this._displayPlaneStart=(0,Q.a)(),this._originCache=(0,J.vt)(),this._axisCache=(0,W.vt)(),this._renderStartCache=(0,J.vt)(),this._renderEndCache=(0,J.vt)(),this._resizeOriginCache=(0,J.vt)(),this._view=e.view,this._tool=e.tool,this._graphic=e.graphic,this._direction=e.direction,this._preserveAspectRatio=e.preserveAspectRatio,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on("grab-changed",e=>oe(e,this._manipulator))]),this.forEachManipulator(e=>this._tool.manipulators.add(e))}destroy(){this._handles.destroy(),this.forEachManipulator(e=>{this._tool.manipulators.remove(e),e.destroy()}),this._tool=null,this._view=null,this._graphic=null,this._manipulator=null,this._direction=null,this._handles=null,this._planeStart=null,this._displayPlaneStart=null,this._originCache=null,this._axisCache=null,this._renderStartCache=null,this._renderEndCache=null,this._resizeOriginCache=null,this._preserveAspectRatio=null}forEachManipulator(e){e(this._manipulator,1)}createDragPipeline(e,t){let i=null,a=null,n=null,r=0,s=null,l=null;const c=this._planeStart,h=this._displayPlaneStart,p=this._direction;return(0,G.Xt)(this._manipulator,(d,u)=>{u.next(t=>{if("start"===t.action){d.cursor="grabbing";const t=e();i=t.plane,a=t.displayPlane,n=t.editGeometryOperations,r=10*this._view.resolution,(0,Q.d)(i,c),(0,Q.d)(a,h);const o=(0,k.Vp)(n.data.spatialReference);s=o?o.valid[1]-o.valid[0]-30*this._view.resolution:null}return t}).next((0,G.y$)(this._view)).next(e=>{const t=(0,$.d)(this._renderStartCache,[e.mapStart.x,e.mapStart.y,0]),i=(0,$.d)(this._renderEndCache,[e.mapEnd.x,e.mapEnd.y,0]),n=(0,$.d)(this._resizeOriginCache,h.origin);(0,$.c)(n,n,h.basis1,-p[0]),(0,$.c)(n,n,h.basis2,-p[1]),(0,$.e)(i,i,n),(0,$.e)(t,t,n);const s=0!==p[0]&&0!==p[1],l=he(h),c=he(a)/l,d=(e,o)=>{if(0===e)return 1;let a=(0,$.b)(o),n=.5*e*(0,$.f)(o,i)/a;const l=n<0?-1:1;s&&(n+=(a-.5*e*(0,$.f)(o,t)/a)*l*c);const h=a<1.5*r?1:ce;return a=Math.max(a-r,ce),l>0&&(n-=10*this._view.resolution),l*Math.max(l*(n/a),h)},u=d(p[0],h.basis1),m=d(p[1],h.basis2);return(0,o.A)((0,o.A)({},e),{},{direction:p,factor1:u,factor2:m})}).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(e=>{const o=(0,$.d)(this._originCache,c.origin);(0,$.c)(o,o,c.basis1,-p[0]),(0,$.c)(o,o,c.basis2,-p[1]);const a=(0,N.hZ)(this._axisCache,c.basis1[0],c.basis1[1]);(0,N.S8)(a,a);const r=n.data.allVerticesUnordered,h="start"===e.action?0:1,d=n.scaleVertices(r,o,a,e.factor1,e.factor2,h,1);return s&&s<n.data.geometry.extent.width&&l?n.updateVertices(r,l):((0,Q.d)(c,i),(0,se.Bb)(d,i),l=d.operation,t(e,d)),e}).next(e=>("end"===e.action&&(d.cursor="grab"),e))})}_createManipulator(){return new R.l({view:this._view,graphic:this._graphic,selectable:!0,cursor:"grab"})}}var de=i(82307),ue=i(78593),me=i(53787),ye=i(11500);const _e=[[1,1],[1,-1],[-1,-1],[-1,1],[1,0],[0,-1],[-1,0],[0,1]];let fe=class extends O.g{constructor(e){super(e),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._planeCache=(0,Q.a)(),this._displayPlaneCache=(0,Q.a)(),this._mainAxisCache=(0,W.vt)(),this._rotationHandleCache=(0,J.vt)(),this._cornerA=(0,J.vt)(),this._cornerB=(0,J.vt)(),this._cornerC=(0,J.vt)(),this._cornerD=(0,J.vt)(),this._avgAB=(0,J.vt)(),this._avgBC=(0,J.vt)(),this._avgCD=(0,J.vt)(),this._avgDA=(0,J.vt)(),this._preserveAspectRatio=new ae,this._snapRotation=new ne,this._graphicsLayer=new T.A({internal:!0,listMode:"hide",visible:!1,title:"TransformTool layer"}),this._sharedUndoStack=[],this._sharedRedoStack=[],this._isOpacityToggled=!1,this._factor=1,this.preserveAspectRatio=null,this.snapRotation=null,this.type="transform"}initialize(){this._initialize()}destroy(){const{map:e}=this.view;this._dragManipulation.destroy(),this._rotateManipulation.destroy(),this._scaleManipulations.forEach(e=>e.destroy()),this._editGeometryOperations.destroy(),e.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=(0,s.pR)(this._graphicsLayer),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._preserveAspectRatio=null,this._snapRotation=null,this._planeCache=null,this._displayPlaneCache=null,this._rotationHandleCache=null,this._mainAxisCache=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._avgAB=null,this._avgBC=null,this._avgCD=null,this._avgDA=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _plane(){const e=this._graphic.geometry;if(null==e)return null;const t=this._editGeometryOperations.data,i=t.parts[0].segments[0],o=(0,N.Re)(this._mainAxisCache,i.leftVertex.pos,i.rightVertex.pos);(0,N.S8)(o,o);let a=80*this.view.resolution;const n=this.view.spatialReference;return(0,k.aI)(n,e.spatialReference)&&(a*=(0,q.GA)(n)/(0,q.GA)(e.spatialReference)),(0,se.G3)(o,t,a,this._planeCache)}get _displayPlane(){const e=this._plane;if(!e)return null;const t=this._displayPlaneCache;(0,Q.d)(e,t);const i=10*this.view.resolution;return(0,$.h)(t.basis1,t.basis1,1+i/(0,$.b)(t.basis1)),(0,$.h)(t.basis2,t.basis2,1+i/(0,$.b)(t.basis2)),t}get _backgroundGraphicGeometry(){const e=this._displayPlane;if(!e)return null;const t=this.view.spatialReference;return this._updateDisplayPlaneConrers(e),new K.A({spatialReference:t,rings:[[this._cornerA,this._cornerB,this._cornerC,this._cornerD,this._cornerA]]})}get _rotateGraphicGeometry(){const e=this._plane;if(!e)return null;const t=this._rotationHandleCache;return(0,$.n)(t,e.basis1),(0,$.h)(t,t,30*this.view.resolution),(0,$.g)(t,t,e.origin),(0,$.g)(t,t,e.basis1),new d.A({x:t[0],y:t[1],spatialReference:this.view.spatialReference})}get _scaleGraphicGeometries(){const e=this._displayPlane;if(!e)return[];const t=this.view.spatialReference;this._updateDisplayPlaneConrers(e);const{_cornerA:i,_cornerB:o,_cornerC:a,_cornerD:n}=this,r=(0,$.l)(this._avgAB,i,o,.5),s=(0,$.l)(this._avgBC,o,a,.5),l=(0,$.l)(this._avgCD,a,n,.5),c=(0,$.l)(this._avgDA,n,i,.5);return[new d.A({x:i[0],y:i[1],spatialReference:t}),new d.A({x:o[0],y:o[1],spatialReference:t}),new d.A({x:a[0],y:a[1],spatialReference:t}),new d.A({x:n[0],y:n[1],spatialReference:t}),new d.A({x:r[0],y:r[1],spatialReference:t}),new d.A({x:s[0],y:s[1],spatialReference:t}),new d.A({x:l[0],y:l[1],spatialReference:t}),new d.A({x:c[0],y:c[1],spatialReference:t})]}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this._editGeometryOperations.undo(),this.updateGraphics()}redo(){this._editGeometryOperations.redo(),this.updateGraphics()}refresh(){const{view:e,target:t}=this,i="georeference"in t?t.georeference.coords:t.geometry,o=this._editGeometryOperations,a=o.data.parts[0].vertices,n=ue.ZE.fromGeometry((0,w.project)(i,e.spatialReference),2).parts[0].vertices;a.forEach((e,t)=>{o.setVertexPosition(e,n[t].pos)}),this.updateGraphics()}reset(){const{target:e}=this;if("georeference"in e){const t=e.georeference;"control-points"===t.type&&(t.controlPoints=this._initialControlPoints)}else e.geometry=this._initialGeometry;this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const e=this._editGeometryOperations.data.geometry;"georeference"in this.target&&(this.target.georeference.coords=e),this._graphic.geometry=e,this._backgroundGraphic.geometry=this._backgroundGraphicGeometry,this._rotateGraphic.geometry=this._rotateGraphicGeometry,this._scaleGraphicGeometries.forEach((e,t)=>{this._scaleGraphics[t].geometry=e})}setSharedUndoStack(e){this._sharedUndoStack=e}setSharedRedoStack(e){this._sharedRedoStack=e}async _initialize(){const{view:e,target:t}=this;if("georeference"in t){const e=t.georeference;this._graphic=new n.A({geometry:e.coords}),this._initialControlPoints="control-points"===e.type?e.controlPoints:null}else this._graphic=t,this._initialGeometry=t.geometry;e.map.addMany([this._graphicsLayer]),e.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._editGeometryOperations=z.p.fromGeometry((0,w.project)(this._graphic.geometry,e.spatialReference),2),this._backgroundGraphic=new n.A({symbol:new ee.A({color:"transparent",outline:{type:"simple-line",color:e.effectiveTheme.accentColor,width:2}}),geometry:this._backgroundGraphicGeometry}),this._rotateGraphic=new n.A({symbol:new y.A({color:(0,Y.bJ)(e.effectiveTheme.accentColor),outline:{type:"simple-line",color:e.effectiveTheme.accentColor,width:1}}),geometry:this._rotateGraphicGeometry}),this._scaleGraphics=this._scaleGraphicGeometries.map(t=>new n.A({symbol:new y.A({size:6,style:"square",color:(0,Y.bJ)(e.effectiveTheme.accentColor),outline:{type:"simple-line",color:e.effectiveTheme.accentColor,width:1}}),geometry:t})),this._graphicsLayer.graphics.addMany([this._backgroundGraphic,this._rotateGraphic,...this._scaleGraphics]),this._dragManipulation=new I({tool:this,view:e,graphic:this._graphic}),this._rotateManipulation=new le({tool:this,view:e,graphic:this._rotateGraphic,snapRotation:this._snapRotation}),this._scaleManipulations=this._scaleGraphics.map((t,i)=>new pe({tool:this,view:e,graphic:t,direction:_e[i],preserveAspectRatio:this._preserveAspectRatio})),this.addHandles([this._dragManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),this._rotateManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),...this._scaleManipulations.map(e=>e.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this))),(0,l.wB)(()=>this.view.scale,()=>this.active?this.updateGraphics():null),e.on("click",async i=>{if(null!=e.activeTool&&e.activeTool!==this)return;const o=(0,ye.ZV)(i),a=[];e.map.allLayers.forEach(e=>{"vector-tile"!==e.type&&"imagery"!==e.type||a.push(e)});const n=await this.view.hitTest(o,{exclude:a}),r=n.results;if(0===r.length)e.activeTool=null;else{const i=(0,me.zF)(n.results),o="georeference"in t,a=r.map(e=>"media"===e.type?e.element:null).filter(Boolean),s=new Set([...this._graphicsLayer.graphics,o?null:t].filter(Boolean));o&&a.includes(t)||null!=i&&s.has(i.graphic)?null==e.activeTool&&(e.activeTool=this):e.activeTool=null}})]);const i=e=>{this.addHandles(e.events.on("grab-changed",e=>{"georeference"in t&&("start"===e.action?t.opacity*=.5:"end"===e.action&&(t.opacity*=2))}))};this._dragManipulation.forEachManipulator(i),this._rotateManipulation.forEachManipulator(i),this._scaleManipulations.forEach(e=>e.forEachManipulator(i));const o=new de.oe;o.addToggle(de.TU.preserveAspectRatio,()=>{null==this.preserveAspectRatio&&(this._preserveAspectRatio.enabled=!this._preserveAspectRatio.enabled)}),o.addToggle(de.TU.rotateIncrements,()=>{null==this.snapRotation&&(this._snapRotation.enabled=!this._snapRotation.enabled)}),o.add(de.TU.toggleOpacity,()=>{"georeference"in t&&(t.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)}),o.addToggle(de.TU.factorModifier,e=>this._factor="key-down"===e.type?10:1),o.add(de.TU.scaleUp,()=>this._scale(this._factor)),o.add(de.TU.scaleDown,()=>this._scale(-this._factor)),o.add(de.TU.moveUp,()=>this._move(0,this._factor)),o.add(de.TU.moveDown,()=>this._move(0,-this._factor)),o.add(de.TU.moveLeft,()=>this._move(-this._factor,0)),o.add(de.TU.moveRight,()=>this._move(this._factor,0)),this.addHandles([e.on("key-down",t=>{e.activeTool===this&&o.dispatch(e.inputManager,t)}),e.on("key-up",t=>{e.activeTool===this&&o.dispatch(e.inputManager,t)})])}async _loadProjectionEngine(){const e=this._graphic.geometry;return(0,w.initializeProjection)(e.spatialReference,this.view.spatialReference)}_updateDisplayPlaneConrers(e){const{basis1:t,basis2:i,origin:o}=e,a=this._cornerA;(0,$.g)(a,o,t),(0,$.g)(a,a,i);const n=this._cornerB;(0,$.g)(n,o,t),(0,$.e)(n,n,i);const r=this._cornerC;(0,$.e)(r,o,t),(0,$.e)(r,r,i);const s=this._cornerD;(0,$.e)(s,o,t),(0,$.g)(s,s,i)}_getInfo(){return{editGeometryOperations:this._editGeometryOperations,plane:this._plane,displayPlane:this._displayPlane}}_updateGraphics(e,t){"start"===e.action&&(this._sharedUndoStack.push({tool:this,operation:t}),this._sharedRedoStack.length=0),this.updateGraphics()}_scale(e){var t;const i=this._editGeometryOperations,o=null===(t=i.data.geometry.extent)||void 0===t?void 0:t.width,a=(o+e*this.view.resolution)/o,n=i.scale(this._plane.origin,W.Cw,a,a,0,1);this._sharedUndoStack.push({tool:this,operation:n}),this._sharedRedoStack.length=0,this.updateGraphics()}_move(e,t){const i=this._editGeometryOperations.move(e*this.view.resolution,t*this.view.resolution,0,0);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};(0,a.Cg)([(0,c.MZ)()],fe.prototype,"_plane",null),(0,a.Cg)([(0,c.MZ)()],fe.prototype,"_backgroundGraphicGeometry",null),(0,a.Cg)([(0,c.MZ)()],fe.prototype,"_rotateGraphicGeometry",null),(0,a.Cg)([(0,c.MZ)()],fe.prototype,"_scaleGraphicGeometries",null),(0,a.Cg)([(0,c.MZ)()],fe.prototype,"preserveAspectRatio",void 0),(0,a.Cg)([(0,c.MZ)()],fe.prototype,"snapRotation",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0,nonNullable:!0})],fe.prototype,"target",void 0),(0,a.Cg)([(0,c.MZ)({readOnly:!0})],fe.prototype,"type",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0})],fe.prototype,"view",void 0),fe=(0,a.Cg)([(0,h.$)("esri.views.2d.interactive.editingTools.TransformTool")],fe);var ge=i(91967);const ve="r",Me="z";let be=class extends ge.A{constructor(e){super(e),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=[],this._sharedRedoStack=[],this._originalOpacity=null,this.activeHandle=0}initialize(){const{view:e,mediaElement:t,preserveAspectRatio:i,snapRotation:o,advancedMode:a}=this;this._originalOpacity=t.opacity,this._transformTool=new fe({target:t,view:e,preserveAspectRatio:i,snapRotation:o}),this._controlPointsTransformTool=new j({mediaElement:t,view:e}),this._advancedModeTransformTool=new j({mediaElement:a.mediaElement,view:a.view}),this._transformTool.setSharedUndoStack(this._sharedUndoStack),this._transformTool.setSharedRedoStack(this._sharedRedoStack),this._controlPointsTransformTool.setSharedUndoStack(this._sharedUndoStack),this._controlPointsTransformTool.setSharedRedoStack(this._sharedRedoStack),this._advancedModeTransformTool.setSharedUndoStack(this._sharedUndoStack),this._advancedModeTransformTool.setSharedRedoStack(this._sharedRedoStack);const n=t.georeference,r=a.mediaElement.georeference;a.view.tools.addMany([this._advancedModeTransformTool]),"controlPoints"in r&&"controlPoints"in n&&this.addHandles([a.view.on("key-down",e=>{e.key===Me&&this.canUndo()&&(this.undo(),e.stopPropagation()),e.key===ve&&this.canRedo()&&(this.redo(),e.stopPropagation())}),a.view.on("focus",async e=>{this._controlPointsTransformTool.removeHighlightActiveHandle(),await this._advancedModeTransformTool.highlightActiveHandle()}),(0,l.wB)(()=>r.controlPoints,e=>{var t;n.controlPoints=e.map((e,t)=>{let{sourcePoint:i}=e;return{sourcePoint:i,mapPoint:n.controlPoints[t].mapPoint}}),null===(t=this._activeTool)||void 0===t||t.refresh()}),(0,l.wB)(()=>this._controlPointsTransformTool.activeHandle,e=>{this._advancedModeTransformTool.updateActiveHandle(e),this.activeHandle=e}),(0,l.wB)(()=>this._advancedModeTransformTool.activeHandle,e=>{this._controlPointsTransformTool.updateActiveHandle(e),this.activeHandle=e})]),this.addHandles([e.on("key-down",e=>{e.key===Me&&this.canUndo()&&(this.undo(),e.stopPropagation()),e.key===ve&&this.canRedo()&&(this.redo(),e.stopPropagation())}),e.on("focus",async e=>{this._advancedModeTransformTool.removeHighlightActiveHandle(),await this._controlPointsTransformTool.highlightActiveHandle()})]),e.tools.addMany([this._transformTool,this._controlPointsTransformTool]),e.activeTool=this._transformTool,this._activeTool=this._transformTool,e.focus()}destroy(){var e,t;null!==(e=this._transformTool)&&void 0!==e&&e.destroy(),null!==(t=this._controlPointsTransformTool)&&void 0!==t&&t.destroy(),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=null,this._sharedRedoStack=null}canUndo(){return this._sharedUndoStack.length>0}canRedo(){return this._sharedRedoStack.length>0}undo(){if(this._sharedUndoStack.length>0){var e;const{tool:t,operation:i}=this._sharedUndoStack.pop();t!==this._activeTool&&t.refresh(),i.undo(),t.updateGraphics(),this._sharedRedoStack.push({tool:t,operation:i}),this._activeTool!==t&&(null===(e=this._activeTool)||void 0===e||e.refresh())}}redo(){if(this._sharedRedoStack.length>0){var e;const{tool:t,operation:i}=this._sharedRedoStack.pop();t!==this._activeTool&&t.refresh(),i.apply(),t.updateGraphics(),this._sharedUndoStack.push({tool:t,operation:i}),this._activeTool!==t&&(null===(e=this._activeTool)||void 0===e||e.refresh())}}refresh(){this._activeTool.refresh()}reset(){this._activeTool.reset(),this._advancedModeTransformTool.reset()}async enableAdvancedMode(){this.view.activeTool=this._controlPointsTransformTool,this._activeTool=this._controlPointsTransformTool,this._activeTool.refresh(),await this.advancedMode.view.when(),this.advancedMode.view.activeTool=this._advancedModeTransformTool,this._originalOpacity=this._controlPointsTransformTool.mediaElement.opacity,this._controlPointsTransformTool.mediaElement.opacity=.25*this._originalOpacity}disableAdvancedMode(){this.view.activeTool=this._transformTool,this._activeTool=this._transformTool,this._activeTool.refresh(),this.advancedMode.view.activeTool=null,this._controlPointsTransformTool.mediaElement.opacity=this._originalOpacity}};(0,a.Cg)([(0,c.MZ)()],be.prototype,"activeHandle",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0})],be.prototype,"advancedMode",void 0),(0,a.Cg)([(0,c.MZ)()],be.prototype,"preserveAspectRatio",void 0),(0,a.Cg)([(0,c.MZ)()],be.prototype,"snapRotation",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0,nonNullable:!0})],be.prototype,"mediaElement",void 0),(0,a.Cg)([(0,c.MZ)({constructOnly:!0})],be.prototype,"view",void 0),be=(0,a.Cg)([(0,h.$)("esri.views.2d.interactive.editingTools.MediaTransformToolsWrapper")],be)},60008:(e,t,i)=>{i.d(t,{A6:()=>_,B8:()=>u,Xd:()=>h,Xr:()=>m,Yc:()=>R,hZ:()=>g,lw:()=>p,t2:()=>x,x8:()=>c});var o=i(44680),a=i(4336),n=i(9392),r=i(53494),s=i(20664),l=i(43047);function c(e,t,i){i*=.5;const o=Math.sin(i);return e[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=Math.cos(i),e}function h(e,t){const i=2*Math.acos(t[3]),o=Math.sin(i/2);return o>(0,r.FD)()?(e[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o):(e[0]=1,e[1]=0,e[2]=0),i}function p(e,t,i){const o=t[0],a=t[1],n=t[2],r=t[3],s=i[0],l=i[1],c=i[2],h=i[3];return e[0]=o*h+r*s+a*c-n*l,e[1]=a*h+r*l+n*s-o*c,e[2]=n*h+r*c+o*l-a*s,e[3]=r*h-o*s-a*l-n*c,e}function d(e,t,i,o){const a=t[0],n=t[1],s=t[2],l=t[3];let c,h,p,d,u,m=i[0],y=i[1],_=i[2],f=i[3];return h=a*m+n*y+s*_+l*f,h<0&&(h=-h,m=-m,y=-y,_=-_,f=-f),1-h>(0,r.FD)()?(c=Math.acos(h),p=Math.sin(c),d=Math.sin((1-o)*c)/p,u=Math.sin(o*c)/p):(d=1-o,u=o),e[0]=d*a+u*m,e[1]=d*n+u*y,e[2]=d*s+u*_,e[3]=d*l+u*f,e}function u(e,t){const i=t[0],o=t[1],a=t[2],n=t[3],r=i*i+o*o+a*a+n*n,s=r?1/r:0;return e[0]=-i*s,e[1]=-o*s,e[2]=-a*s,e[3]=n*s,e}function m(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function y(e,t){const i=t[0]+t[4]+t[8];let o;if(i>0)o=Math.sqrt(i+1),e[3]=.5*o,o=.5/o,e[0]=(t[5]-t[7])*o,e[1]=(t[6]-t[2])*o,e[2]=(t[1]-t[3])*o;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);const a=(i+1)%3,n=(i+2)%3;o=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*n+n]+1),e[i]=.5*o,o=.5/o,e[3]=(t[3*a+n]-t[3*n+a])*o,e[a]=(t[3*a+i]+t[3*i+a])*o,e[n]=(t[3*n+i]+t[3*i+n])*o}return e}function _(e,t,i,o){const a=.5*Math.PI/180;t*=a,i*=a,o*=a;const n=Math.sin(t),r=Math.cos(t),s=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return e[0]=n*l*h-r*s*c,e[1]=r*s*h+n*l*c,e[2]=r*l*c-n*s*h,e[3]=r*l*h+n*s*c,e}const f=l.d,g=l.s,v=l.h,M=p,b=l.c,C=l.g,P=l.l,S=l.i,w=S,k=l.b,T=k,A=l.n,x=l.a,G=l.e;function R(e,t,i){const o=(0,s.f)(t,i);return o<-.999999?((0,s.i)(E,I,t),(0,s.H)(E)<1e-6&&(0,s.i)(E,L,t),(0,s.n)(E,E),c(e,E,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,s.i)(E,t,i),e[0]=E[0],e[1]=E[1],e[2]=E[2],e[3]=1+o,A(e,e))}const E=(0,n.vt)(),I=(0,n.fA)(1,0,0),L=(0,n.fA)(0,1,0);const O=(0,a.vt)(),z=(0,a.vt)();const V=(0,o.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:v,calculateW:function(e,t){const i=t[0],o=t[1],a=t[2];return e[0]=i,e[1]=o,e[2]=a,e[3]=Math.sqrt(Math.abs(1-i*i-o*o-a*a)),e},conjugate:m,copy:f,dot:C,equals:G,exactEquals:x,fromEuler:_,fromMat3:y,getAxisAngle:h,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:u,len:w,length:S,lerp:P,mul:M,multiply:p,normalize:A,random:function(e){const t=r.Ov,i=t(),o=t(),a=t(),n=Math.sqrt(1-i),s=Math.sqrt(i);return e[0]=n*Math.sin(2*Math.PI*o),e[1]=n*Math.cos(2*Math.PI*o),e[2]=s*Math.sin(2*Math.PI*a),e[3]=s*Math.cos(2*Math.PI*a),e},rotateX:function(e,t,i){i*=.5;const o=t[0],a=t[1],n=t[2],r=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=o*l+r*s,e[1]=a*l+n*s,e[2]=n*l-a*s,e[3]=r*l-o*s,e},rotateY:function(e,t,i){i*=.5;const o=t[0],a=t[1],n=t[2],r=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=o*l-n*s,e[1]=a*l+r*s,e[2]=n*l+o*s,e[3]=r*l-a*s,e},rotateZ:function(e,t,i){i*=.5;const o=t[0],a=t[1],n=t[2],r=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=o*l+a*s,e[1]=a*l-o*s,e[2]=n*l+r*s,e[3]=r*l-n*s,e},rotationTo:R,scale:b,set:g,setAxes:function(e,t,i,o){const a=V;return a[0]=i[0],a[3]=i[1],a[6]=i[2],a[1]=o[0],a[4]=o[1],a[7]=o[2],a[2]=-t[0],a[5]=-t[1],a[8]=-t[2],A(e,y(e,a))},setAxisAngle:c,slerp:d,sqlerp:function(e,t,i,o,a,n){return d(O,t,a,n),d(z,i,o,n),d(e,O,z,2*n*(1-n)),e},sqrLen:T,squaredLength:k,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))},71523:(e,t,i)=>{i.d(t,{Gw:()=>m,UT:()=>b,hs:()=>f,lR:()=>u,wW:()=>M});var o=i(18690),a=i(15941),n=i(2413),r=i(758),s=i(5262),l=i(52796),c=i(10484),h=i(83658),p=i(22375);function d(e,t,i,o){var a,n,r,s;if(null==o||e.hasZ||(o=void 0),"point"===e.type)return e.x+=t,e.y+=i,e.hasZ&&null!=o&&(e.z+=o),e;if("multipoint"===e.type){const a=e.points;for(let e=0;e<a.length;e++)a[e]=y(a[e],t,i,o);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=i,e.ymax+=i,null!=o&&(null!==(a=e.zmin)&&void 0!==a||(e.zmin=0),e.zmin+=o,null!==(n=e.zmax)&&void 0!==n||(e.zmax=0),e.zmax+=o),e;const l="polyline"===e.type?null!==(r=e.curvePaths)&&void 0!==r?r:e.paths:null!==(s=e.curveRings)&&void 0!==s?s:e.rings,h=(0,c.Ed)(e);for(let c=0;c<l.length;c++){const e=l[c];for(let a=0;a<e.length;a++)e[a]=_(e[a],t,i,o)}return"paths"in e?h?e.curvePaths=l:e.paths=l:h?e.curveRings=l:e.rings=l,e}function u(e,t,i,o,a){const n=e.clone();if(a){const{resolution:e}=o;d(n,t*e,-i*e)}else{const{dxMap:e,dyMap:a}=m(t,i,o);d(n,e,a)}return n}function m(e,t,i){const o=i.state.inverseTransform;return{dxMap:o[0]*e+o[2]*t,dyMap:o[1]*e+o[3]*t}}function y(e,t,i,o){return C(e,e[0]+t,e[1]+i,null!=e[2]&&null!=o?e[2]+o:void 0)}function _(e,t,i,o){const a=y((0,c.yP)(e),t,i,o);if((0,c.Xq)(e))return a;if((0,c.n1)(e)){const[,o,n]=e.b;return{b:[a,[o[0]+t,o[1]+i],[n[0]+t,n[1]+i]]}}if((0,c.aO)(e)){const[,o]=e.c;return{c:[a,[o[0]+t,o[1]+i]]}}const[,n,...r]=e.a;return{a:[a,[n[0]+t,n[1]+i],...r]}}function f(e,t,i,a){var l,h;if("point"===e.type){const{x:o,y:n}=e,r=a?a[0]:o,s=a?a[1]:n,l=e.clone(),c=(o-r)*t+r,h=(n-s)*i+s;return l.x=c,l.y=h,l}if("extent"===e.type){const{xmin:o,xmax:n,ymin:r,ymax:s}=e,l=a?a[0]:(o+n)/2,c=a?a[1]:(s+r)/2,h=e.clone();if(h.xmin=(o-l)*t+l,h.ymax=(s-c)*i+c,h.xmax=(n-l)*t+l,h.ymin=(r-c)*i+c,h.xmin>h.xmax){const e=h.xmin,t=h.xmax;h.xmin=t,h.xmax=e}if(h.ymin>h.ymax){const e=h.ymin,t=h.ymax;h.ymin=t,h.ymax=e}return h}let p=null;if(!a){p=(0,s.$K)(e);const t=(0,n.vt)(),i=(0,r.Yz)(t,p);if(!i)return e.clone();const[o,l,c,h]=i;a=[(o+c)/2,(l+h)/2]}const[d,u]=a;if("multipoint"===e.type){const o=e.clone(),a=o.points;for(let e=0;e<a.length;e++){const o=a[e],[n,r]=o,s=(n-d)*t+d,l=(r-u)*i+u;a[e]=C(o,s,l,void 0)}return o.points=a,o}const m=e.clone();null!==p&&void 0!==p||(p=(0,s.$K)(e));const y="polygon"===m.type,_=y?null!==(l=m.curveRings)&&void 0!==l?l:m.rings:null!==(h=m.curvePaths)&&void 0!==h?h:m.paths;if(!a){const e=(0,n.vt)(),t=(0,r.Yz)(e,_,!1,!1);if(!t)return m;a=(0,n.gX)(t)}for(const n of _){let e=null;const a=y&&n.length>0&&(0,o.aI)((0,c.yP)(n[0]),(0,c.yP)(n.at(-1)));for(let o=0;o<n.length;o++){const a=n[o];n[o]=v(a,t,i,d,u,e),e=a}a&&(n[0]=[...(0,c.yP)(n.at(-1))])}return m}function g(e,t,i,o,a){const[n,r,...s]=e;return[(n-o)*t+o,(r-a)*i+a,...s]}function v(e,t,i,o,a,n){if((0,c.Xq)(e))return g(e,t,i,o,a);if((0,c.n1)(e)){const[n,r,s]=e.b.map(e=>g(e,t,i,o,a));return{b:[n,r,s]}}if(!n)return e;const r=(0,c.yP)(n),s=(0,c.aO)(e)?(0,l.XE)(r,e):e,[d,u,m,y,_,f,v]=s.a,M=null!==_&&void 0!==_?_:0,b=null!==f&&void 0!==f?f:Math.hypot(d[0]-u[0],d[1]-u[1]),C=null!==v&&void 0!==v?v:1,P=(0,p.b)(o,a,1,0,0,1,t,i);return(0,h.H8)(r,{a:[[...d],[...u],m,y,M,b,C]},P)}function M(e,t,i,o,a,n){const r=Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));return Math.sqrt((a-e)*(a-e)+(n-t)*(n-t))/r}function b(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=Math.atan2(t.y-i.y,t.x-i.x)-Math.atan2(e.y-i.y,e.x-i.x),r=Math.atan2(Math.sin(n),Math.cos(n));return o?r:(0,a.KJ)(r)}function C(e,t,i,o){const a=[t,i];return e.length>2&&a.push(null!=o?o:e[2]),e.length>3&&a.push(e[3]),a}},75562:(e,t,i)=>{i.d(t,{J:()=>v});var o=i(39356),a=i(54901),n=i(76931),r=i(40565),s=i(19555),l=i(72745),c=i(9392),h=i(19247),p=i(23701),d=i(13312),u=i(89465),m=i(7246),y=i(76940),_=i(23862),f=i(63078),g=i(14727);class v extends g.b{constructor(e){super(),this._graphicsLayer=e,this._symbolPairingsByType=new Map}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new h.A({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol("intersectionPoint",t.view.effectiveTheme.accentColor))}visualizePoint(e,t){return this._visualizeSnappingIndicator(new h.A({x:e.point[0],y:e.point[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol("point",t.view.effectiveTheme.accentColor))}visualizeLine(e,t){return this._visualizeSnappingIndicator(new p.A({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:(0,r.PZ)(d.A,t.spatialReference)}),this._getOrCreateSymbol("line",t.view.effectiveTheme.accentColor))}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new p.A({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:(0,r.PZ)(d.A,t.spatialReference)}),this._getOrCreateSymbol("parallelSign",t.view.effectiveTheme.accentColor))}visualizeRightAngleQuad(e,t){const i=(0,l.vt)(),o=(0,l.vt)(),a=(0,c.vt)();(0,s.Re)(i,(0,_.Xz)(e.centerVertex),(0,_.Xz)(e.previousVertex)),(0,s.Re)(o,(0,_.Xz)(e.nextVertex),(0,_.Xz)(e.previousVertex)),(0,s.$A)(a,i,o);const n="rightAngleQuad".concat(a[2]<0?45:225);return this._visualizeSnappingIndicator(new p.A({paths:[[[...e.previousVertex],[...e.centerVertex],[...e.nextVertex]]],spatialReference:(0,r.PZ)(d.A,t.spatialReference)}),this._getOrCreateSymbol(n,t.view.effectiveTheme.accentColor))}_visualizeSnappingIndicator(e,t){const i=new o.A({geometry:e,symbol:t});return this._graphicsLayer.add(i),(0,a.hA)(()=>{this._graphicsLayer.remove(i)})}_getOrCreateSymbol(e,t){var i;const o=this._symbolPairingsByType;return(null===(i=o.get(e))||void 0===i?void 0:i.color)!==t&&o.set(e,{color:t,symbol:M(e,t)}),o.get(e).symbol}}function M(e,t){const i=[...t.toRgb(),255*t.a];switch(e){case"point":return new y.A({outline:{width:.5,color:[0,0,0,1]},size:10,color:t});case"intersectionPoint":return new y.A({outline:new m.A({width:1.5,color:t}),size:15,color:[0,0,0,0]});case"line":return new u.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,n.PN)(f.N.lineHintWidthTarget),color:i}]}}});case"parallelSign":return new u.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}});case"rightAngleQuad45":case"rightAngleQuad225":{const o="rightAngleQuad45"===e?45:225;return new u.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,n.PN)(f.N.rightAngleHintSize),rotation:o,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,n.PN)(f.N.rightAngleHintOutlineSize),color:i},{type:"CIMSolidFill",enable:!0,color:[...t.toRgb(),255*t.a*.4]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})}}}}}]);
//# sourceMappingURL=79.d9a98a8b.chunk.js.map